{"version":3,"sources":["services/coupon/actions.js","components/Mobile/Cart/Coupons/index.js"],"names":["__webpack_require__","d","__webpack_exports__","applyCoupon","userCoupons","removeCoupon","couponApplied","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","_configs__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","n","token","coupon","restaurant_id","subtotal","dispatch","Axios","post","APPLY_COUPON_URL","then","response","data","type","APPLY_COUPON","payload","COUPON_ERROR","catch","error","console","log","status","USER_COUPON_URL","usercoupons","USER_COUPONS","hideMessage","coupon_error","percentage_discount","appliedAmount","Coupons","state","inputCoupon","loading","couponFailed","couponFailedType","couponSubtotalMessage","coupons","showSuccess","error_msg","__getCartCoupons","user","_this","props","success","GET_CART_COUPON_URL","auth_token","location","restaurant_info","id","setState","warn","handleInput","event","target","value","handleSubmit","preventDefault","localStorage","setItem","context","router","history","goBack","setTimeout","__applyCoupon","code","_this2","this","document","getElementsByTagName","classList","add","getItem","nextProps","removeItem","remove","_this3","_this$props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","_helpers_meta__WEBPACK_IMPORTED_MODULE_6__","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","window","href","twittertitle","twitterdescription","_Mobile_Elements_BackWithSearch__WEBPACK_IMPORTED_MODULE_7__","boxshadow","has_title","title","disable_search","className","style","position","paddingTop","marginBottom","concat","onSubmit","placeholder","onChange","color","spellCheck","ref","onClick","backgroundColor","react_ink__WEBPACK_IMPORTED_MODULE_8___default","duration","length","map","index","react_reveal_Flip__WEBPACK_IMPORTED_MODULE_13___default","key","top","delay","animationFillMode","backfaceVisibility","animationDuration","animationDelay","animationIterationCount","opacity","animationName","src","alt","dangerouslySetInnerHTML","__html","display_text","can_be_applied","Component","contextTypes","connect","items"],"mappings":"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","file":"static/js/18.ef30dddc.chunk.js","sourcesContent":["import { USER_COUPONS, APPLY_COUPON, COUPON_ERROR } from \"./actionTypes\";\r\nimport { APPLY_COUPON_URL } from \"../../configs\";\r\nimport { USER_COUPON_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const applyCoupon = (token, coupon, restaurant_id, subtotal) => (dispatch) => {\r\n\treturn Axios.post(APPLY_COUPON_URL, {\r\n\t\ttoken: token,\r\n\t\tcoupon: coupon,\r\n\t\trestaurant_id: restaurant_id,\r\n\t\tsubtotal: subtotal,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst coupon = response.data;\r\n\r\n\t\t\treturn [dispatch({ type: APPLY_COUPON, payload: coupon }), dispatch({ type: COUPON_ERROR, payload: null })];\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\tif (error.response.status === 401) {\r\n\t\t\t\treturn dispatch({ type: COUPON_ERROR, payload: \"NOTLOGGEDIN\" });\r\n\t\t\t}\r\n\t\t});\r\n};\r\n\r\nexport const userCoupons = (token, restaurant_id) => (dispatch) => {\r\n\tAxios.post(USER_COUPON_URL, {\r\n\t\ttoken: token,\r\n\t\trestaurant_id: restaurant_id,\r\n\t})\r\n\t.then((response) => {\r\n\t\tconst usercoupons = response.data;\r\n\t\treturn dispatch({ type: USER_COUPONS, payload: usercoupons });\r\n\t})\r\n\t.catch(function(error) {\r\n\t\tconsole.log(error);\r\n\t});\r\n};\r\n\r\nexport const removeCoupon = () => (dispatch) => {\r\n\tconsole.log(\"Triggred Coupon Removed\");\r\n\r\n\tconst coupon = { hideMessage: true, coupon_error: \"\" };\r\n\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n};\r\n\r\nexport const couponApplied = (coupon, percentage_discount) => (dispatch) => {\r\n\tcoupon.appliedAmount = percentage_discount;\r\n\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Meta from \"../../../helpers/meta\";\r\nimport BackWithSearch from \"../../../Mobile/Elements/BackWithSearch\";\r\nimport Ink from \"react-ink\";\r\nimport { applyCoupon } from \"../../../../services/coupon/actions\";\r\nimport { GET_CART_COUPON_URL } from \"../../../../configs\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport Flip from \"react-reveal/Flip\";\r\n\r\nclass Coupons extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\t\r\n    state = {\r\n\t\tinputCoupon: \"\",\r\n\t\tloading: true,\r\n\t\tcouponFailed: false,\r\n\t\tcouponFailedType: \"\",\r\n\t\tcouponSubtotalMessage: \"\",\r\n\t\tsubtotal: null,\r\n\t\tcoupons: [],\r\n\t\tshowSuccess: false,\r\n\t\terror_msg: false,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log('this.props',this.props);\r\n\t\tthis.setState({subtotal: this.props.location.state});\r\n\t\tthis.__getCartCoupons()\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey\");\r\n\t\t// automatically apply coupon if already exists in localstorage\r\n\t\tif (localStorage.getItem(\"appliedCoupon\")) {\r\n\t\t\tthis.setState({ inputCoupon: localStorage.getItem(\"appliedCoupon\") }, () => {\r\n\t\t\t\t// this.refs.couponInput.defaultValue = localStorage.getItem(\"appliedCoupon\");\r\n\t\t\t\tconst { user } = this.props;\r\n\t\t\t\tconst token = user.success ? this.props.user.data.auth_token : null;\r\n\t\t\t\tthis.props.applyCoupon(\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tlocalStorage.getItem(\"appliedCoupon\"),\r\n\t\t\t\t\tthis.props.restaurant_info.id,\r\n\t\t\t\t\tthis.props.subtotal\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { coupon } = this.props;\r\n\t\tconsole.log('nextProps-coupon',coupon);\r\n\t\tlocalStorage.removeItem(\"showSuccessDialog\");\r\n\t\t//check if props changed after calling the server\r\n\t\tif (coupon !== nextProps.coupon) {\r\n\t\t\t//if nextProps.coupon is successful then\r\n\t\t\tif (nextProps.coupon.success) {\r\n\t\t\t\tconsole.log(\"SUCCESS COUPON\");\r\n\t\t\t\tlocalStorage.setItem(\"appliedCoupon\", nextProps.coupon.code);\r\n\t\t\t\tthis.setState({ couponFailed: false });\r\n\t\t\t}\r\n\t\t\t// else {\r\n\t\t\t// \tconsole.log(\"COUPON Removed\");\r\n\t\t\t// \t// coupon is invalid\r\n\t\t\t// \tconsole.log(\"FAILED COUPON\");\r\n\t\t\t// \tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t// \tthis.setState({\r\n\t\t\t// \t\tcouponFailed: !nextProps.coupon.hideMessage,\r\n\t\t\t// \t\tcouponFailedType: nextProps.coupon.type,\r\n\t\t\t// \t\tcouponSubtotalMessage: nextProps.coupon.message,\r\n\t\t\t// \t});\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t__getCartCoupons = () => {\r\n\t\tconst { user } = this.props;\r\n\t\tif(user.success){\r\n\t\t\tAxios.post(GET_CART_COUPON_URL, {\r\n\t\t\t\ttoken: user.data.auth_token,\r\n\t\t\t\tsubtotal: this.props.location.state,\r\n\t\t\t\trestaurant_id: this.props.restaurant_info.id\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log('response',response);\r\n\t\t\t\tif(response.data.success){\r\n\t\t\t\t\tthis.setState({coupons: response.data.coupons});\r\n\t\t\t\t\tthis.setState({loading: false });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.warn(error.response.data);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleInput = (event) => {\r\n\t\tthis.setState({ inputCoupon: event.target.value });\r\n\t};\r\n\r\n\thandleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { user } = this.props;\r\n\t\tconst token = user.success ? this.props.user.data.auth_token : null;\r\n\t\tthis.props.applyCoupon(token, this.state.inputCoupon, this.props.restaurant_info.id, this.props.location.state).then((response) => {\r\n\t\t\tif(response[0].payload.success){\r\n\t\t\t\tlocalStorage.setItem(\"showSuccessDialog\", \"true\");\r\n\t\t\t\t// this.context.router.history.push(\"/cart\");\r\n\t\t\t\tthis.context.router.history.goBack();\r\n\t\t\t}\r\n\t\t\tif(!response[0].payload.success){\r\n\t\t\t\tthis.setState({ error_msg: true });\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ error_msg: false });\r\n\t\t\t\t}, 2000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    componentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey\");\r\n\t}\r\n\r\n\t__applyCoupon = (code) => {\r\n\t\tconst { user } = this.props;\r\n\t\tconst token = user.success ? this.props.user.data.auth_token : null;\r\n\t\tthis.props.applyCoupon(token, code, this.props.restaurant_info.id, this.props.location.state).then((response) => {\r\n\t\t\tif(response[0].payload.success){\r\n\t\t\t\tlocalStorage.setItem(\"showSuccessDialog\", \"true\");\r\n\t\t\t\t// this.context.router.history.push(\"/cart\");\r\n\t\t\t\tthis.context.router.history.goBack();\r\n\t\t\t}\r\n\t\t\tif(!response[0].payload.success){\r\n\t\t\t\tthis.setState({ error_msg: true });\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ error_msg: false });\r\n\t\t\t\t}, 2000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    render() {\r\n        const { coupon, user } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Meta\r\n\t\t\t\t\tseotitle={\"Coupons\"}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n                <BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={\"Coupons & Offers\"}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t/>\r\n\t\t\t\t{(this.state.loading) && (\r\n\t\t\t\t\t<div className=\"height-100 overlay-loading ongoing-payment-spin\">\r\n\t\t\t\t\t\t<div className=\"spin-load\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.error_msg && (\r\n\t\t\t\t\t<div className=\"auth-error mb-50\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">Sorry, this offer is not available</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n                <div className=\"mx-15\" style={{position: 'relative', paddingTop: '5rem', marginBottom: '-3rem'}}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName={`coupon-form mb-3 ${!user.success && \"coupon-block-not-loggedin\"}`}\r\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control apply-coupon-input\"\r\n\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\"cartCouponText\")}\r\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\r\n\t\t\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\tspellCheck=\"false\"\r\n\t\t\t\t\t\t\t\tref=\"couponInput\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn apply-coupon-btn\" onClick={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorText\"),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"applyCouponButtonText\")}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n                    <hr />\r\n\t\t\t\t\t{this.state.coupons.length > 0 && (\r\n\t\t\t\t\t\t<div className=\"listedCartCoupons\">\r\n\t\t\t\t\t\t\t{this.state.coupons.map((coupon, index) => (\r\n\t\t\t\t\t\t\t\t<Flip key={index} top delay={100}>\r\n\t\t\t\t\t\t\t\t\t<div onClick={(event) => {event.preventDefault(); this.__applyCoupon(coupon.code)}} key={index} className=\"react-reveal position-relative blured-lg\" style={{animationFillMode: 'both', backfaceVisibility: 'visible', animationDuration: '1000ms', animationDelay: '0ms', animationIterationCount: 1, opacity: 1, animationName: 'react-reveal-620367998382870-2'}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"single-cart-coupon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-start mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img src=\"/assets/img/various/coupon-gift.png\" alt=\"Coupon\" className=\"single-cart-coupon-image mr-4\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"position-relative\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: coupon.display_text,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{coupon.can_be_applied && (<div className=\"single-cart-coupon-applyBtn\">Apply</div>)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Flip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tcoupon: state.coupon.coupon,\r\n\trestaurant_info: state.items.restaurant_info,\r\n\tuser: state.user.user,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ applyCoupon }\r\n)(Coupons);"],"sourceRoot":""}