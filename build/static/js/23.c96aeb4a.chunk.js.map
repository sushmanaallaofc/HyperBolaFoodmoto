{"version":3,"sources":["components/helpers/formatPrice.js","services/total/actions.js","components/helpers/calculateDistance.js","services/confirmCart/actions.js","services/checkout/actions.js","components/helpers/calculateDistanceGoogle.js","components/Mobile/Checkout/PaymentList/Stripe/StripeCard/index.js","components/Mobile/Checkout/PaymentList/Stripe/StripeIdeal/index.js","components/Mobile/Checkout/PaymentList/Stripe/StripeFpx/index.js","components/Mobile/Checkout/PaymentList/Flutterwave/index.js","components/Mobile/Checkout/PaymentList/index.js","components/Mobile/Checkout/index.js","services/paymentgateways/actions.js"],"names":["__webpack_require__","d","__webpack_exports__","formatPrice","price","parseFloat","updateCart","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","_components_helpers_formatPrice__WEBPACK_IMPORTED_MODULE_1__","cartProducts","dispatch","cartTotal","productQuantity","reduce","sum","p","totalPrice","addonTotal","selectedaddons","map","addonArray","quantity","type","UPDATE_CART","payload","calculateDistance","lon1","lat1","lon2","lat2","toRad","x","Math","PI","dLat","dLon","a","sin","cos","atan2","sqrt","checkConfirmCart","checkCartItemsAvailability","_configs__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","n","CONFIRM_CART","items","Axios","post","CHECK_CART_ITEMS_AVAILABILITY_URL","then","response","data","catch","error","console","log","placeOrder","_coupon_actionTypes__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","_total_actions__WEBPACK_IMPORTED_MODULE_4__","user","order","coupon","location","order_comment","total","method","payment_token","delivery_type","partial_wallet","distance","pending_payment","tipAmount","cash_change_amount","orderScheduledDeliveryDate","orderScheduledDeliveryTime","deliveryMethod","getState","PLACE_ORDER_URL","token","auth_token","dis","schedule_date","localStorage","getItem","JSON","parse","schedule_slot","checkout","success","PLACE_ORDER","cart","products","removeItem","i","length","splice","APPLY_COUPON","_calculateDistance__WEBPACK_IMPORTED_MODULE_0__","calculateDistanceGoogle","google","fn","origins","lat","lng","destinations","travelMode","maps","TravelMode","DRIVING","DistanceMatrixService","getDistanceMatrix","status","rows","elements","value","toFixed","CheckoutForm","state","postal","handleSubmit","_callee","event","_this$props","stripe","cardElement","_ref2","paymentMethod","id","regenerator_default","wrap","_context","prev","next","preventDefault","_this","props","getElement","CardNumberElement","createPaymentMethod","card","sent","handlePaymentProcessing","STRIPE_PAYMENT","amount","currency","payment_method_types","clientSecret","client_secret","confirmCardPayment","paymentIntent","e","err","stop","this","_this2","_this$props2","react_default","createElement","Fragment","onSubmit","htmlFor","react_stripe_umd","required","className","onChange","setState","target","disabled","Component","InjectedCheckoutForm","_ref3","StripeCard_CheckoutForm","stripePromise","loadStripe","locale","StripeCard","StripeCard_InjectedCheckoutForm","ELEMENT_OPTIONS","classes","base","focus","style","padding","fontSize","color","letterSpacing","::placeholder","invalid","name","errorMessage","ideal","IdealBankElement","Promise","resolve","handleConfirmIdealPayment","confirmIdealPayment","payment_method","billing_details","return_url","STRIPE_PAYMENT_CAPTURE","message","nextProps","_this$props3","options","StripeIdeal_CheckoutForm","connect","StripeIdeal_InjectedCheckoutForm","accountHolderType","fpx","FpxBankElement","handleConfirmFpxPayment","confirmFpxPayment","StripeFpx_CheckoutForm","StripeFpx_InjectedCheckoutForm","FlutterWave","getCountryId","reset","config","public_key","tx_ref","Date","now","country","payment_options","customer","email","phonenumber","phone","customizations","logo","window","origin","fwConfig","Object","objectSpread","text","callback","closePaymentModal","onClose","index_es","PaymentList","payment_gateway_loading","loading","stripe_opened","delivery_charges","store_surge_fee","razorpay_opened","razorpay_success","canPayPartialWithWallet","walletChecked","canPayFullWithWallet","placeOrderError","payWithStripeCard","payWithStripeIdeal","payWithStripeFpx","paymongoCCNumber","paymongoCCExp","paymongoCCCvv","showPaymongoForm","paymongoRedirect","paymongo_processing","cashChange","regexp","showCod","payuFormData","showConfirmation","__doesRestaurantOperatesAtThisLocation","restaurant_info","self","assertThisInitialized","handleProcessDistanceCalcLoading","longitude","latitude","default_address","delivery_charge_type","calculateDynamicDeliveryCharge","getStoreSurgeCalculation","surge_fee","enable_store_surge","store_surge_type","store_surge_rate","demand_surge_rate","distanceFromUserToRestaurant","delivery_charges_calc","base_delivery_distance","extraCharge","extra_delivery_distance","extra_delivery_charge","dynamicDeliveryCharge","base_delivery_charge","ceil","free_delivery_subtotal","surgeDeliveryCharge","deliveryCharge","restaurantInfo","surge_settings","enable_surge_below_distance","below_distance","below_distance_delivery_charge_type","calculateDistanceSurgeCharge","below_distance_delivery_charge","enable_surge_above_distance","above_distance","above_distance_delivery_charge_type","above_distance_delivery_charge","enable_surge_below_order","below_order_amount","below_order_delivery_charge_type","calculateSurgeCharge","below_order_delivery_charge","enable_surge_above_order","above_order_amount","above_order_delivery_charge_type","above_order_delivery_charge","concat","onOpened","onToken","__placeOrder","onSuccess","payment","onCancel","onError","reference","close","getReference","possible","charAt","floor","random","arguments","undefined","document","getElementById","remove","paymentgatewaysblock","getElementsByClassName","classList","add","resetPage","progressBar","progress","foo","setInterval","clearInterval","width","setTimeout","getTotalAfterCalculation","tips","calc","code","discount_type","percentage_discount","discount","max_discount","appliedAmount","restaurant_charges","wallet_balance","enable_item_tax","forEach","item","itemTotal","tax_percentage","itemTax","enable_item_addon_tax","addon","addonTax","getPayUFormData","order_id","PAYU_CREATE_ORDER_URL","payuMoneyData","form","setAttribute","keys","key","input","appendChild","body","submit","__handleKhaltiPayment","handleLoading","publicKey","productIdentity","productName","productUrl","eventHandler","__handleKhaltiPaymentSuccess","alert","KhaltiCheckout","totalAmount","show","get","KHALTI_PAYMENT_VERIFICATION_URL","params","idx","__handlePhonePe","foodomaa_order_id","foodomaa_unique_order_id","PHONEPE_CREATE_ORDER_URL","res","url","history","pushState","onpopstate","context","router","push","href","__handleRazorPay","RAZORPAY_CREATE_ORDER_URL","handler","RAZORPAY_PROCESS_VERIFY_URL","razorpay_order_id","razorpay_payment_id","razorpay_signature","modal","ondismiss","prefill","contact","Razorpay","open","handleInput","_event$target","defineProperty","__showPaymongoForm","handlePaymongo","paymongo_opened","PAYMONGO_PAYMENT_URL","ccNum","ccExp","ccCvv","paymongo_success","redirect_url","handlePayWithStripeCardToggle","refs","payWithStripeCardToggle","scrollIntoView","behavior","block","handlePayWithStripeIdealToggle","payWithStripeIdealToggle","handlePayWithStripeFpxToggle","payWithStripeFpxToggle","handlePaymentGatewayRedirect","redirectUrl","replace","__processFlutterWave","click","__showCashChangeBlock","cashAmountBlock","paymentListTitle","innerHTML","__handleCashInput","test","__handleCashInputConfirm","getRestaurantInfoById","updateUserInfo","gatewayStatus","payment_mode","MERCADOPAGO_PAYMENT_URL","orderstatus_id","unique_order_id","PAYTM_PAYMENT_URL","UPI_GATEWAY_PAYMENT_URL","langData","navigator","userAgent","Android","startRazorpaySdkProcess","googleLoadingStatus","_this3","client","sandbox","production","toPay","is_active","Redirect","to","paymentgateways","some","gateway","Helmet","src","react_content_loader_es","height","innerWidth","speed","primaryColor","secondaryColor","y","rx","ry","onClick","alt","defaultChecked","fontWeight","borderColor","ref","Stripe_StripeIdeal","Stripe_StripeFpx","Stripe_StripeCard","placeholder","backgroundColor","Flutterwave","paystack_min_default","embed","parseInt","paystackkey","tag","react_paypal_express_checkout_default","env","shipping","size","shape","react_payment_inputs_es","_ref","meta","getCardNumberProps","getExpiryDateProps","getCVCProps","assign","isTouched","role","dangerouslySetInnerHTML","__html","contextTypes","addresses","Checkout","process_distance_calc_loading","continueFetchPaymentGateway","gateways_received","fetchPaymentGateways","getPaymentGateways","retryPaymentGatewaySetInterval","handleToPayText","dataPrice","getElementsByTagName","confirmCart","helpers_meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","twittertitle","twitterdescription","BackWithSearch","boxshadow","has_title","title","disable_search","from_checkout","Checkout_PaymentList","GoogleApiWrapper","apiKey","LoadingContainer","Loading","restaurant_id","GET_PAYMENT_GATEWAYS_URL","GET_PAYMENT_GATEWAYS"],"mappings":"2FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAO,IAAMA,EAAc,SAAAC,GACvB,OAAIA,EACoBC,WAAWD,GAI5B,qCCNXJ,EAAAC,EAAAC,EAAA,sBAAAI,IAAA,IAAAC,EAAAP,EAAA,KAAAQ,EAAAR,EAAA,KAGaM,EAAa,SAAAG,GAAY,OAAI,SAAAC,GACzC,IAoBIC,EAAY,CACfC,gBArBqBH,EAAaI,OAAO,SAACC,EAAKC,GAG/C,QADAD,GAEE,GAkBFE,WAhBgBP,EAAaI,OAAO,SAACC,EAAKC,GAC1C,IAAIE,EAAa,EAUjB,OATIF,EAAEG,gBACLH,EAAEG,eAAeC,IAAI,SAAAC,GAEpB,OADAH,GAAcZ,WAAWe,EAAWhB,SAItCU,GAAOC,EAAEX,MAAQW,EAAEM,SAAWJ,EAAaF,EAAEM,SAC7CP,EAAMT,WAAWS,GACjBX,YAAYW,GACLA,GACL,IAOHJ,EAAS,CACRY,KAAMC,IACNC,QAASb,wCC/BXX,EAAAC,EAAAC,EAAA,sBAAAuB,IAAO,IAAMA,EAAoB,SAACC,EAAMC,EAAMC,EAAMC,GAChD,SAASC,EAAMC,GACX,OAAQA,EAAIC,KAAKC,GAAM,IAG3B,IAGIC,EAAOJ,EADFD,EAAOF,GAGZQ,EAAOL,EADFF,EAAOF,GAEZU,EAAIJ,KAAKK,IAAIH,EAAO,GAAKF,KAAKK,IAAIH,EAAO,GAAKF,KAAKM,IAAIR,EAAMH,IAASK,KAAKM,IAAIR,EAAMD,IAASG,KAAKK,IAAIF,EAAO,GAAKH,KAAKK,IAAIF,EAAO,GAGvI,OATQ,MAOA,EAAIH,KAAKO,MAAMP,KAAKQ,KAAKJ,GAAIJ,KAAKQ,KAAK,EAAIJ,wCCZvDpC,EAAAC,EAAAC,EAAA,sBAAAuC,IAAAzC,EAAAC,EAAAC,EAAA,sBAAAwC,IAAA,IAAAnC,EAAAP,EAAA,KAAA2C,EAAA3C,EAAA,GAAA4C,EAAA5C,EAAA,GAAA6C,EAAA7C,EAAA8C,EAAAF,GAIaH,EAAmB,kBAAM,SAAA/B,GAErC,OAAOA,EAAS,CAAEY,KAAMyB,IAAcvB,SADlB,MAIRkB,EAA6B,SAAAM,GAAK,OAAI,SAAAtC,GAClD,OAAOuC,IAAMC,KAAKC,IAAmC,CACpDH,MAAOA,IAENI,KAAK,SAAAC,GAGL,OAFaA,EAASC,OAKtBC,MAAM,SAASC,GACfC,QAAQC,IAAIF,yCCpBfxD,EAAAC,EAAAC,EAAA,sBAAAyD,IAAA,IAAApD,EAAAP,EAAA,KAAA2C,EAAA3C,EAAA,GAAA4D,EAAA5D,EAAA,IAAA6D,EAAA7D,EAAA,GAAA8D,EAAA9D,EAAA8C,EAAAe,GAAAE,EAAA/D,EAAA,KAOa2D,EAAa,SACzBK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAjByB,OAkBrB,SAACtE,EAAUuE,GACf,OAAOhC,IAAMC,KAAKgC,KAAiB,CAClCC,MAAOnB,EAAKV,KAAK8B,WACjBpB,KAAMA,EACNC,MAAOA,EACPC,OAAQA,EACRC,SAAUA,EACVC,cAAeA,EACfC,MAAOA,EACPC,OAAQA,EACRC,cAAeA,EACfC,cAAeA,EACfC,eAAgBA,EAChBY,IAAKX,EACLC,gBAAiBA,EACjBC,UAAWA,EACXC,mBAAoBA,EACpBS,cACuC,OAAtCC,aAAaC,QAAQ,aAAwBC,KAAKC,MAAMH,aAAaC,QAAQ,cAAgB,KAC9FG,cACuC,OAAtCJ,aAAaC,QAAQ,aAAwBC,KAAKC,MAAMH,aAAaC,QAAQ,cAAgB,KAC9FV,2BAA4BA,EAC5BC,2BAA4BA,EAC5BC,eAAgBA,IAEf5B,KAAK,SAACC,GACN,IAAMuC,EAAWvC,EAASC,KAE1B,GADAG,QAAQC,IAAI,kBACRkC,EAASC,QAyBZ,OAAOD,EAxBPlF,EAAS,CAAEY,KAAMwE,IAAatE,QAASoE,IAEvC,IAEMnF,EAFQwE,IAEac,KAAKC,SAEhCT,aAAaU,WAAW,gBACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,kBACxBV,aAAaU,WAAW,8BACxBV,aAAaU,WAAW,kCACxB,IAAK,IAAIC,EAAIzF,EAAa0F,OAAS,EAAGD,GAAK,EAAGA,IAE7CzF,EAAa2F,OAAOF,EAAG,GAGxBxF,EAASJ,YAAWG,IAEpB8E,aAAaU,WAAW,iBACxBV,aAAaU,WAAW,uBAExBvF,EAAS,CAAEY,KAAM+E,IAAc7E,QADhB,OAMhB+B,MAAM,SAASC,GACf,OAAOA,EAAMH,+CClFhB,IAAAiD,EAAAtG,EAAA,KA6BeuG,IA3BiB,SAAC7E,EAAMC,EAAMC,EAAMC,EAAM2E,EAAQC,GAChE,IAAMC,EAAU,CAAC,CAAEC,IAAKtG,WAAWsB,GAAOiF,IAAKvG,WAAWqB,KACpDmF,EAAe,CAAC,CAAEF,IAAKtG,WAAWwB,GAAO+E,IAAKvG,WAAWuB,KACzDkF,EAAaN,EAAOO,KAAKC,WAAWC,SAC1B,IAAIT,EAAOO,KAAKG,uBACxBC,kBACP,CACCT,QAASA,EACTG,aAAcA,EACdC,WAAYA,GAEb,SAACzD,EAAU+D,GAIV,GAHA3D,QAAQC,IAAI,WAAYL,GACxBI,QAAQC,IAAI,SAAUL,EAASgE,KAAK,GAAGC,SAAS,GAAGF,QAEP,OAAxC/D,EAASgE,KAAK,GAAGC,SAAS,GAAGF,OAAiB,CACjD,IAAI1C,GAAYrB,EAASgE,KAAK,GAAGC,SAAS,GAAG5C,SAAS6C,MAAQ,KAAMC,QAAQ,GAC5Ef,EAAG/B,OACG,CACNjB,QAAQC,IAAI,8CACZ,IAAIgB,EAAWjD,YAAkBC,EAAMC,EAAMC,EAAMC,GACnD4E,EAAG/B,4TCTD+C,6MACLC,MAAQ,CACPC,OAAQ,MAETC,mDAAe,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAAV,EAAAhE,EAAA2E,EAAAC,EAAA1E,EAAA2E,EAAAC,EAAA,OAAAC,EAAAjG,EAAAkG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACdX,EAAMY,iBADQX,EAGqBY,EAAKC,MAAhCZ,EAHMD,EAGNC,OAAQV,EAHFS,EAGET,SAAUhE,EAHZyE,EAGYzE,KAEpB2E,EAAcX,EAASuB,WAAWC,qBAL1BP,EAAAE,KAAA,EAOyBT,EAAOe,oBAAoB,CACjEzH,KAAM,OACN0H,KAAMf,IATO,OAAAC,EAAAK,EAAAU,KAONzF,EAPM0E,EAON1E,MAAO2E,EAPDD,EAOCC,cAKV3E,EAkCJC,QAAQC,IAAIF,IAjCZF,EAAKA,KAAK4F,yBAAwB,GAC1Bd,EAAOD,EAAPC,GACRnF,IAAMC,KAAKiG,KAAgB,CAC1BhE,MAAO7B,EAAKA,KAAKU,KAAKV,KAAK8B,WAC3BgD,GAAIA,EACJgB,OAA0B,IAAlB9F,EAAKA,KAAKe,MAClBgF,SAAU9D,aAAaC,QAAQ,cAC/B8D,qBAAsB,CAAC,UAEtBlG,KAAK,SAACC,GACNI,QAAQC,IAAI,cAAeL,EAASC,MADjB,IAEIiG,EAAiBlG,EAASC,KAAzCkG,cACR/F,QAAQC,IAAI6F,GACZvB,EACEyB,mBAAmBF,GACnBnG,KAAK,SAACC,GACFA,EAASqG,eAAmD,cAAlCrG,EAASqG,cAActC,QACpD3D,QAAQC,IAAI,yBACZJ,EAAKA,KAAKK,WAAW,GAAI,YAEzBF,QAAQC,IAAI,2BACZJ,EAAKA,KAAK4F,yBAAwB,MAGnC3F,MAAM,SAASoG,GACflG,QAAQC,IAAIiG,OAGdpG,MAAM,SAASqG,GACftG,EAAKA,KAAK4F,yBAAwB,GAClCzF,QAAQC,IAAIkG,MA3CD,wBAAArB,EAAAsB,SAAAhC,EAAAiC,uIAkDN,IAAAC,EAAAD,KAAAE,EACiBF,KAAKlB,MAAtBZ,EADAgC,EACAhC,OAAQ1E,EADR0G,EACQ1G,KAEhB,OACC2G,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,QAAME,SAAUN,KAAKlC,cAGpBqC,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,cAAc9E,aAAaC,QAAQ,uBAClDyE,EAAA7H,EAAA8H,cAACI,EAAA,kBAAD,CAAmBlC,GAAG,eACtB6B,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,UAAU9E,aAAaC,QAAQ,2BAC9CyE,EAAA7H,EAAA8H,cAACI,EAAA,kBAAD,CAAmBlC,GAAG,WACtB6B,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,OAAO9E,aAAaC,QAAQ,oBAC3CyE,EAAA7H,EAAA8H,cAACI,EAAA,eAAD,CAAgBlC,GAAG,QACmC,SAArD7C,aAAaC,QAAQ,6BACrByE,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,UAAU9E,aAAaC,QAAQ,2BAC9CyE,EAAA7H,EAAA8H,cAAA,SACC9B,GAAG,SACHmC,UAAQ,EACRhD,MAAOuC,KAAKpC,MAAMC,OAClB6C,UAAU,6BACVC,SAAU,SAACd,GACVI,EAAKW,SAAS,CAAE/C,OAAQgC,EAAEgB,OAAOpD,YAMrC0C,EAAA7H,EAAA8H,cAAA,UAAQ5I,KAAK,SAASsJ,UAAW5C,EAAQwC,UAAU,sBACjDjF,aAAaC,QAAQ,mBAAoB,IACO,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBlC,EAAKA,KAAKe,MACsC,UAAhDkB,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,4BAzFDqF,aAiGrBC,EAAuB,SAACxH,GAAD,OAC5B2G,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAACI,EAAA,iBAAD,KACE,SAAAS,GAAA,IAAG/C,EAAH+C,EAAG/C,OAAQV,EAAXyD,EAAWzD,SAAX,OAA0B2C,EAAA7H,EAAA8H,cAACc,EAAD,CAAchD,OAAQA,EAAQV,SAAUA,EAAUhE,KAAMA,QAKhF2H,EAAgBC,YAAW3F,aAAaC,QAAQ,mBAAoB,CACzE2F,OAAQ5F,aAAaC,QAAQ,kBASf4F,EANI,SAAC9H,GAAD,OAClB2G,EAAA7H,EAAA8H,cAACI,EAAA,SAAD,CAAUtC,OAAQiD,GACjBhB,EAAA7H,EAAA8H,cAACmB,EAAD,CAAsB/H,KAAMA,MCrHxBgI,EAAkB,CACvBC,QAAS,CACRC,KAAM,qBACNC,MAAO,6BAERC,MAAO,CACNF,KAAM,CACLG,QAAS,WACTC,SAAU,OACVC,MAAO,UACPC,cAAe,UACfC,gBAAiB,CAChBF,MAAO,YAGTG,QAAS,CACRH,MAAO,aAKJpE,6MACLC,MAAQ,CACPuE,KAAM,GACNC,aAAc,KACd/D,cAAe,KACfqB,cAAe,MAGhB5B,mDAAe,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAAV,EAAAhE,EAAA4E,EAAA1E,EAAA2E,EAAAC,EAAA,OAAAC,EAAAjG,EAAAkG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACdX,EAAMY,iBADQX,EAEqBY,EAAKC,MAAhCZ,EAFMD,EAENC,OAAQV,EAFFS,EAEET,SAAUhE,EAFZyE,EAEYzE,KAFZiF,EAAAE,KAAA,EAIyBT,EAAOe,oBAAoB,CACjEzH,KAAM,QACN6K,MAAO7E,EAASuB,WAAWuD,sBANd,OAAAlE,EAAAK,EAAAU,KAINzF,EAJM0E,EAIN1E,MAAO2E,EAJDD,EAICC,cAKV3E,IACJF,EAAKA,KAAK4F,yBAAwB,GAC1Bd,EAAOD,EAAPC,GACRnF,IAAMC,KAAKiG,KAAgB,CAC1BhE,MAAO7B,EAAKA,KAAKU,KAAKV,KAAK8B,WAC3BgD,GAAIA,EACJgB,OAA0B,IAAlB9F,EAAKA,KAAKe,MAClBgF,SAAU,MACVC,qBAAsB,CAAC,WAEtBlG,KAAK,SAACC,GAEkB,IAAIgJ,QAAQ,SAACC,GACpChJ,EAAKA,KAAKK,WAAW,GAAI,UAAU,GACnC2I,EAAQ,kBAEOlJ,KAAK,WACpBuF,EAAK+B,SAAS,CAAElB,cAAenG,EAASC,KAAKkG,oBAI9CjG,MAAM,SAASC,GACfF,EAAKA,KAAK4F,yBAAwB,GAClCzF,QAAQC,IAAIF,MAhCD,wBAAA+E,EAAAsB,SAAAhC,EAAAiC,iEAqCfyC,0BAA4B,SAACtI,GAAU,IAAA+F,EACTrB,EAAKC,MAA1BZ,EAD8BgC,EAC9BhC,OAAQV,EADsB0C,EACtB1C,SAGhB,GAAiC,KAA7BqB,EAAKjB,MAAM8B,cAAsB,KAC5BhG,EAAUwE,EAAOwE,oBAAoB7D,EAAKjB,MAAM8B,cAAe,CACtEiD,eAAgB,CACfN,MAAO7E,EAASuB,WAAWuD,oBAC3BM,gBAAiB,CAChBT,KAAMtD,EAAKjB,MAAMuE,OAGnBU,WAAYC,KAAyB,aAAe3I,EAAMX,KAAK8E,KAPxD5E,MASJA,GACHC,QAAQC,IAAIF,EAAMqJ,oGAIKC,GACrBhD,KAAKlB,MAAMtF,KAAKA,KAAKsC,WAAakH,EAAUxJ,KAAKA,KAAKsC,WACzDnC,QAAQC,IAAI,gBACZoG,KAAKyC,0BAA0BO,EAAUxJ,KAAKA,KAAKsC,4CAI5C,IAAAmE,EAAAD,KAAAiD,EAEiBjD,KAAKlB,MAAtBZ,EAFA+E,EAEA/E,OAAQ1E,EAFRyJ,EAEQzJ,KAEhB,OACC2G,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,QAAME,SAAUN,KAAKlC,cACpBqC,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,QAAQ9E,aAAaC,QAAQ,yBAC5CyE,EAAA7H,EAAA8H,cAAA,SACC9B,GAAG,OACHmC,UAAQ,EACRC,UAAU,6BACVC,SAAU,SAAC3C,GACViC,EAAKW,SAAS,CAAEuB,KAAMnE,EAAM6C,OAAOpD,WAGrC0C,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,SAAS9E,aAAaC,QAAQ,gCAC7CyE,EAAA7H,EAAA8H,cAACI,EAAA,iBAAD,CAAkBlC,GAAG,QAAQ4E,QAAS1B,IACtCrB,EAAA7H,EAAA8H,cAAA,UAAQ5I,KAAK,SAASsJ,UAAW5C,EAAQwC,UAAU,sBACjDjF,aAAaC,QAAQ,mBAAoB,IACO,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBlC,EAAKA,KAAKe,MACsC,UAAhDkB,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,4BA/FDqF,aAuGrBC,EAAuB,SAACxH,GAAD,OAC5B2G,EAAA7H,EAAA8H,cAACI,EAAA,iBAAD,KACE,SAAAS,GAAA,IAAG/C,EAAH+C,EAAG/C,OAAQV,EAAXyD,EAAWzD,SAAX,OAA0B2C,EAAA7H,EAAA8H,cAAC+C,EAAD,CAAcjF,OAAQA,EAAQV,SAAUA,EAAUhE,KAAMA,OAM/E2H,EAAgBC,YAAW3F,aAAaC,QAAQ,mBAAoB,CACzE2F,OAAQ5F,aAAaC,QAAQ,kBAiBf0H,cAJS,SAACxF,GAAD,MAAY,CACnC9B,SAAU8B,EAAM9B,SAASA,WAKzB,GAFcsH,CAdK,SAAC5J,GACpB,OACC2G,EAAA7H,EAAA8H,cAACI,EAAA,SAAD,CAAUtC,OAAQiD,GACjBhB,EAAA7H,EAAA8H,cAACiD,EAAD,CAAsB7J,KAAMA,OC3IzBgI,EAAkB,CACvB8B,kBAAmB,aACnB7B,QAAS,CACRC,KAAM,mBACNC,MAAO,2BAERC,MAAO,CACNF,KAAM,CACLG,QAAS,WACTC,SAAU,OACVC,MAAO,UACPC,cAAe,UACfC,gBAAiB,CAChBF,MAAO,YAGTG,QAAS,CACRH,MAAO,aAKJpE,6MACLC,MAAQ,CACPuE,KAAM,GACNC,aAAc,KACd/D,cAAe,KACfqB,cAAe,MAGhB5B,mDAAe,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAAV,EAAAhE,EAAA4E,EAAA1E,EAAA2E,EAAAC,EAAA,OAAAC,EAAAjG,EAAAkG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACdX,EAAMY,iBADQX,EAGqBY,EAAKC,MAAhCZ,EAHMD,EAGNC,OAAQV,EAHFS,EAGET,SAAUhE,EAHZyE,EAGYzE,KAHZiF,EAAAE,KAAA,EAMyBT,EAAOe,oBAAoB,CACjEzH,KAAM,MACN+L,IAAK/F,EAASuB,WAAWyE,oBARZ,OAAApF,EAAAK,EAAAU,KAMNzF,EANM0E,EAMN1E,MAAO2E,EANDD,EAMCC,cAKV3E,IACJF,EAAKA,KAAK4F,yBAAwB,GAC1Bd,EAAOD,EAAPC,GACRnF,IAAMC,KAAKiG,KAAgB,CAC1BhE,MAAO7B,EAAKA,KAAKU,KAAKV,KAAK8B,WAC3BgD,GAAIA,EACJgB,OAA0B,IAAlB9F,EAAKA,KAAKe,MAClBgF,SAAU,MACVC,qBAAsB,CAAC,SAEtBlG,KAAK,SAACC,GAEkB,IAAIgJ,QAAQ,SAACC,GACpChJ,EAAKA,KAAKK,WAAW,GAAI,UAAU,GACnC2I,EAAQ,kBAEOlJ,KAAK,WACpBuF,EAAK+B,SAAS,CAAElB,cAAenG,EAASC,KAAKkG,oBAI9CjG,MAAM,SAASC,GACfF,EAAKA,KAAK4F,yBAAwB,GAClCzF,QAAQC,IAAIF,MAlCD,wBAAA+E,EAAAsB,SAAAhC,EAAAiC,iEAuCfyD,wBAA0B,SAACtJ,GAAU,IAAA+F,EACPrB,EAAKC,MAA1BZ,EAD4BgC,EAC5BhC,OAAQV,EADoB0C,EACpB1C,SAChB,GAAiC,KAA7BqB,EAAKjB,MAAM8B,cAAsB,KAC5BhG,EAAUwE,EAAOwF,kBAAkB7E,EAAKjB,MAAM8B,cAAe,CACpEiD,eAAgB,CACfY,IAAK/F,EAASuB,WAAWyE,kBACzBZ,gBAAiB,CAChBT,KAAMtD,EAAKjB,MAAMuE,OAGnBU,WAAYC,KAAyB,aAAe3I,EAAMX,KAAK8E,KAPxD5E,MAUJA,GACHC,QAAQC,IAAIF,EAAMqJ,oGAIKC,GACrBhD,KAAKlB,MAAMtF,KAAKA,KAAKsC,WAAakH,EAAUxJ,KAAKA,KAAKsC,WACzDnC,QAAQC,IAAI,gBACZoG,KAAKyD,wBAAwBT,EAAUxJ,KAAKA,KAAKsC,4CAI1C,IAAAmE,EAAAD,KAAAiD,EAEiBjD,KAAKlB,MAAtBZ,EAFA+E,EAEA/E,OAAQ1E,EAFRyJ,EAEQzJ,KAEhB,OACC2G,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,QAAME,SAAUN,KAAKlC,cACpBqC,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,QAAQ9E,aAAaC,QAAQ,yBAC5CyE,EAAA7H,EAAA8H,cAAA,SACC9B,GAAG,OACHmC,UAAQ,EACRC,UAAU,6BACVC,SAAU,SAAC3C,GACViC,EAAKW,SAAS,CAAEuB,KAAMnE,EAAM6C,OAAOpD,WAGrC0C,EAAA7H,EAAA8H,cAAA,SAAOG,QAAQ,OAAO9E,aAAaC,QAAQ,8BAC3CyE,EAAA7H,EAAA8H,cAACI,EAAA,eAAD,CAAgB8C,kBAAkB,aAAahF,GAAG,MAAM4E,QAAS1B,IACjErB,EAAA7H,EAAA8H,cAAA,UAAQ5I,KAAK,SAASsJ,UAAW5C,EAAQwC,UAAU,sBACjDjF,aAAaC,QAAQ,mBAAoB,IACO,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBlC,EAAKA,KAAKe,MACsC,UAAhDkB,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,4BAhGDqF,aAwGrBC,EAAuB,SAACxH,GAAD,OAC5B2G,EAAA7H,EAAA8H,cAACI,EAAA,iBAAD,KACE,SAAAS,GAAA,IAAG/C,EAAH+C,EAAG/C,OAAQV,EAAXyD,EAAWzD,SAAX,OAA0B2C,EAAA7H,EAAA8H,cAACuD,EAAD,CAAczF,OAAQA,EAAQV,SAAUA,EAAUhE,KAAMA,OAM/E2H,EAAgBC,YAAW3F,aAAaC,QAAQ,mBAAoB,CACzE2F,OAAQ5F,aAAaC,QAAQ,kBAiBf0H,cAJS,SAACxF,GAAD,MAAY,CACnC9B,SAAU8B,EAAM9B,SAASA,WAKzB,GAFcsH,CAdG,SAAC5J,GAClB,OACC2G,EAAA7H,EAAA8H,cAACI,EAAA,SAAD,CAAUtC,OAAQiD,GACjBhB,EAAA7H,EAAA8H,cAACwD,EAAD,CAAsBpK,KAAMA,yCCrFhBqK,6MA5DdC,aAAe,WACd,OAAQrI,aAAaC,QAAQ,eAC5B,IAAK,MACJ,MAAO,KACR,IAAK,MACJ,MAAO,KACR,IAAK,MACJ,MAAO,KACR,IAAK,MACJ,MAAO,KACR,QACC,MAAO,+EAID,IAAAuC,EACmC+B,KAAKlB,MAAxCvE,EADA0D,EACA1D,MAAOL,EADP+D,EACO/D,KAAML,EADboE,EACapE,WAAYkK,EADzB9F,EACyB8F,MAC3BC,EAAS,CACdC,WAAYxI,aAAaC,QAAQ,wBACjCwI,OAAQC,KAAKC,MACb9E,OAAQ/E,EACRgF,SAAU9D,aAAaC,QAAQ,cAC/B2I,QAASrE,KAAK8D,eACdQ,gBACC,oJACDC,SAAU,CACTC,MAAOtK,EAAKV,KAAKgL,MACjBC,YAAavK,EAAKV,KAAKkL,MACvBvC,KAAMjI,EAAKV,KAAK2I,MAEjBwC,eAAgB,CACfC,KAAMC,OAAOxK,SAASyK,OAAS,wBAA0BrJ,aAAaC,QAAQ,mBAI1EqJ,EAAQC,OAAAC,EAAA,EAAAD,CAAA,GACVhB,EADU,CAEbkB,KAAM,uBACNxE,UAAW,kBACXyE,SAAU,SAAC5L,GACVI,QAAQC,IAAIL,GACY,eAApBA,EAAS+D,QACZzD,EAAW,GAAI,eAGhBuL,eAEDC,QAAS,WACR1L,QAAQC,IAAI,uBACZmK,OAGF,OACC5D,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAACkF,EAAA,EAAsBP,WAvDDhE,kCCwCpBwE,8MAIL3H,MAAQ,CACP4H,yBAAyB,EACzBC,SAAS,EACTC,eAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBlM,OAAO,EACPmM,iBAAiB,EACjBC,kBAAkB,EAClBC,yBAAyB,EACzBC,eAAe,EACfC,sBAAsB,EACtBrL,SAAU,EACVsL,iBAAiB,EACjB9D,aAAc,GAEd+D,mBAAmB,EACnBC,oBAAoB,EACpBC,kBAAkB,EAElBC,iBAAkB,GAClBC,cAAe,GACfC,cAAe,GACfC,kBAAkB,EAClBC,iBAAkB,GAClBC,qBAAqB,EAErBC,WAAY,GACZC,OAAQ,aACRC,SAAS,EACTC,aAAc,KACTC,kBAAkB,KAoKxBC,uCAAyC,SAACC,GAAoB,IAErDhN,EAAS2E,EAAKC,MAAd5E,KACR,GAAIA,EAAK6B,QAAS,CACjB,IAAIoL,EAAInC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAnG,IAER,GAAuC,SAAnCpD,aAAaC,QAAQ,UACqB,aAAzCD,aAAaC,QAAQ,kBACxBmD,EAAKC,MAAMuI,kCAAiC,GAE5C5K,YACCyK,EAAgBI,UAChBJ,EAAgBK,SAChBrN,EAAKV,KAAKgO,gBAAgBF,UAC1BpN,EAAKV,KAAKgO,gBAAgBD,SAC1B1I,EAAKC,MAAMpC,OACX,SAAS9B,GACgD,YAApDuM,EAAKrI,MAAMoI,gBAAgBO,sBAC9BN,EAAKvG,SAAS,CAAEhG,SAAUA,GAAY,WAErCuM,EAAKO,mCAGPP,EAAKrI,MAAMuI,kCAAiC,WAK/C,GAA6C,aAAzC5L,aAAaC,QAAQ,gBAAgC,CACxD,IAAMd,EAAWjD,YAChBuP,EAAgBI,UAChBJ,EAAgBK,SAChBrN,EAAKV,KAAKgO,gBAAgBF,UAC1BpN,EAAKV,KAAKgO,gBAAgBD,UAE6B,YAApD1I,EAAKC,MAAMoI,gBAAgBO,sBAC9B5I,EAAK+B,SAAS,CAAEhG,SAAUA,GAAY,WAErCiE,EAAK6I,wCAQXC,yBAA2B,SAAC7I,GAAU,IAC7BvE,EAA2BuE,EAA3BvE,MAAO2M,EAAoBpI,EAApBoI,gBACXU,EAAY,EAE2B,IAAvCV,EAAgBW,qBAInBD,GAH4D,eAArCV,EAAgBY,iBACnCvN,EAAQhE,WAAW2Q,EAAgBa,kBAAoB,IACxDxR,WAAW2Q,EAAgBa,mBAG3Bb,EAAgBc,kBAAoB,IAEvCJ,GADuBrR,WAAW2Q,EAAgBc,oBAInD,OAAO3R,YAAYuR,MAGpBF,+BAAiC,WAAM,IAC9BR,EAAoBrI,EAAKC,MAAzBoI,gBAGFe,GAFQpJ,EAAKC,MAAMjI,UAAUK,WAEE2H,EAAKjB,MAAMhD,UAE5CsN,EAAwB,EAC5B,GAAID,EAA+Bf,EAAgBiB,uBAAwB,CAC1E,IAGMC,GAHgBH,EAA+Bf,EAAgBiB,wBAInDjB,EAAgBmB,wBAA2BnB,EAAgBoB,sBAGzEC,EAAwBhS,WAAW2Q,EAAgBsB,sBAAwBjS,WAAW6R,GAC9C,SAAxC3M,aAAaC,QAAQ,iBACxB6M,EAAwBrQ,KAAKuQ,KAAKF,IAGnCL,EAAwBK,EACxB5O,QAAQC,IAAI,YAAcsO,QAE1BA,EAAwBhB,EAAgBsB,qBACxC7O,QAAQC,IAAI,UAAYsO,GAGrB3R,WAAW2Q,EAAgBwB,wBAA0B,GACpDnS,WAAWsI,EAAKC,MAAMjI,UAAUK,aAAeX,WAAW2Q,EAAgBwB,yBAC7E/O,QAAQC,IAAI,8BACZiF,EAAK+B,SAAS,CAAE+E,iBAAkB,KAMnC9G,EAAK8J,oBAAoB9J,EAAKC,MAAMjI,UAAUK,WAAYgR,MAO5DS,oBAAsB,SAACpO,EAAOqO,GAC7B,IAAMC,EAAiBhK,EAAKC,MAAMoI,gBAClC,GAAI2B,GAAkBA,EAAeC,eAAgB,KAC5CA,EAAmBjK,EAAKC,MAAMoI,gBAA9B4B,eACFb,EAA+BpJ,EAAKjB,MAAMhD,SAE5CkO,EAAeC,6BAA+BxS,WAAW0R,IAAiC1R,WAAWuS,EAAeE,gBAE5D,YAAvDF,EAAeG,oCAClBpK,EAAKqK,6BAA6B,QAASJ,GAI3CjK,EAAK+B,SAAS,CAAE+E,iBAAkBmD,EAAeK,iCAExCL,EAAeM,6BAA+B7S,WAAW0R,GAAgC1R,WAAWuS,EAAeO,gBAElE,YAAvDP,EAAeQ,oCAClBzK,EAAKqK,6BAA6B,QAASJ,GAI3CjK,EAAK+B,SAAS,CAAE+E,iBAAkBmD,EAAeS,iCAK9CT,EAAeU,0BAA4BjT,WAAWgE,IAAUhE,WAAWuS,EAAeW,oBAErC,YAApDX,EAAeY,iCAClB7K,EAAK8K,qBAAqB,QAASb,GAInCjK,EAAK+B,SAAS,CAAE+E,iBAAkBmD,EAAec,8BAI1Cd,EAAee,0BAA4BtT,WAAWgE,GAAShE,WAAWuS,EAAegB,oBAEzC,YAApDhB,EAAeiB,iCAClBlL,EAAK8K,qBAAqB,QAASb,GAInCjK,EAAK+B,SAAS,CAAE+E,iBAAkBmD,EAAekB,8BAKlDnL,EAAK+B,SAAS,CAAE+E,iBAAkBiD,SAIpC/J,EAAK+B,SAAS,CAAE+E,iBAAkBiD,OAIpCe,qBAAuB,SAACnS,EAAMsR,GAC7B,IAAMb,EAA+BpJ,EAAKjB,MAAMhD,SAE1CuN,EAAyBW,EAAc,GAAAmB,OAAIzS,EAAJ,kCACvCgR,EAAuBM,EAAc,GAAAmB,OAAIzS,EAAJ,gCACrC6Q,EAA0BS,EAAc,GAAAmB,OAAIzS,EAAJ,mCACxC8Q,EAAwBQ,EAAc,GAAAmB,OAAIzS,EAAJ,iCAE5C,GAAIyQ,EAA+BE,EAAwB,CAC1D,IAEMC,GAFgBH,EAA+BE,GAEhBE,EAA2BC,EAE5DK,EAAsBpS,WAAWiS,GAAwBjS,WAAW6R,GAE5B,SAAxC3M,aAAaC,QAAQ,iBACxBiN,EAAsBzQ,KAAKuQ,KAAKE,IAGjC9J,EAAK+B,SAAS,CAAE+E,iBAAkBgD,SAElC9J,EAAK+B,SAAS,CAAE+E,iBAAkB6C,OAIpCU,6BAA+B,SAAC1R,EAAMsR,GACrC,IAAMb,EAA+BpJ,EAAKjB,MAAMhD,SAE1CuN,EAAyBW,EAAc,GAAAmB,OAAIzS,EAAJ,qCACvCgR,EAAuBM,EAAc,GAAAmB,OAAIzS,EAAJ,mCACrC6Q,EAA0BS,EAAc,GAAAmB,OAAIzS,EAAJ,sCACxC8Q,EAAwBQ,EAAc,GAAAmB,OAAIzS,EAAJ,oCAE5C,GAAIyQ,EAA+BE,EAAwB,CAC1D,IAEMC,GAFgBH,EAA+BE,GAEhBE,EAA2BC,EAE5DK,EAAsBpS,WAAWiS,GAAwBjS,WAAW6R,GAE5B,SAAxC3M,aAAaC,QAAQ,iBACxBiN,EAAsBzQ,KAAKuQ,KAAKE,IAGjC9J,EAAK+B,SAAS,CAAE+E,iBAAkBgD,SAElC9J,EAAK+B,SAAS,CAAE+E,iBAAkB6C,OAoBpC0B,SAAW,WACVrL,EAAK+B,SAAS,CAAE8E,eAAe,OAEhCyE,QAAU,SAAC1P,GAEVoE,EAAKuL,aAAa3P,EADH,aAMhB4P,UAAY,SAACC,GAGZzL,EAAKuL,aAFiB,GACP,aAIhBG,SAAW,SAAC/Q,GACXG,QAAQC,IAAI,8BAGb4Q,QAAU,SAAC1K,GACVnG,QAAQC,IAAI,aAKbuL,SAAW,SAAC5L,GACX,GAAwB,YAApBA,EAAS+D,OAAsB,CAClC,IAAM7C,EAAgBlB,EAASkR,UAE/B5L,EAAKuL,aAAa3P,EADH,iBAGfd,QAAQC,IAAIL,MAIdmR,MAAQ,WACP/Q,QAAQC,IAAI,8BAGb+Q,aAAe,WAKd,IAHA,IAAIzF,EAAO,GACP0F,EAAW,oEAENxO,EAAI,EAAGA,EAAI,GAAIA,IAAK8I,GAAQ0F,EAASC,OAAO3S,KAAK4S,MAAM5S,KAAK6S,SAAWH,EAASvO,SAEzF,OAAO6I,KAIRkF,aAAe,SAAC3P,EAAeD,GAAoC,IAA5BK,EAA4BmQ,UAAA3O,OAAA,QAAA4O,IAAAD,UAAA,IAAAA,UAAA,GACrDE,SAASC,eAAe,yBAEpCD,SAASC,eAAe,wBAAwBC,SAKjD,IADA,IAAIC,EAAuBH,SAASI,uBAAuB,uBAClDlP,EAAI,EAAGA,EAAIiP,EAAqBhP,OAAQD,IAChDiP,EAAqBjP,GAAGmP,UAAUC,IAAI,YAGvC,IAAI1Q,EAAY,KAChBnB,QAAQC,IAAI,YAAa+B,KAAKC,MAAMH,aAAaC,QAAQ,eACJ,MAAjDC,KAAKC,MAAMH,aAAaC,QAAQ,gBACnCZ,EAAYa,KAAKC,MAAMH,aAAaC,QAAQ,cAAc+B,OAfO,IAAAQ,EAkBhBY,EAAKC,MAA/C5E,EAlB0D+D,EAkB1D/D,KAAMvD,EAlBoDsH,EAkBpDtH,aAAcyD,EAlBsC6D,EAkBtC7D,OAAQvD,EAlB8BoH,EAkB9BpH,UACpC,GAAIqD,EAAK6B,QAAS,CAC4B,eAAzCN,aAAaC,QAAQ,gBACxBmD,EAAKC,MACHjF,WACAK,EACAvD,EACAyD,EAAO2B,QAAU3B,EAAS,KAC1BuB,KAAKC,MAAMH,aAAaC,QAAQ,mBAChCD,aAAaC,QAAQ,gBACrB7E,EACA2D,EACAC,EACA,EACAoE,EAAKjB,MAAMoI,cACXzP,WAAWsI,EAAKjB,MAAMhD,UACtBC,EACA,KACA,KACAY,aAAaC,QAAQ,8BACrBD,aAAaC,QAAQ,kCACrBD,aAAaC,QAAQ,mBAErBpC,KAAK,SAACC,GACFA,IACEA,EAASwC,UACb8C,EAAK+B,SAAS,CAAEsF,iBAAiB,EAAM9D,aAAc7I,EAASwJ,UACtC,MAApBxJ,EAAS+D,QACZuB,EAAK+B,SAAS,CAAEwB,aAAc3G,aAAaC,QAAQ,2BAEpDmD,EAAK4M,gBAKT5M,EAAKC,MACHjF,WACAK,EACAvD,EACAyD,EAAO2B,QAAU3B,EAAS,KAC1BuB,KAAKC,MAAMH,aAAaC,QAAQ,mBAChCD,aAAaC,QAAQ,gBACrB7E,EACA2D,EACAC,EACA,EACAoE,EAAKjB,MAAMoI,cACXzP,WAAWsI,EAAKjB,MAAMhD,UACtBC,EACAC,EACA+D,EAAKjB,MAAMgJ,WACXnL,aAAaC,QAAQ,8BACrBD,aAAaC,QAAQ,kCACrBD,aAAaC,QAAQ,mBAErBpC,KAAK,SAACC,GACFA,IACHI,QAAQC,IAAI,aACZD,QAAQC,IAAI,OAAQL,GACI,MAApBA,EAAS+D,QACZuB,EAAK+B,SAAS,CACbsF,iBAAiB,EACjB9D,aAAc3G,aAAaC,QAAQ,yBAEpCmD,EAAK4M,aACMlS,EAASwC,UACpB8C,EAAK+B,SAAS,CAAEsF,iBAAiB,EAAM9D,aAAc7I,EAASwJ,UACtC,MAApBxJ,EAAS+D,QACZuB,EAAK+B,SAAS,CAAEwB,aAAc3G,aAAaC,QAAQ,2BAEpDmD,EAAK4M,gBAOV,IAAMC,EAAcR,SAASC,eAAe,eAC5CO,EAAYH,UAAUH,OAAO,UAC7B,IAAIO,EAAW,EACXC,EAAMC,YAAY,WACjBF,EAAW,KACdG,cAAcF,GAEfD,GAAsB,EACtBD,EAAY9J,MAAMmK,MAAQJ,EAAW,KACnC,IAEwBT,SAASC,eAAe,4BAChCI,UAAUH,OAAO,UAERF,SAASC,eAAe,yBAChCI,UAAUC,IAAI,UAElC3M,EAAK+B,SAAS,CAAE8E,eAAe,QAIjC+F,UAAY,WACX,IAAMC,EAAcR,SAASC,eAAe,eAC5CO,EAAYH,UAAUC,IAAI,UAC1BQ,WAAW,WACVN,EAAY9J,MAAMmK,MAAQ,MACxB,MAGH,IADA,IAAIV,EAAuBH,SAASI,uBAAuB,uBAClDlP,EAAI,EAAGA,EAAIiP,EAAqBhP,OAAQD,IAChDiP,EAAqBjP,GAAGmP,UAAUH,OAAO,YAEfF,SAASC,eAAe,4BAChCI,UAAUC,IAAI,UAELN,SAASC,eAAe,yBAChCI,UAAUH,OAAO,aAItCa,yBAA2B,WAAM,IAAA/L,EACwBrB,EAAKC,MAArD1E,EADwB8F,EACxB9F,OAAQ8M,EADgBhH,EAChBgH,gBAAiBhN,EADDgG,EACChG,KAAMvD,EADPuJ,EACOvJ,aAEnCuV,EAAOvQ,KAAKC,MAAMH,aAAaC,QAAQ,cAErCnB,EAAQsE,EAAKC,MAAMjI,UAAUK,WAC/BiV,EAAO,EAEX,GAAI/R,EAAOgS,KACV,GAA6B,eAAzBhS,EAAOiS,cAAgC,CAC1C,IAAIC,EAAsBjW,YAAa+D,EAAOmS,SAAW,IAAOhW,WAAWgE,IACvEH,EAAOoS,cACNjW,WAAW+V,IAAwBlS,EAAOoS,eAC7CF,EAAsBlS,EAAOoS,cAG/BpS,EAAOqS,cAAgBH,EACvBH,EAAO9V,YACNA,YACCE,WAAWgE,GACV+R,EACA/V,WAAW2Q,EAAgBwF,oBAAsB,GACjDnW,WAAWsI,EAAKjB,MAAM+H,kBAAoB,GAC1CpP,WAAWsI,EAAKjB,MAAMgI,iBAAmB,UAI5CuG,EAAO9V,YACNE,WAAWgE,IACThE,WAAW6D,EAAOmS,WAAa,KAC9BhW,WAAW2Q,EAAgBwF,qBAAuB,IAClDnW,WAAWsI,EAAKjB,MAAM+H,mBAAqB,GAC5CpP,WAAWsI,EAAKjB,MAAMgI,iBAAmB,UAI7CuG,EAAO9V,YACNE,WAAWgE,GACVhE,WAAW2Q,EAAgBwF,oBAAsB,GACjDnW,WAAWsI,EAAKjB,MAAM+H,kBAAoB,GAC1CpP,WAAWsI,EAAKjB,MAAMgI,iBAAmB,IAgD5C,MA5C8C,SAA1CnK,aAAaC,QAAQ,kBACxByQ,EAAO9V,YACNE,WACCA,WAAW4V,GAAQ5V,WAAWA,WAAWkF,aAAaC,QAAQ,kBAAoB,KAAOyQ,IAGvFtN,EAAKjB,MAAMoI,eAAiB9L,EAAKV,KAAKmT,eAAiBR,IAC1DA,GAAcjS,EAAKV,KAAKmT,iBAGrB9N,EAAKjB,MAAMoI,eAAiB9L,EAAKV,KAAKmT,eAAiBR,IAC1DA,GAAcjS,EAAKV,KAAKmT,gBAItBzF,EAAgB0F,iBACnBjW,EAAakW,QAAQ,SAACC,GACrB,IAAIC,EAAYxW,WAAWuW,EAAKxW,OAASwW,EAAKvV,SAC1CyV,EAAiBF,EAAKE,eAEH,OAAnBA,GAA8C,IAAnBA,IAC9BA,EAAiB9F,EAAgB8F,eAAiB,EAAI9F,EAAgB8F,eAAiB,GAGxF,IAAIC,EAAW1W,WAAWyW,GAAkB,IAAOD,EACnDZ,EAAO9V,YAAYE,WAAW4V,GAAQc,GAGlC/F,EAAgBgG,uBACfJ,EAAK1V,gBACR0V,EAAK1V,eAAeyV,QAAQ,SAACM,GAC5B,IAAIhW,EAAaZ,WAAW4W,EAAM7W,OAASwW,EAAKvV,SAC5C6V,EAAY7W,WAAWyW,GAAkB,IAAO7V,EACpDgV,EAAO9V,YAAYE,WAAW4V,GAAQiB,OAOvClB,GAAQA,EAAKzO,MAAQ,IACxB0O,EAAO5V,WAAW4V,GAAQ5V,WAAW2V,EAAKzO,QAGpCpH,YAAY8V,MAGpBkB,gBAAkB,SAACC,GAClBzO,EAAK+B,SAAS,CAAEiF,iBAAiB,IACjC1M,IAAMC,KAAKmU,KAAuB,CAAED,SAAUA,IAC3ChU,KAAK,SAACC,GAER,GAAIA,EAASC,KAAKuC,QAAS,CAC1B8C,EAAK+B,SAAS,CAAEiF,iBAAiB,IADP,IAEjB2H,EAAkBjU,EAASC,KAA3BgU,cACFC,EAAOvC,SAAS9K,cAAc,QACpCqN,EAAKC,aAAa,SAAU,mCAC5BD,EAAKC,aAAa,SAAU,QAC5B1I,OAAO2I,KAAKH,GAAeX,QAAQ,SAACe,GACrC,IAAMC,EAAQ3C,SAAS9K,cAAc,SACrCyN,EAAMH,aAAa,OAAQ,UAC3BG,EAAMH,aAAa,OAAQE,GAC3BC,EAAMH,aAAa,QAASF,EAAcI,IAC1CH,EAAKK,YAAYD,KAGhB3C,SAAS6C,KAAKD,YAAYL,GAC5BA,EAAKO,YAKHvU,MAAM,SAACC,SAMXuU,sBAAwB,WACvBpP,EAAKC,MAAMoP,eAAc,GACzB,IAAI/G,EAAInC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAnG,IACJmF,EAAS,CACZmK,UAAW1S,aAAaC,QAAQ,mBAChC0S,gBAAiB3S,aAAaC,QAAQ,aACtC2S,YAAa5S,aAAaC,QAAQ,aAClC4S,WAAY7S,aAAaC,QAAQ,YACjC6S,aAAc,CACblE,UADa,SACH3S,GAETiC,QAAQC,IAAIlC,GAEZyP,EAAKqH,6BAA6B9W,IAGnC8S,QARa,SAQL9Q,GAEPC,QAAQC,IAAIF,GACZ+U,MAAM,4CAEPpJ,QAba,WAcZ8B,EAAKrI,MAAMoP,eAAc,MAMxBpS,EAAW,IAAI4S,KAAe1K,GAC5B2K,EAAgD,IAAlC9P,EAAKoN,2BACzBnQ,EAAS8S,KAAK,CAAEtP,OAAQqP,OAGzBH,6BAA+B,SAAC9W,GAC/ByB,IAAM0V,IAAIC,KAAiC,CAC1CC,OAAQ,CACP1T,MAAO3D,EAAQ2D,MACfiE,OAAQ5H,EAAQ4H,UAGhBhG,KAAK,SAACC,GACNI,QAAQC,IAAI,0BAA2BL,GACnCA,EAASC,KAAKuC,UACjBpC,QAAQC,IAAI,6BACZiF,EAAKuL,aAAa7Q,EAASC,KAAKwV,IAAK,aAGtCvV,MAAM,SAASC,GACf+U,MAAM,yBACNzO,KAAKlB,MAAMoP,eAAc,QAK5Be,gBAAkB,SAACC,EAAmBC,GACrC,IAAIhI,EAAInC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAnG,IACRA,EAAK+B,SAAS,CAAEiF,iBAAiB,IAEjC1M,IAAMC,KAAKgW,KAA0B,CACpC9B,SAAU4B,IACR5V,KAAK,SAAC+V,GAER,GADA1V,QAAQC,IAAI,gBAAiByV,GACzBA,GAAOA,EAAI7V,MAAQ6V,EAAI7V,KAAKuC,QAAS,CACxC,IAAMuT,EAAMD,EAAI7V,KAAK8V,IAErBzK,OAAO0K,QAAQC,UAAU,KAAM,GAAI,cAGnC3K,OAAO4K,WAAa,SAAUzR,GAE5BmJ,EAAKuI,QAAQC,OAAOJ,QAAQK,KAAK,eAGnC/K,OAAOxK,SAASwV,KAAOP,KAGxB7V,MAAM,SAASC,GACfC,QAAQC,IAAIF,QAMdoW,iBAAmB,SAACZ,EAAmBC,GACtC,IAAIhI,EAAInC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAnG,IACRA,EAAK+B,SAAS,CAAEiF,iBAAiB,IAEjC1M,IAAMC,KAAK2W,KAA2B,CACrCzC,SAAU4B,IAET5V,KAAK,SAAC+V,GAGN,GAFA1V,QAAQC,IAAIyV,GAERA,EAAI7V,KAAKsM,iBAAkB,CAC9B,IAAM5C,EAAU,CACf0K,IAAKnS,aAAaC,QAAQ,iBAC1ByG,KAAM1G,aAAaC,QAAQ,aAC3B6D,SAAU9D,aAAaC,QAAQ,cAC/B4R,SAAU+B,EAAI7V,KAAKD,SAAS+E,GAC5B0R,QALe,SAKPzW,GACPJ,IAAMC,KAAK6W,KAA6B,CACvC3C,SAAU4B,EACVgB,kBAAmB3W,EAAS2W,kBAC5BC,oBAAqB5W,EAAS4W,oBAC9BC,mBAAoB7W,EAAS6W,qBAC3B9W,KAAK,SAAC+V,GACJA,GAAOA,EAAI7V,MAAQ6V,EAAI7V,KAAKuC,SAC/BoL,EAAKuI,QAAQC,OAAOJ,QAAQK,KAAK,kBAAoBT,MAIxDkB,MAAO,CACNC,UAAW,WACVnJ,EAAKvG,SAAS,CAAEiF,iBAAiB,EAAOC,kBAAkB,IAC1DqB,EAAKuI,QAAQC,OAAOJ,QAAQK,KAAK,gBAGnCW,QAAS,CACRpO,KAAMtD,EAAKC,MAAM5E,KAAKV,KAAK2I,KAC3BqC,MAAO3F,EAAKC,MAAM5E,KAAKV,KAAKgL,MAC5BgM,QAAS3R,EAAKC,MAAM5E,KAAKV,KAAKkL,QAGnB,IAAIG,OAAO4L,SAASvN,GAE5BwN,UAGNjX,MAAM,SAASC,GACfC,QAAQC,IAAIF,QAMfiX,YAAc,SAAC3S,GAAU,IAAA4S,EACA5S,EAAM6C,OAAtBsB,EADgByO,EAChBzO,KAAM1E,EADUmT,EACVnT,MACdoB,EAAK+B,SAALoE,OAAA6L,EAAA,EAAA7L,CAAA,GAAiB7C,EAAO1E,OAGzBqT,mBAAqB,WACpBjS,EAAK+B,SAAS,CAAE6F,kBAAkB,OAGnCsK,eAAiB,SAAC/S,GACjBA,EAAMY,iBAEN,IAAM0H,EAAmBzH,EAAKjB,MAAM0I,iBAC9BC,EAAgB1H,EAAKjB,MAAM2I,cAC3BC,EAAgB3H,EAAKjB,MAAM4I,cAEjC,GAAyB,KAArBF,GAA6C,KAAlBC,GAA0C,KAAlBC,EACtD3H,EAAK+B,SAAS,CAAEsF,iBAAiB,EAAM9D,aAAc,0CAC/C,CACNvD,EAAKC,MAAMoP,eAAc,GACzBrP,EAAK+B,SAAS,CAAE+F,qBAAqB,IACrC,IAAIQ,EAAInC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAnG,IACRA,EAAK+B,SAAS,CAAEoQ,iBAAiB,EAAMvK,kBAAkB,EAAOP,iBAAiB,EAAO9D,aAAc,KACtG,IAAMuM,EAActY,YAAYE,WAAWsI,EAAKoN,6BAEhD9S,IAAMC,KAAK6X,KAAsB,CAChC3R,OAAQqP,EACRxM,KAAMtD,EAAKC,MAAM5E,KAAKV,KAAK2I,KAC3BqC,MAAO3F,EAAKC,MAAM5E,KAAKV,KAAKgL,MAC5BE,MAAO7F,EAAKC,MAAM5E,KAAKV,KAAKkL,MAC5BwM,MAAO5K,EACP6K,MAAO5K,EACP6K,MAAO5K,IAENlN,KAAK,SAAC+V,GACN1V,QAAQC,IAAIyV,GAERA,EAAI7V,KAAK6X,mBACY,cAApBhC,EAAI7V,KAAK8D,QACZ6J,EAAKvG,SAAS,CAAEoQ,iBAAiB,EAAOK,kBAAkB,IAC1DxS,EAAKuL,aAAaiF,EAAI7V,KAAK6B,MAhBhB,YAgB+B,IACZ,yBAApBgU,EAAI7V,KAAK8D,QACnB3D,QAAQC,IAAI,aACZuN,EAAKvG,SAAS,CACboQ,iBAAiB,EACjBK,kBAAkB,EAClB3K,iBAAkB2I,EAAI7V,KAAK8X,eAE5BzS,EAAKuL,aAAaiF,EAAI7V,KAAK6B,MAxBhB,YAwB+B,KAE1CwD,EAAKC,MAAMoP,eAAc,GACzB/G,EAAKvG,SAAS,CACb+F,qBAAqB,EACrBqK,iBAAiB,EACjBK,kBAAkB,EAClBnL,iBAAiB,EACjB9D,aAAc,mBAAqBiN,EAAI7V,KAAKE,YAK/CD,MAAM,SAASC,GACfC,QAAQC,IAAIF,SAOhB6X,8BAAgC,SAACvT,GAChCa,EAAK+B,SAAS,CAAEuF,mBAAoBtH,EAAKjB,MAAMuI,mBAAqB,WAC/DtH,EAAKjB,MAAMuI,mBACdtH,EAAK2S,KAAKC,wBAAwBlG,UAAUC,IAAI,wBAChD3M,EAAK2S,KAAKC,wBAAwBC,eAAe,CAAEC,SAAU,UAAWC,MAAO,WAE/E/S,EAAK2S,KAAKC,wBAAwBlG,UAAUH,OAAO,6BAItDyG,+BAAiC,SAAC7T,GACjCa,EAAK+B,SAAS,CAAEwF,oBAAqBvH,EAAKjB,MAAMwI,oBAAsB,WACjEvH,EAAKjB,MAAMwI,oBACdvH,EAAK2S,KAAKM,yBAAyBvG,UAAUC,IAAI,wBACjD3M,EAAK2S,KAAKM,yBAAyBJ,eAAe,CAAEC,SAAU,UAAWC,MAAO,WAEhF/S,EAAK2S,KAAKM,yBAAyBvG,UAAUH,OAAO,6BAIvD2G,6BAA+B,SAAC/T,GAC/Ba,EAAK+B,SAAS,CAAEyF,kBAAmBxH,EAAKjB,MAAMyI,kBAAoB,WAC7DxH,EAAKjB,MAAMyI,kBACdxH,EAAK2S,KAAKQ,uBAAuBzG,UAAUC,IAAI,wBAC/C3M,EAAK2S,KAAKQ,uBAAuBN,eAAe,CAAEC,SAAU,UAAWC,MAAO,WAE9E/S,EAAK2S,KAAKQ,uBAAuBzG,UAAUH,OAAO,6BAIrD6G,6BAA+B,SAAC3C,GAC/B3V,QAAQC,IAAI,aACZD,QAAQC,IAAI,eAAgBiF,EAAKC,MAAMhD,SAASwC,IAChD,IAAM4T,EAAc5C,EAAM,aAAezQ,EAAKC,MAAMhD,SAASwC,GAC7DuG,OAAOxK,SAAS8X,QAAQD,MAIzBE,qBAAuB,WAEtB,IADA,IAAI/G,EAAuBH,SAASI,uBAAuB,uBAClDlP,EAAI,EAAGA,EAAIiP,EAAqBhP,OAAQD,IAChDiP,EAAqBjP,GAAGmP,UAAUC,IAAI,YAElBN,SAASI,uBAAuB,mBAAmB,GACzD+G,WAIhBC,sBAAwB,SAACzS,GACxBhB,EAAK2S,KAAKe,gBAAgBhH,UAAUH,OAAO,UAE3C,IADA,IAAIC,EAAuBH,SAASI,uBAAuB,uBAClDlP,EAAI,EAAGA,EAAIiP,EAAqBhP,OAAQD,IAChDiP,EAAqBjP,GAAGmP,UAAUC,IAAI,UAEvC3M,EAAK2S,KAAKgB,iBAAiBC,UAAYhX,aAAaC,QAAQ,sBAG7DgX,kBAAoB,SAAC7S,GACpB,IAAI+G,EAAa/G,EAAEgB,OAAOpD,OAEP,KAAfmJ,GAAqB/H,EAAKjB,MAAMiJ,OAAO8L,KAAK/L,KAC3CA,EAAWvK,QAAU,GACxBwC,EAAK+B,SAALoE,OAAA6L,EAAA,EAAA7L,CAAA,GAAiBnF,EAAEgB,OAAOsB,KAAOyE,OAIpCgM,yBAA2B,SAAC/S,GAC3BA,EAAEgB,OAAOC,UAAW,EACpBjC,EAAKuL,aAAa,GAAI,2FA58BH,IAAAnK,EAAAD,KACX9F,EAAS8F,KAAKlB,MAAd5E,KACRP,QAAQC,IAAI,aAAcoG,KAAKlB,MAAMjI,UAAUK,YACE,OAA7CuE,aAAaC,QAAQ,qBACxBsE,KAAKlB,MAAM+T,sBAAsBpX,aAAaC,QAAQ,qBAAqBpC,KAAK,SAACC,GAC5EA,GACCA,EAAS7B,QAAQ4G,IACpB2B,EAAKgH,uCAAuC1N,EAAS7B,WAMrDwC,EAAK6B,SACRiE,KAAKlB,MAAMgU,eAAe5Y,EAAKV,KAAK8E,GAAIpE,EAAKV,KAAK8B,WAAY,MAGlB,eAAzCG,aAAaC,QAAQ,gBACxBsE,KAAKY,SAAS,CAAE+E,iBAAkB,IAE9BpP,WAAWyJ,KAAKlB,MAAMoI,gBAAgBwB,wBAA0B,GAElEnS,WAAWyJ,KAAKlB,MAAMjI,UAAUK,aAChCX,WAAWyJ,KAAKlB,MAAMoI,gBAAgBwB,yBAEtC/O,QAAQC,IAAI,8BACZoG,KAAKY,SAAS,CAAE+E,iBAAkB,KAMnC3F,KAAK2I,oBAAoB3I,KAAKlB,MAAMjI,UAAUK,WAAY8I,KAAKlB,MAAMoI,gBAAgBvB,kBAK1C,eAAzClK,aAAaC,QAAQ,gBACkB,SAAtCD,aAAaC,QAAQ,aACxBsE,KAAKY,SAAS,CAAEkG,SAAS,IAEzB9G,KAAKY,SAAS,CAAEkG,SAAS,IAG1B9G,KAAKY,SAAS,CAAEkG,SAAS,IAG1B9G,KAAKY,SAAS,CAAEgF,gBAAiB5F,KAAK2H,yBAAyB3H,KAAKlB,2DAG3CkE,GAKzB,GAJIA,EAAU+P,eACb/S,KAAKY,SAAS,CAAE4E,yBAAyB,IAGtCxC,EAAUlH,WAAakE,KAAKlB,MAAMhD,SAAU,CAK/C,GAHAL,aAAaU,WAAW,iBACxBV,aAAaU,WAAW,uBAEqB,aAAzC6G,EAAUlH,SAAStC,KAAKwZ,cACS,KAAhChT,KAAKpC,MAAM8I,iBAEd,OADA7B,OAAOxK,SAAW2F,KAAKpC,MAAM8I,iBACtB,KAIT,GAA6C,gBAAzC1D,EAAUlH,SAAStC,KAAKwZ,aAE3B,OADAnO,OAAOxK,SAAW4Y,KAA0B,IAAMjQ,EAAUlH,SAAStC,KAAK8E,GACnE,KAUR,GAN+C,IAA3C0E,EAAUlH,SAAStC,KAAK0Z,gBAG3BlT,KAAK0P,QAAQC,OAAOJ,QAAQK,KAAK,kBAAoB5M,EAAUlH,SAAStC,KAAK2Z,iBAGjC,UAAzCnQ,EAAUlH,SAAStC,KAAKwZ,aAE3B,OADAnO,OAAOxK,SAAW+Y,KAAoB,IAAMpQ,EAAUlH,SAAStC,KAAK8E,GAC7D,KAGR,GAA6C,QAAzC0E,EAAUlH,SAAStC,KAAKwZ,aAAwB,CACnD,IAAM1D,EAAM+D,KAA0B,IAAMrQ,EAAUlH,SAAStC,KAAK8E,GAC9D9E,EAAO,CACZ8Z,SAAW,CACV,CAAC1F,IAAK,gBAAiBnQ,MAAOhC,aAAaC,QAAQ,kBACnD,CAACkS,IAAK,mBAAoBnQ,MAAOhC,aAAaC,QAAQ,qBACtD,CAACkS,IAAK,oBAAqBnQ,MAAOhC,aAAaC,QAAQ,sBACvD,CAACkS,IAAK,oBAAqBnQ,MAAOhC,aAAaC,QAAQ,sBACvD,CAACkS,IAAK,sBAAuBnQ,MAAOhC,aAAaC,QAAQ,wBACzD,CAACkS,IAAK,kBAAmBnQ,MAAOhC,aAAaC,QAAQ,oBACrD,CAACkS,IAAK,mBAAoBnQ,MAAOhC,aAAaC,QAAQ,qBACtD,CAACkS,IAAK,oBAAqBnQ,MAAOhC,aAAaC,QAAQ,sBACvD,CAACkS,IAAK,uBAAwBnQ,MAAOhC,aAAaC,QAAQ,yBAC1D,CAACkS,IAAK,uBAAwBnQ,MAAOhC,aAAaC,QAAQ,2BAG5DvC,IAAMC,KAAKkW,EAAK9V,GACdF,KAAK,SAACC,GACNI,QAAQC,IAAI,UAAWL,IACO,IAA1BA,EAASC,KAAKuC,QACjB8I,OAAOxK,SAAWd,EAASC,KAAK8X,aAEhC7C,MAAM,aAAelV,EAASC,KAAKuJ,WAavC,GAR6C,cAAzCC,EAAUlH,SAAStC,KAAKwZ,cAC3BhT,KAAKqN,gBAAgBrK,EAAUlH,SAAStC,KAAK8E,IAGD,YAAzC0E,EAAUlH,SAAStC,KAAKwZ,cAC3BhT,KAAKiP,gBAAgBjM,EAAUlH,SAAStC,KAAK8E,GAAI0E,EAAUlH,SAAStC,KAAK2Z,iBAG7B,aAAzCnQ,EAAUlH,SAAStC,KAAKwZ,aAiB3B,OAhBArZ,QAAQC,IAAIoJ,EAAUlH,UAEM,6BAAxByX,UAAUC,UACU,cAAnB3O,OAAO4O,SACV5O,OAAO4O,QAAQC,wBACd1Q,EAAUlH,SAAStC,KAAK8E,GACxB0E,EAAUlH,SAAStC,KAAK2Z,gBACxBnQ,EAAU9I,KAAKV,KAAK2I,KACpBa,EAAU9I,KAAKV,KAAKgL,MACpBxB,EAAU9I,KAAKV,KAAKkL,OAItB1E,KAAK8P,iBAAiB9M,EAAUlH,SAAStC,KAAK8E,GAAI0E,EAAUlH,SAAStC,KAAK2Z,iBAGpE,KAGTxZ,QAAQC,IAAI,mBAAqBoJ,EAAU2Q,sBACL,IAAlC3Q,EAAU2Q,sBAGZ3Q,EAAU9I,KAAKV,KAAKmT,eAAiB,GACrC3J,EAAU9I,KAAKV,KAAKmT,eAAiBpW,WAAWyJ,KAAKiM,6BAGrDjM,KAAKY,SAAS,CAAEmF,yBAAyB,EAAME,sBAAsB,IAIrEjD,EAAU9I,KAAKV,KAAKmT,eAAiB,GACrC3J,EAAU9I,KAAKV,KAAKmT,gBAAkBpW,WAAWyJ,KAAKiM,8BAEtDtS,QAAQC,IAAI,UAAYrD,WAAWyJ,KAAKiM,6BAExCjM,KAAKY,SAAS,CAAEqF,sBAAsB,EAAMF,yBAAyB,uCAmzB/D,IAAA6N,EAAA5T,KACF6T,EAAS,CACdC,QAASrY,aAAaC,QAAQ,oBAC9BqY,WAAYtY,aAAaC,QAAQ,wBAKlC,OAFAsE,KAAKlB,MAAMkV,MAAM3d,YAAYE,WAAWyJ,KAAKiM,8BAEzCjM,KAAKlB,MAAMoI,kBACTlH,KAAKlB,MAAMoI,gBAAgB+M,WAC/Bta,QAAQC,IAAI,mBACLuG,EAAA7H,EAAA8H,cAAC8T,EAAA,EAAD,CAAUC,GAAI,WAKtBhU,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACEL,KAAKpC,MAAMsI,iBACX/F,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,8BACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,eAAeV,KAAKpC,MAAMwE,eAI1CpC,KAAKlB,MAAMsV,gBAAgBC,KAAK,SAACC,GAAD,MAA8B,aAAjBA,EAAQnS,QACrDhC,EAAA7H,EAAA8H,cAACmU,EAAA,OAAD,KACCpU,EAAA7H,EAAA8H,cAAA,UAAQoU,IAAI,mDAGZxU,KAAKpC,MAAM8H,eAAiB1F,KAAKpC,MAAMiI,kBACxC1F,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,eAEhBP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,8BACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,eAAejF,aAAaC,QAAQ,+BAKtDyE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,gBACbV,KAAKpC,MAAM4H,wBACXrF,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,OACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,UACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAACqU,EAAA,EAAD,CACCC,OAAQ,GACR3I,MAAOlH,OAAO8P,WACdC,MAAO,IACPC,aAAa,UACbC,eAAe,WAEf3U,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,MAAM8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,KAAK2I,OAAO,OACrDvU,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,IAAI8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,KAAK2I,OAAO,OACnDvU,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,IAAI8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,MAAM2I,OAAO,WAKxDvU,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,UACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAACqU,EAAA,EAAD,CACCC,OAAQ,GACR3I,MAAOlH,OAAO8P,WACdC,MAAO,IACPC,aAAa,UACbC,eAAe,WAEf3U,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,MAAM8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,KAAK2I,OAAO,OACrDvU,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,IAAI8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,KAAK2I,OAAO,OACnDvU,EAAA7H,EAAA8H,cAAA,QAAMnI,EAAE,IAAI8c,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIlJ,MAAM,MAAM2I,OAAO,YAOzDvU,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,OACbV,KAAKpC,MAAMmI,yBACX5F,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,SACVwU,QAAS,kBAAMtB,EAAKhT,SAAS,CAAEoF,eAAgB4N,EAAKhW,MAAMoI,kBAE1D7F,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,iCACJW,IAAK1Z,aAAaC,QAAQ,cAC1BgF,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,SACC5I,KAAK,WACL2K,KAAK,iBACLiT,eAAgBpV,KAAKlB,MAAMkH,cAC3BtF,UAAU,oBAEXP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbV,KAAKpC,MAAMoI,eACX7F,EAAA7H,EAAA8H,cAAA,KACCM,UAAU,mBACVkB,MAAO,CACNG,MAAOtG,aAAaC,QAAQ,eAC5B2Z,WAAY,SAId5Z,aAAaC,QAAQ,cAVvB,IAUuC,IACtCyE,EAAA7H,EAAA8H,cAAA,QAAMwB,MAAO,CAAEG,MAAOtG,aAAaC,QAAQ,gBACO,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBsE,KAAKlB,MAAM5E,KAAKV,KAAKmT,eAC2B,UAAhDlR,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,oBAGxByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbV,KAAKpC,MAAMoI,cACX7F,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,QACCwB,MAAO,CACNG,MAAOtG,aAAaC,QAAQ,gBAG5B,IAEA,SADAD,aAAaC,QAAQ,wBAErBD,aAAaC,QAAQ,kBACrBsE,KAAKlB,MAAM5E,KAAKV,KAAKmT,eAAgB,IAErC,UADAlR,aAAaC,QAAQ,wBAErBD,aAAaC,QAAQ,mBACf,IACPD,aAAaC,QAAQ,sBAAuB,IAE5C,SADAD,aAAaC,QAAQ,wBACXD,aAAaC,QAAQ,kBAC/BsE,KAAKlB,MAAM5E,KAAKV,KAAKmT,eAErB,UADAlR,aAAaC,QAAQ,wBACVD,aAAaC,QAAQ,mBAGlCyE,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,YACE3E,aAAaC,QAAQ,6BAEvByE,EAAA7H,EAAA8H,cAAA,UACCM,UAAU,sBACVkB,MAAO,CACNG,MAAOtG,aAAaC,QAAQ,eAC5B4Z,YAAa7Z,aAAaC,QACzB,iBAIDD,aAAaC,QAAQ,4BAO5ByE,EAAA7H,EAAA8H,cAAA,MAAIM,UAAU,WAKjBP,EAAA7H,EAAA8H,cAAA,WACAD,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,gCACdP,EAAA7H,EAAA8H,cAAA,MAAIM,UAAU,aAAa6U,IAAI,oBAC7B9Z,aAAaC,QAAQ,8BAIvBsE,KAAKpC,MAAMqI,sBACX9F,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,YAErCjK,EAAA7H,EAAA8H,cAAA,KAAGM,UAAU,SACbP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,iCACJW,IAAK1Z,aAAaC,QAAQ,cAC1BgF,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,eAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,yBACtByE,EAAA7H,EAAA8H,cAAA,WACAD,EAAA7H,EAAA8H,cAAA,QAAMwB,MAAO,CAAEG,MAAOtG,aAAaC,QAAQ,gBACO,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBnF,WAAWyJ,KAAKiM,4BACgC,UAAhDxQ,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,mBACf,IACPD,aAAaC,QAAQ,sBAAuB,IACI,SAAhDD,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,kBACrBsE,KAAKlB,MAAM5E,KAAKV,KAAKmT,eAC2B,UAAhDlR,aAAaC,QAAQ,wBACrBD,aAAaC,QAAQ,sBAK1ByE,EAAA7H,EAAA8H,cAAA,YAIFD,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,UACwC,SAArDjF,aAAaC,QAAQ,6BACrByE,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,aACV6U,IAAI,2BACJL,QAASlV,KAAK6R,gCAEd1R,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,gCACJW,IAAI,eACJzU,UAAU,YACVkB,MAAO,CAAEmK,MAAO,WAGlB5L,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,2BACtByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,mCAM1BsE,KAAKpC,MAAMwI,oBACXjG,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,yBACdP,EAAA7H,EAAA8H,cAACoV,EAAD,CACCtb,KAAM8F,KAAKlB,MAAM5E,KACjBK,MAAOlE,YAAYE,WAAWyJ,KAAKiM,6BACnC7M,wBAAyBY,KAAKlB,MAAMoP,cACpCrU,WAAYmG,KAAKoK,aACjB6H,6BAA8BjS,KAAKiS,6BACnCnW,SAAUkE,KAAKlB,MAAMhD,cAO3BqE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,UACsC,SAAnDjF,aAAaC,QAAQ,2BACrByE,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,aACV6U,IAAI,yBACJL,QAASlV,KAAK+R,8BAEd5R,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,8BACJW,IAAI,aACJzU,UAAU,YACVkB,MAAO,CAAEmK,MAAO,WAGlB5L,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,yBACtByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,iCAM1BsE,KAAKpC,MAAMyI,kBACXlG,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,yBACdP,EAAA7H,EAAA8H,cAACqV,EAAD,CACCvb,KAAM8F,KAAKlB,MAAM5E,KACjBK,MAAOlE,YAAYE,WAAWyJ,KAAKiM,6BACnC7M,wBAAyBY,KAAKlB,MAAMoP,cACpCrU,WAAYmG,KAAKoK,aACjB6H,6BAA8BjS,KAAKiS,6BACnCnW,SAAUkE,KAAKlB,MAAMhD,cAQ1BkE,KAAKlB,MAAMsV,gBAAgB/c,IAAI,SAACid,GAAD,OAC/BnU,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,CAAgBuN,IAAK0G,EAAQhW,IACV,WAAjBgW,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,mDACdP,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,aACV6U,IAAI,0BACJL,QAAStB,EAAKrC,+BAEdpR,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,iCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,sBACtByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,8BAM1BkY,EAAKhW,MAAMuI,mBACXhG,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,yBACdP,EAAA7H,EAAA8H,cAACsV,EAAD,CACCxb,KAAM0Z,EAAK9U,MAAM5E,KACjBK,MAAOlE,YACNE,WAAWqd,EAAK3H,6BAEjB7M,wBAAyBwU,EAAK9U,MAAMoP,cACpCrU,WAAY+Z,EAAKxJ,kBAQtBwJ,EAAKhW,MAAMkJ,SACX3G,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACmB,QAAjBiU,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KAC6C,SAA3C5E,aAAaC,QAAQ,kBACrByE,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKtB,0BAEpBnS,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,8BACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QACb,oBAGFyE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QACb,0BAMLyE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,gBAAgB6U,IAAI,mBAClCpV,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,aACdP,EAAA7H,EAAA8H,cAAA,SACC5I,KAAK,MACL2K,KAAK,aACL1E,MAAOmW,EAAKhW,MAAMgJ,WAClBlG,UAAU,iCACViV,YAAala,aAAaC,QACzB,8BAEDiF,SAAUiT,EAAKlB,oBAEhBvS,EAAA7H,EAAA8H,cAAA,UACCM,UAAU,eACVkB,MAAO,CACNgU,gBAAiBna,aAAaC,QAC7B,gBAGFwZ,QAAStB,EAAKhB,0BAEbnX,aAAaC,QACb,4BAGFyE,EAAA7H,EAAA8H,cAAA,KAAGM,UAAU,QACXjF,aAAaC,QAAQ,0BAM1ByE,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,SAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,8BACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,oBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,4BAWb,WAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAK3F,0BAEpB9N,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,iCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,uBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,6BAMT,eAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,SAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,8BACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,uBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,iCAMT,UAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,WAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,gCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,sBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,4BAMT,gBAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAACyV,EAAD,CACC3b,KAAM0Z,EAAK9U,MAAM5E,KACjBK,MAAOlE,YAAYE,WAAWqd,EAAK3H,6BACnCpS,WAAY+Z,EAAKxJ,aACjBrG,MAAO6P,EAAKnI,YAEbtL,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxB,yBAEpBjS,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,sCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,4BAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,mCAOV,aAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BAEVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,cAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,mCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,yBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,+BAMT,YAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BAEVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,aAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,kCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,wBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,8BAMT,cAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,eAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,+BACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,0BAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,gCAMT,aAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,wCACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,mCACJW,IAAKb,EAAQnS,KACbzB,UAAU,2BAEXP,EAAA7H,EAAA8H,cAAC0V,EAAAxd,EAAD,CACC4M,KAAMzJ,aAAaC,QAAQ,mBAC3BgF,UAAU,YACVyE,SAAUyO,EAAKzO,SACfuF,MAAOkJ,EAAKlJ,MACZ5J,UAAU,EACViV,OAAO,EACPtL,UAAWmJ,EAAKjJ,eAChBnG,MAAOoP,EAAK9U,MAAM5E,KAAKV,KAAKgL,MAC5BlF,OAAQ0W,SAASzf,WAA6C,IAAlCqd,EAAK3H,6BACjCgK,YAAaxa,aAAaC,QAAQ,qBAClCwa,IAAI,SACJ3W,SAAU9D,aAAaC,QAAQ,iBAIhB,WAAjB4Y,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,8BACdP,EAAA7H,EAAA8H,cAAC+V,EAAA7d,EAAD,CACC8d,IAAK3a,aAAaC,QAAQ,aAC1BmY,OAAQA,EACRtU,SAAU9D,aAAaC,QAAQ,cAC/BnB,MAAOhE,WAAWqd,EAAK3H,4BACvBoK,SAAU,EACV7L,QAASoJ,EAAKpJ,QACdH,UAAWuJ,EAAKvJ,UAChBE,SAAUqJ,EAAKrJ,SACf3I,MAAO,CACN0U,KAAM,aACNvU,MAAO,SACPwU,MAAO,WAKO,gBAAjBjC,EAAQnS,MACRhC,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAKxJ,aAAa,GAAI,iBAErCjK,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,sCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,4BAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,kCAMT,aAAjB4Y,EAAQnS,OACPyR,EAAKhW,MAAM6I,iBACXtG,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,8BACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,QAAME,SAAUsT,EAAK7C,gBACpB5Q,EAAA7H,EAAA8H,cAACoW,EAAA,EAAD,KACE,SAAAC,GAAA,IACAC,EADAD,EACAC,KACAC,EAFAF,EAEAE,mBACAC,EAHAH,EAGAG,mBACAC,EAJAJ,EAIAI,YAJA,OAMA1W,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACCF,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,+BACbjF,aAAaC,QACb,yBAGFyE,EAAA7H,EAAA8H,cAAA,QAAA4E,OAAA8R,OAAA,CACCpW,UAAU,mCACNiW,EAAmB,CACtBhW,SAAUiT,EAAKjD,cAHjB,CAKCxO,KAAK,mBACL1E,MAAOmW,EAAKhW,MAAM0I,iBAClBqP,YAAala,aAAaC,QACzB,yBAGFyE,EAAA7H,EAAA8H,cAAA,QAAA4E,OAAA8R,OAAA,CACCpW,UAAU,mCACNkW,EAAmB,CACtBjW,SAAUiT,EAAKjD,cAHjB,CAKCxO,KAAK,gBACL1E,MAAOmW,EAAKhW,MAAM2I,cAClBoP,YAAala,aAAaC,QACzB,6BAGFyE,EAAA7H,EAAA8H,cAAA,QAAA4E,OAAA8R,OAAA,CACCpW,UAAU,mCACNmW,EAAY,CACflW,SAAUiT,EAAKjD,cAHjB,CAKClT,MAAOmW,EAAKhW,MAAM4I,cAClBrE,KAAK,gBACLwT,YAAala,aAAaC,QACzB,sBAGDgb,EAAKK,WAAaL,EAAKhd,OACvByG,EAAA7H,EAAA8H,cAAA,sBAAcsW,EAAKhd,UAKvByG,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kCACdP,EAAA7H,EAAA8H,cAAA,UACC5I,KAAK,SACLkJ,UAAU,eACVkB,MAAO,CACNgU,gBAAiBna,aAAaC,QAC7B,gBAIDD,aAAaC,QAAQ,mBAAoB,IAEzC,SADAD,aAAaC,QAAQ,wBAErBD,aAAaC,QAAQ,kBACrBkY,EAAK3H,2BAEL,UADAxQ,aAAaC,QAAQ,wBAErBD,aAAaC,QAAQ,wBAQ5ByE,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,6BACVwU,QAAS,kBAAMtB,EAAK9C,uBAEpB3Q,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,kDACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,uEACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qBACdP,EAAA7H,EAAA8H,cAAA,OACCoU,IAAI,mCACJW,IAAKb,EAAQnS,KACbzB,UAAU,eAGZP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,0BACbjF,aAAaC,QAAQ,yBAEvByE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,qCACbjF,aAAaC,QAAQ,sCAalCyE,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,yCAAyCkB,MAAO,CAAE8S,OAAQ,QACxEvU,EAAA7H,EAAA8H,cAAA,OACCM,UAAU,iEACVsW,KAAK,cACL1Y,GAAG,cACHsD,MAAO,CACNgU,gBAAiBna,aAAaC,QAAQ,cACtCqQ,MAAO,UAIV5L,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,aAAapC,GAAG,yBACqB,gBAAlD7C,aAAaC,QAAQ,0BAC6B,SAAlDD,aAAaC,QAAQ,0BAC8B,KAAlDD,aAAaC,QAAQ,0BACrByE,EAAA7H,EAAA8H,cAAA,OACC6W,wBAAyB,CACxBC,OAAQzb,aAAaC,QAAQ,6BAKlCyE,EAAA7H,EAAA8H,cAAA,KAAG9B,GAAG,2BAA2BoC,UAAU,6DACzCjF,aAAaC,QAAQ,qCA1yDDqF,aAApBwE,GACE4R,aAAe,CACrBxH,OAAQ,kBAAM,OA+yDhB,IAUevM,eAVS,SAACxF,GAAD,MAAY,CACnC1D,KAAM0D,EAAM1D,KAAKA,KACjBkd,UAAWxZ,EAAMwZ,UAAUA,UAC3BzgB,aAAciH,EAAM3B,KAAKC,SACzBrF,UAAW+G,EAAMrD,MAAMf,KACvBY,OAAQwD,EAAMxD,OAAOA,OACrB0B,SAAU8B,EAAM9B,SAASA,SACzBoL,gBAAiBtJ,EAAM1E,MAAMgO,kBAK7B,CAAErN,eAAYiZ,mBAAgBD,2BAFhBzP,CAGbmC,2CC71DI8R,8MACLzZ,MAAQ,CACP6H,SAAS,EACT6R,+BAA+B,EAC/BC,6BAA6B,EAC7BC,mBAAmB,EACnBxD,MAAO,MA0BR9F,cAAgB,SAACzQ,GAChBoB,EAAK+B,SAAS,CAAE6E,QAAShI,OAG1Bga,qBAAuB,SAACpc,GACnBwD,EAAKjB,MAAM2Z,6BACd5d,QAAQC,IAAI,qBACZiF,EAAKC,MAAM4Y,mBAAmBrc,EAAOI,aAAaC,QAAQ,qBAAqBpC,KAAK,SAACC,GAChFA,GAAYA,EAAS7B,SACxBmH,EAAK+B,SAAS,CAAE2W,6BAA6B,EAAOC,mBAAmB,OAIzE1L,cAAcjN,EAAK8Y,mCASrBtQ,iCAAmC,SAAC5J,GACnCoB,EAAK+B,SAAS,CAAE0W,8BAA+B7Z,OAGhDma,gBAAkB,SAACpe,GAClB,IAAMqe,EAAYre,EAAKkE,QAAQ,GAC/BsO,WAAW,WACVnN,EAAK+B,SAAS,CAAEoT,MAAO6D,KACrB,yFArDgB,IAAA5X,EAAAD,KACX9F,EAAS8F,KAAKlB,MAAd5E,KAEJA,GACH8F,KAAKlB,MACH4Y,mBAAmBxd,EAAKV,KAAK8B,WAAYG,aAAaC,QAAQ,qBAC9DpC,KAAK,SAACC,GACFA,GAAYA,EAAS7B,QACxBuI,EAAKW,SAAS,CAAE4W,mBAAmB,KAEnC7d,QAAQD,MAAM,+DACduG,EAAK0X,+BAAiC9L,YAAY,WACjD5L,EAAKwX,qBAAqBvd,EAAKV,KAAK8B,aAClC,SAKH0E,KAAKlB,MAAMnI,aAAa0F,QAC3B6O,SAAS4M,qBAAqB,QAAQ,GAAGvM,UAAUC,IAAI,gEAsBxDN,SAAS4M,qBAAqB,QAAQ,GAAGvM,UAAUH,OAAO,iBAC1DU,cAAc9L,KAAK2X,iEAoBnB,OALK3X,KAAKlB,MAAMnI,aAAa0F,OAKmB,SAA5CZ,aAAaC,QAAQ,oBAAkCmJ,OAAO8P,WAAa,IACvExU,EAAA7H,EAAA8H,cAAC8T,EAAA,EAAD,CAAUC,GAAG,MAIhBnU,KAAKlB,MAAMiZ,YAG2B,OAAvCtc,aAAaC,QAAQ,cACjByE,EAAA7H,EAAA8H,cAAC8T,EAAA,EAAD,CAAUC,GAAI,MAIrBhU,EAAA7H,EAAA8H,cAACD,EAAA7H,EAAM+H,SAAP,KACEL,KAAKpC,MAAM6H,SAAWtF,EAAA7H,EAAA8H,cAACqF,GAAA,EAAD,MACtBzF,KAAKpC,MAAM0Z,+BAAiCnX,EAAA7H,EAAA8H,cAACqF,GAAA,EAAD,MAC7CtF,EAAA7H,EAAA8H,cAAC4X,EAAA,EAAD,CACCC,SAAUxc,aAAaC,QAAQ,qBAC/Bwc,eAAgBzc,aAAaC,QAAQ,sBACrCyc,OAAO,UACPC,QAAS3c,aAAaC,QAAQ,cAC9B2c,cAAe5c,aAAaC,QAAQ,oBACpC4c,MAAOzT,OAAOxK,SAASwV,KACvB0I,aAAc9c,aAAaC,QAAQ,mBACnC8c,mBAAoB/c,aAAaC,QAAQ,2BAE1CyE,EAAA7H,EAAA8H,cAACqY,EAAA,EAAD,CACCC,WAAW,EACXC,WAAW,EAEXC,MAAO5Y,KAAKpC,MAAMoW,MAClB6E,gBAAgB,EAChBC,eAAe,IAEhB3Y,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,SACdP,EAAA7H,EAAA8H,cAAA,OAAKM,UAAU,UACfP,EAAA7H,EAAA8H,cAAC2Y,GAAD,CACC1R,iCAAkCrH,KAAKqH,iCACvCsM,oBAAqB3T,KAAKpC,MAAM0Z,8BAChClD,gBAAiBpU,KAAKlB,MAAMsV,gBAC5BrB,cAAe/S,KAAKpC,MAAM4Z,kBAC1BtJ,cAAelO,KAAKkO,cACpB8F,MAAOhU,KAAK4X,gBACZlb,OAAQsD,KAAKlB,MAAMpC,WArCfyD,EAAA7H,EAAA8H,cAAC8T,EAAA,EAAD,CAAUC,GAAI,iBA7EDpT,aAyIRiY,sCAAiB,CAC/BC,OAAQxd,aAAaC,QAAQ,gBAC7Bwd,iBAAkBC,MAFJH,CAId5V,YAnBuB,SAACxF,GAAD,MAAY,CACnCrD,MAAOqD,EAAMrD,MAAMA,MACnBL,KAAM0D,EAAM1D,KAAKA,KACjBvD,aAAciH,EAAM3B,KAAKC,SACzBrF,UAAW+G,EAAMrD,MAAMf,KACvBY,OAAQwD,EAAMxD,OAAOA,OACrB2d,YAAana,EAAMma,YAAYA,YAC/B3D,gBAAiBxW,EAAMwW,gBAAgBA,kBActC,CACCzb,sBACA+e,mBCzJ+B,SAACrc,EAAO+d,GAAR,OAA0B,SAACxiB,GAC5D,OAAOuC,IAAMC,KAAKigB,IAA0B,CAC3Che,MAAOA,EACP+d,cAAeA,IAEd9f,KAAK,SAACC,GACN,IAAM6a,EAAkB7a,EAASC,KACjC,OAAO5C,EAAS,CAAEY,KAAM8hB,KAAsB5hB,QAAS0c,MAEvD3a,MAAM,SAASC,GACfC,QAAQC,IAAIF,QD2Id0J,CAMEiU","file":"static/js/23.c96aeb4a.chunk.js","sourcesContent":["export const formatPrice = price => {\r\n    if (price) {\r\n        let formatedPrice = parseFloat(price);\r\n        // formatedPrice = formatedPrice.toFixed(2);\r\n        return formatedPrice;\r\n    }\r\n    return 0;\r\n};\r\n","import { UPDATE_CART } from \"./actionTypes\";\r\nimport { formatPrice } from \"../../components/helpers/formatPrice\";\r\n\r\nexport const updateCart = cartProducts => dispatch => {\r\n\tlet productQuantity = cartProducts.reduce((sum, p) => {\r\n\t\t// sum += p.quantity;\r\n\t\tsum++;\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet totalPrice = cartProducts.reduce((sum, p) => {\r\n\t\tlet addonTotal = 0;\r\n\t\tif (p.selectedaddons) {\r\n\t\t\tp.selectedaddons.map(addonArray => {\r\n\t\t\t\taddonTotal += parseFloat(addonArray.price);\r\n\t\t\t\treturn addonTotal;\r\n\t\t\t});\r\n\t\t}\r\n\t\tsum += p.price * p.quantity + addonTotal * p.quantity;\r\n\t\tsum = parseFloat(sum);\r\n\t\tformatPrice(sum);\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet cartTotal = {\r\n\t\tproductQuantity,\r\n\t\ttotalPrice\r\n\t};\r\n\r\n\tdispatch({\r\n\t\ttype: UPDATE_CART,\r\n\t\tpayload: cartTotal\r\n\t});\r\n};\r\n","export const calculateDistance = (lon1, lat1, lon2, lat2) => {\r\n    function toRad(x) {\r\n        return (x * Math.PI) / 180;\r\n    }\r\n\r\n    let R = 6371; // km\r\n\r\n    let x1 = lat2 - lat1;\r\n    let dLat = toRad(x1);\r\n    let x2 = lon2 - lon1;\r\n    let dLon = toRad(x2);\r\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    let distance = R * c;\r\n    return distance;\r\n};\r\n","import { CONFIRM_CART } from \"./actionTypes\";\r\nimport { CHECK_CART_ITEMS_AVAILABILITY_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const checkConfirmCart = () => dispatch => {\r\n\tconst confirmCart = true;\r\n\treturn dispatch({ type: CONFIRM_CART, payload: confirmCart });\r\n};\r\n\r\nexport const checkCartItemsAvailability = items => dispatch => {\r\n\treturn Axios.post(CHECK_CART_ITEMS_AVAILABILITY_URL, {\r\n\t\titems: items\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst data = response.data;\r\n\t\t\t// console.log(data);\r\n\t\t\treturn data;\r\n\t\t\t// return dispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","import { PLACE_ORDER } from \"./actionTypes\";\r\nimport { PLACE_ORDER_URL } from \"../../configs\";\r\nimport { APPLY_COUPON } from \"../coupon/actionTypes\";\r\n\r\nimport Axios from \"axios\";\r\nimport { updateCart } from \"../total/actions\";\r\n\r\nexport const placeOrder = (\r\n\tuser,\r\n\torder,\r\n\tcoupon,\r\n\tlocation,\r\n\torder_comment,\r\n\ttotal,\r\n\tmethod,\r\n\tpayment_token,\r\n\tdelivery_type,\r\n\tpartial_wallet,\r\n\tdistance,\r\n\tpending_payment,\r\n\ttipAmount,\r\n\tcash_change_amount,\r\n\torderScheduledDeliveryDate,\r\n\torderScheduledDeliveryTime,\r\n\tdeliveryMethod\r\n) => (dispatch, getState) => {\r\n\treturn Axios.post(PLACE_ORDER_URL, {\r\n\t\ttoken: user.data.auth_token,\r\n\t\tuser: user,\r\n\t\torder: order,\r\n\t\tcoupon: coupon,\r\n\t\tlocation: location,\r\n\t\torder_comment: order_comment,\r\n\t\ttotal: total,\r\n\t\tmethod: method,\r\n\t\tpayment_token: payment_token,\r\n\t\tdelivery_type: delivery_type,\r\n\t\tpartial_wallet: partial_wallet,\r\n\t\tdis: distance,\r\n\t\tpending_payment: pending_payment,\r\n\t\ttipAmount: tipAmount,\r\n\t\tcash_change_amount: cash_change_amount,\r\n\t\tschedule_date:\r\n\t\t\tlocalStorage.getItem(\"orderDate\") !== null ? JSON.parse(localStorage.getItem(\"orderDate\")) : null,\r\n\t\tschedule_slot:\r\n\t\t\tlocalStorage.getItem(\"orderSlot\") !== null ? JSON.parse(localStorage.getItem(\"orderSlot\")) : null,\r\n\t\torderScheduledDeliveryDate: orderScheduledDeliveryDate,\r\n\t\torderScheduledDeliveryTime: orderScheduledDeliveryTime,\r\n\t\tdeliveryMethod: deliveryMethod,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst checkout = response.data;\r\n\t\t\tconsole.log(\"From Checkout\");\r\n\t\t\tif (checkout.success) {\r\n\t\t\t\tdispatch({ type: PLACE_ORDER, payload: checkout });\r\n\r\n\t\t\t\tconst state = getState();\r\n\t\t\t\t// console.log(state);\r\n\t\t\t\tconst cartProducts = state.cart.products;\r\n\t\t\t\t// const user = state.user.user;\r\n\t\t\t\tlocalStorage.removeItem(\"orderComment\");\r\n\t\t\t\tlocalStorage.removeItem(\"orderSlot\");\r\n\t\t\t\tlocalStorage.removeItem(\"orderDate\");\r\n\t\t\t\tlocalStorage.removeItem(\"deliveryMethod\");\r\n\t\t\t\tlocalStorage.removeItem(\"orderScheduledDeliveryDate\");\r\n\t\t\t\tlocalStorage.removeItem(\"orderScheduledDeliveryTimeSlot\");\r\n\t\t\t\tfor (let i = cartProducts.length - 1; i >= 0; i--) {\r\n\t\t\t\t\t// remove all items from cart\r\n\t\t\t\t\tcartProducts.splice(i, 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch(updateCart(cartProducts));\r\n\r\n\t\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t\tlocalStorage.removeItem(\"couponAppliedAmount\");\r\n\t\t\t\tconst coupon = [];\r\n\t\t\t\tdispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t\t} else {\r\n\t\t\t\treturn checkout;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\treturn error.response;\r\n\t\t});\r\n};\r\n","import { calculateDistance } from \"./calculateDistance\";\r\n\r\nconst calculateDistanceGoogle = (lon1, lat1, lon2, lat2, google, fn) => {\r\n\tconst origins = [{ lat: parseFloat(lat1), lng: parseFloat(lon1) }];\r\n\tconst destinations = [{ lat: parseFloat(lat2), lng: parseFloat(lon2) }];\r\n\tconst travelMode = google.maps.TravelMode.DRIVING;\r\n\tconst service = new google.maps.DistanceMatrixService();\r\n\tservice.getDistanceMatrix(\r\n\t\t{\r\n\t\t\torigins: origins,\r\n\t\t\tdestinations: destinations,\r\n\t\t\ttravelMode: travelMode,\r\n\t\t},\r\n\t\t(response, status) => {\r\n\t\t\tconsole.log(\"RESPONSE\", response);\r\n\t\t\tconsole.log(\"STATUS\", response.rows[0].elements[0].status);\r\n\r\n\t\t\tif (response.rows[0].elements[0].status === \"OK\") {\r\n\t\t\t\tlet distance = (response.rows[0].elements[0].distance.value / 1000).toFixed(1);\r\n\t\t\t\tfn(distance);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"Falling back to basic distance calculation\");\r\n\t\t\t\tlet distance = calculateDistance(lon1, lat1, lon2, lat2);\r\n\t\t\t\tfn(distance);\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n};\r\n\r\nexport default calculateDistanceGoogle;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tElementsConsumer,\r\n} from \"@stripe/react-stripe-js\";\r\nimport Axios from \"axios\";\r\n\r\nimport { STRIPE_PAYMENT } from \"../../../../../../configs\";\r\n\r\nclass CheckoutForm extends Component {\r\n\tstate = {\r\n\t\tpostal: \"\",\r\n\t};\r\n\thandleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst { stripe, elements, data } = this.props;\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst { error, paymentMethod } = await stripe.createPaymentMethod({\r\n\t\t\ttype: \"card\",\r\n\t\t\tcard: cardElement,\r\n\t\t});\r\n\r\n\t\tif (!error) {\r\n\t\t\tdata.data.handlePaymentProcessing(true);\r\n\t\t\tconst { id } = paymentMethod;\r\n\t\t\tAxios.post(STRIPE_PAYMENT, {\r\n\t\t\t\ttoken: data.data.user.data.auth_token,\r\n\t\t\t\tid: id,\r\n\t\t\t\tamount: data.data.total * 100,\r\n\t\t\t\tcurrency: localStorage.getItem(\"currencyId\"),\r\n\t\t\t\tpayment_method_types: [\"card\"],\r\n\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconsole.log(\"STRIPE DATA\", response.data);\r\n\t\t\t\t\tconst { client_secret: clientSecret } = response.data;\r\n\t\t\t\t\tconsole.log(clientSecret);\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\t\t.confirmCardPayment(clientSecret)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tif (response.paymentIntent && response.paymentIntent.status === \"succeeded\") {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Payment successful!!!\");\r\n\t\t\t\t\t\t\t\tdata.data.placeOrder(\"\", \"STRIPE\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Something went wrong...\");\r\n\t\t\t\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(e) {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { stripe, data } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{/* <CardElement hidePostalCode={true} /> */}\r\n\r\n\t\t\t\t\t<label htmlFor=\"cardNumber\">{localStorage.getItem(\"checkoutCardNumber\")}</label>\r\n\t\t\t\t\t<CardNumberElement id=\"cardNumber\" />\r\n\t\t\t\t\t<label htmlFor=\"expiry\">{localStorage.getItem(\"checkoutCardExpiration\")}</label>\r\n\t\t\t\t\t<CardExpiryElement id=\"expiry\" />\r\n\t\t\t\t\t<label htmlFor=\"cvc\">{localStorage.getItem(\"checkoutCardCvv\")}</label>\r\n\t\t\t\t\t<CardCvcElement id=\"cvc\" />\r\n\t\t\t\t\t{localStorage.getItem(\"stripeCheckoutPostalCode\") === \"true\" && (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<label htmlFor=\"postal\">{localStorage.getItem(\"checkoutCardPostalCode\")}</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tvalue={this.state.postal}\r\n\t\t\t\t\t\t\t\tclassName=\"form-control StripeElement\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ postal: e.target.value });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<button type=\"submit\" disabled={!stripe} className=\"btn stripe-pay-btn\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayText\")}{\" \"}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t{data.data.total}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst InjectedCheckoutForm = (data) => (\r\n\t<React.Fragment>\r\n\t\t<ElementsConsumer>\r\n\t\t\t{({ stripe, elements }) => <CheckoutForm stripe={stripe} elements={elements} data={data} />}\r\n\t\t</ElementsConsumer>\r\n\t</React.Fragment>\r\n);\r\n\r\nconst stripePromise = loadStripe(localStorage.getItem(\"stripePublicKey\"), {\r\n\tlocale: localStorage.getItem(\"stripeLocale\"),\r\n});\r\n\r\nconst StripeCard = (data) => (\r\n\t<Elements stripe={stripePromise}>\r\n\t\t<InjectedCheckoutForm data={data} />\r\n\t</Elements>\r\n);\r\n\r\nexport default StripeCard;\r\n","import React, { Component } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { IdealBankElement, Elements, ElementsConsumer } from \"@stripe/react-stripe-js\";\r\nimport Axios from \"axios\";\r\n\r\nimport { STRIPE_PAYMENT, STRIPE_PAYMENT_CAPTURE } from \"../../../../../../configs\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ELEMENT_OPTIONS = {\r\n\tclasses: {\r\n\t\tbase: \"StripeElementIdeal\",\r\n\t\tfocus: \"StripeElementIdeal--focus\",\r\n\t},\r\n\tstyle: {\r\n\t\tbase: {\r\n\t\t\tpadding: \"10px 8px\",\r\n\t\t\tfontSize: \"15px\",\r\n\t\t\tcolor: \"#5f5f5f\",\r\n\t\t\tletterSpacing: \"0.025em\",\r\n\t\t\t\"::placeholder\": {\r\n\t\t\t\tcolor: \"#aab7c4\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tinvalid: {\r\n\t\t\tcolor: \"#9e2146\",\r\n\t\t},\r\n\t},\r\n};\r\n\r\nclass CheckoutForm extends Component {\r\n\tstate = {\r\n\t\tname: \"\",\r\n\t\terrorMessage: null,\r\n\t\tpaymentMethod: null,\r\n\t\tclient_secret: \"\",\r\n\t};\r\n\r\n\thandleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { stripe, elements, data } = this.props;\r\n\r\n\t\tconst { error, paymentMethod } = await stripe.createPaymentMethod({\r\n\t\t\ttype: \"ideal\",\r\n\t\t\tideal: elements.getElement(IdealBankElement),\r\n\t\t});\r\n\r\n\t\tif (!error) {\r\n\t\t\tdata.data.handlePaymentProcessing(true);\r\n\t\t\tconst { id } = paymentMethod;\r\n\t\t\tAxios.post(STRIPE_PAYMENT, {\r\n\t\t\t\ttoken: data.data.user.data.auth_token,\r\n\t\t\t\tid: id,\r\n\t\t\t\tamount: data.data.total * 100,\r\n\t\t\t\tcurrency: \"eur\",\r\n\t\t\t\tpayment_method_types: [\"ideal\"],\r\n\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\t//payment intent successful, place order\r\n\t\t\t\t\tconst placeOrderAsync = new Promise((resolve) => {\r\n\t\t\t\t\t\tdata.data.placeOrder(\"\", \"STRIPE\", true);\r\n\t\t\t\t\t\tresolve(\"Order Placed\");\r\n\t\t\t\t\t});\r\n\t\t\t\t\tplaceOrderAsync.then(() => {\r\n\t\t\t\t\t\tthis.setState({ client_secret: response.data.client_secret });\r\n\t\t\t\t\t\t//after this, it goes to component will receive props\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleConfirmIdealPayment = (order) => {\r\n\t\tconst { stripe, elements } = this.props;\r\n\r\n\t\t//if not empty\r\n\t\tif (this.state.client_secret !== \"\") {\r\n\t\t\tconst { error } = stripe.confirmIdealPayment(this.state.client_secret, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tideal: elements.getElement(IdealBankElement),\r\n\t\t\t\t\tbilling_details: {\r\n\t\t\t\t\t\tname: this.state.name,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\treturn_url: STRIPE_PAYMENT_CAPTURE + \"?order_id=\" + order.data.id,\r\n\t\t\t});\r\n\t\t\tif (error) {\r\n\t\t\t\tconsole.log(error.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.data.data.checkout !== nextProps.data.data.checkout) {\r\n\t\t\tconsole.log(\"Order Placed\");\r\n\t\t\tthis.handleConfirmIdealPayment(nextProps.data.data.checkout);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t// const { errorMessage, paymentMethod, name } = this.state;\r\n\t\tconst { stripe, data } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<label htmlFor=\"name\">{localStorage.getItem(\"checkoutCardFullname\")}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control StripeElement\"\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tthis.setState({ name: event.target.value });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"ideal\">{localStorage.getItem(\"checkoutIdealSelectBankText\")}</label>\r\n\t\t\t\t\t<IdealBankElement id=\"ideal\" options={ELEMENT_OPTIONS} />\r\n\t\t\t\t\t<button type=\"submit\" disabled={!stripe} className=\"btn stripe-pay-btn\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayText\")}{\" \"}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t{data.data.total}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst InjectedCheckoutForm = (data) => (\r\n\t<ElementsConsumer>\r\n\t\t{({ stripe, elements }) => <CheckoutForm stripe={stripe} elements={elements} data={data} />}\r\n\t</ElementsConsumer>\r\n);\r\n\r\n// Make sure to call `loadStripe` outside of a components render to avoid\r\n// recreating the `Stripe` object on every render.\r\nconst stripePromise = loadStripe(localStorage.getItem(\"stripePublicKey\"), {\r\n\tlocale: localStorage.getItem(\"stripeLocale\"),\r\n});\r\n\r\nconst StripeIdeal = (data) => {\r\n\treturn (\r\n\t\t<Elements stripe={stripePromise}>\r\n\t\t\t<InjectedCheckoutForm data={data} />\r\n\t\t</Elements>\r\n\t);\r\n};\r\n\r\n// export default StripeIdeal;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcheckout: state.checkout.checkout,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{}\r\n)(StripeIdeal);\r\n","import React, { Component } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { FpxBankElement, Elements, ElementsConsumer } from \"@stripe/react-stripe-js\";\r\nimport Axios from \"axios\";\r\n\r\nimport { STRIPE_PAYMENT, STRIPE_PAYMENT_CAPTURE } from \"../../../../../../configs\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ELEMENT_OPTIONS = {\r\n\taccountHolderType: \"individual\",\r\n\tclasses: {\r\n\t\tbase: \"StripeElementFpx\",\r\n\t\tfocus: \"StripeElementFpx--focus\",\r\n\t},\r\n\tstyle: {\r\n\t\tbase: {\r\n\t\t\tpadding: \"10px 8px\",\r\n\t\t\tfontSize: \"15px\",\r\n\t\t\tcolor: \"#5f5f5f\",\r\n\t\t\tletterSpacing: \"0.025em\",\r\n\t\t\t\"::placeholder\": {\r\n\t\t\t\tcolor: \"#aab7c4\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tinvalid: {\r\n\t\t\tcolor: \"#9e2146\",\r\n\t\t},\r\n\t},\r\n};\r\n\r\nclass CheckoutForm extends Component {\r\n\tstate = {\r\n\t\tname: \"\",\r\n\t\terrorMessage: null,\r\n\t\tpaymentMethod: null,\r\n\t\tclient_secret: \"\",\r\n\t};\r\n\r\n\thandleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst { stripe, elements, data } = this.props;\r\n\r\n\t\t// const fpxBank = elements.getElement(FpxBankElement);\r\n\t\tconst { error, paymentMethod } = await stripe.createPaymentMethod({\r\n\t\t\ttype: \"fpx\",\r\n\t\t\tfpx: elements.getElement(FpxBankElement),\r\n\t\t});\r\n\r\n\t\tif (!error) {\r\n\t\t\tdata.data.handlePaymentProcessing(true);\r\n\t\t\tconst { id } = paymentMethod;\r\n\t\t\tAxios.post(STRIPE_PAYMENT, {\r\n\t\t\t\ttoken: data.data.user.data.auth_token,\r\n\t\t\t\tid: id,\r\n\t\t\t\tamount: data.data.total * 100,\r\n\t\t\t\tcurrency: \"myr\",\r\n\t\t\t\tpayment_method_types: [\"fpx\"],\r\n\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\t//payment intent successful, place order\r\n\t\t\t\t\tconst placeOrderAsync = new Promise((resolve) => {\r\n\t\t\t\t\t\tdata.data.placeOrder(\"\", \"STRIPE\", true);\r\n\t\t\t\t\t\tresolve(\"Order Placed\");\r\n\t\t\t\t\t});\r\n\t\t\t\t\tplaceOrderAsync.then(() => {\r\n\t\t\t\t\t\tthis.setState({ client_secret: response.data.client_secret });\r\n\t\t\t\t\t\t//after this, it goes to component will receive props\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleConfirmFpxPayment = (order) => {\r\n\t\tconst { stripe, elements } = this.props;\r\n\t\tif (this.state.client_secret !== \"\") {\r\n\t\t\tconst { error } = stripe.confirmFpxPayment(this.state.client_secret, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tfpx: elements.getElement(FpxBankElement),\r\n\t\t\t\t\tbilling_details: {\r\n\t\t\t\t\t\tname: this.state.name,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\treturn_url: STRIPE_PAYMENT_CAPTURE + \"?order_id=\" + order.data.id,\r\n\t\t\t});\r\n\r\n\t\t\tif (error) {\r\n\t\t\t\tconsole.log(error.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.data.data.checkout !== nextProps.data.data.checkout) {\r\n\t\t\tconsole.log(\"Order Placed\");\r\n\t\t\tthis.handleConfirmFpxPayment(nextProps.data.data.checkout);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t// const { errorMessage, paymentMethod, name } = this.state;\r\n\t\tconst { stripe, data } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<label htmlFor=\"name\">{localStorage.getItem(\"checkoutCardFullname\")}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control StripeElement\"\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tthis.setState({ name: event.target.value });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"fpx\">{localStorage.getItem(\"checkoutFpxSelectBankText\")}</label>\r\n\t\t\t\t\t<FpxBankElement accountHolderType=\"individual\" id=\"fpx\" options={ELEMENT_OPTIONS} />\r\n\t\t\t\t\t<button type=\"submit\" disabled={!stripe} className=\"btn stripe-pay-btn\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayText\")}{\" \"}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t{data.data.total}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst InjectedCheckoutForm = (data) => (\r\n\t<ElementsConsumer>\r\n\t\t{({ stripe, elements }) => <CheckoutForm stripe={stripe} elements={elements} data={data} />}\r\n\t</ElementsConsumer>\r\n);\r\n\r\n// Make sure to call `loadStripe` outside of a components render to avoid\r\n// recreating the `Stripe` object on every render.\r\nconst stripePromise = loadStripe(localStorage.getItem(\"stripePublicKey\"), {\r\n\tlocale: localStorage.getItem(\"stripeLocale\"),\r\n});\r\n\r\nconst StripeFpx = (data) => {\r\n\treturn (\r\n\t\t<Elements stripe={stripePromise}>\r\n\t\t\t<InjectedCheckoutForm data={data} />\r\n\t\t</Elements>\r\n\t);\r\n};\r\n\r\n// export default StripeFpx;\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcheckout: state.checkout.checkout,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{}\r\n)(StripeFpx);\r\n","import React, { Component } from \"react\";\r\nimport { FlutterWaveButton, closePaymentModal } from \"flutterwave-react-v3\";\r\n\r\nclass FlutterWave extends Component {\r\n\tgetCountryId = () => {\r\n\t\tswitch (localStorage.getItem(\"currencyId\")) {\r\n\t\t\tcase \"KES\":\r\n\t\t\t\treturn \"KE\";\r\n\t\t\tcase \"GHS\":\r\n\t\t\t\treturn \"GH\";\r\n\t\t\tcase \"ZAR\":\r\n\t\t\t\treturn \"ZA\";\r\n\t\t\tcase \"TZS\":\r\n\t\t\t\treturn \"TZ\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"NG\";\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { total, user, placeOrder, reset } = this.props;\r\n\t\tconst config = {\r\n\t\t\tpublic_key: localStorage.getItem(\"flutterwavePublicKey\"),\r\n\t\t\ttx_ref: Date.now(),\r\n\t\t\tamount: total,\r\n\t\t\tcurrency: localStorage.getItem(\"currencyId\"),\r\n\t\t\tcountry: this.getCountryId(),\r\n\t\t\tpayment_options:\r\n\t\t\t\t\"card,account,ussd,qr,mpesa,mobilemoneyghana,mobilemoneyuganda,mobilemoneyrwanda,mobilemoneyzambia,mobilemoneytanzania,barter,bank transfer,wechat\",\r\n\t\t\tcustomer: {\r\n\t\t\t\temail: user.data.email,\r\n\t\t\t\tphonenumber: user.data.phone,\r\n\t\t\t\tname: user.data.name,\r\n\t\t\t},\r\n\t\t\tcustomizations: {\r\n\t\t\t\tlogo: window.location.origin + \"/assets/img/favicons/\" + localStorage.getItem(\"favicon-96x96\"),\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst fwConfig = {\r\n\t\t\t...config,\r\n\t\t\ttext: \"Pay with Flutterwave\",\r\n\t\t\tclassName: \"flutterwave-btn\",\r\n\t\t\tcallback: (response) => {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tif (response.status === \"successful\") {\r\n\t\t\t\t\tplaceOrder(\"\", \"FLUTTERWAVE\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclosePaymentModal();\r\n\t\t\t},\r\n\t\t\tonClose: () => {\r\n\t\t\t\tconsole.log(\"flutterwave closed.\");\r\n\t\t\t\treset();\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<FlutterWaveButton {...fwConfig} />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FlutterWave;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport PaypalExpressBtn from \"react-paypal-express-checkout\";\r\nimport PaystackButton from \"react-paystack\";\r\n\r\nimport { RAZORPAY_CREATE_ORDER_URL } from \"../../../../configs\";\r\nimport { RAZORPAY_PROCESS_VERIFY_URL } from \"../../../../configs\";\r\n\r\nimport { PAYU_CREATE_ORDER_URL } from \"../../../../configs\";\r\nimport { PAYU_PROCESS_VERIFY_URL } from \"../../../../configs\";\r\n\r\nimport { PHONEPE_CREATE_ORDER_URL } from \"../../../../configs\";\r\n\r\nimport { PAYMONGO_PAYMENT_URL } from \"../../../../configs\";\r\nimport { MERCADOPAGO_PAYMENT_URL } from \"../../../../configs\";\r\nimport { PAYTM_PAYMENT_URL } from \"../../../../configs\";\r\n\r\nimport { UPI_GATEWAY_PAYMENT_URL } from \"../../../../configs\";\r\n\r\nimport { KHALTI_PAYMENT_VERIFICATION_URL } from \"../../../../configs\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { formatPrice } from \"../../../helpers/formatPrice\";\r\n\r\nimport { placeOrder } from \"../../../../services/checkout/actions\";\r\nimport { updateUserInfo } from \"../../../../services/user/actions\";\r\nimport { calculateDistance } from \"../../../helpers/calculateDistance\";\r\nimport calculateDistanceGoogle from \"../../../helpers/calculateDistanceGoogle.js\";\r\nimport Axios from \"axios\";\r\n\r\nimport { getRestaurantInfoById } from \"../../../../services/items/actions\";\r\n\r\nimport StripeCard from \"./Stripe/StripeCard\";\r\nimport StripeIdeal from \"./Stripe/StripeIdeal\";\r\nimport StripeFpx from \"./Stripe/StripeFpx\";\r\n\r\nimport { PaymentInputsContainer } from \"react-payment-inputs\";\r\nimport { Redirect } from \"react-router\";\r\nimport FlutterWave from \"./Flutterwave\";\r\nimport KhaltiCheckout from \"khalti-checkout-web\";\r\n\r\nclass PaymentList extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\tstate = {\r\n\t\tpayment_gateway_loading: true,\r\n\t\tloading: false,\r\n\t\tstripe_opened: false,\r\n\t\tdelivery_charges: 0.0,\r\n\t\tstore_surge_fee: 0.0,\r\n\t\terror: false,\r\n\t\trazorpay_opened: false,\r\n\t\trazorpay_success: false,\r\n\t\tcanPayPartialWithWallet: false,\r\n\t\twalletChecked: false,\r\n\t\tcanPayFullWithWallet: false,\r\n\t\tdistance: 0,\r\n\t\tplaceOrderError: false,\r\n\t\terrorMessage: \"\",\r\n\r\n\t\tpayWithStripeCard: false,\r\n\t\tpayWithStripeIdeal: false,\r\n\t\tpayWithStripeFpx: false,\r\n\r\n\t\tpaymongoCCNumber: \"\",\r\n\t\tpaymongoCCExp: \"\",\r\n\t\tpaymongoCCCvv: \"\",\r\n\t\tshowPaymongoForm: false,\r\n\t\tpaymongoRedirect: \"\",\r\n\t\tpaymongo_processing: false,\r\n\r\n\t\tcashChange: \"\",\r\n\t\tregexp: /^[0-9\\b]+$/,\r\n\t\tshowCod: false,\r\n\t\tpayuFormData: null,\r\n      \tshowConfirmation: false,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { user } = this.props;\r\n\t\tconsole.log('totalPrice', this.props.cartTotal.totalPrice);\r\n\t\tif (localStorage.getItem(\"activeRestaurant\") !== null) {\r\n\t\t\tthis.props.getRestaurantInfoById(localStorage.getItem(\"activeRestaurant\")).then((response) => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tif (response.payload.id) {\r\n\t\t\t\t\t\tthis.__doesRestaurantOperatesAtThisLocation(response.payload);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.updateUserInfo(user.data.id, user.data.auth_token, null);\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\tthis.setState({ delivery_charges: 0.0 });\r\n\t\t} else {\r\n\t\t\tif (parseFloat(this.props.restaurant_info.free_delivery_subtotal) > 0) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tparseFloat(this.props.cartTotal.totalPrice) >=\r\n\t\t\t\t\tparseFloat(this.props.restaurant_info.free_delivery_subtotal)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconsole.log(\"Free Delivery \");\r\n\t\t\t\t\tthis.setState({ delivery_charges: 0 });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.surgeDeliveryCharge(this.props.cartTotal.totalPrice, this.props.restaurant_info.delivery_charges);\r\n\t\t\t\t\t// this.setState({ delivery_charges: this.props.restaurant_info.delivery_charges });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.surgeDeliveryCharge(this.props.cartTotal.totalPrice, this.props.restaurant_info.delivery_charges);\r\n\t\t\t\t// this.setState({ delivery_charges: this.props.restaurant_info.delivery_charges });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\tif (localStorage.getItem(\"enCODonSF\") === \"true\") {\r\n\t\t\t\tthis.setState({ showCod: true });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ showCod: false });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({ showCod: true });\r\n\t\t}\r\n\r\n\t\tthis.setState({ store_surge_fee: this.getStoreSurgeCalculation(this.props) });\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (nextProps.gatewayStatus) {\r\n\t\t\tthis.setState({ payment_gateway_loading: false });\r\n\t\t}\r\n\r\n\t\tif (nextProps.checkout !== this.props.checkout) {\r\n\t\t\t//remove coupon\r\n\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\tlocalStorage.removeItem(\"couponAppliedAmount\");\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"PAYMONGO\") {\r\n\t\t\t\tif (this.state.paymongoRedirect !== \"\") {\r\n\t\t\t\t\twindow.location = this.state.paymongoRedirect;\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"MERCADOPAGO\") {\r\n\t\t\t\twindow.location = MERCADOPAGO_PAYMENT_URL + \"/\" + nextProps.checkout.data.id;\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t//for stripe ideal, fpx and 3d\r\n\t\t\tif (nextProps.checkout.data.orderstatus_id !== 8) {\r\n\t\t\t\t//if orderstatus_id is not Awaiting payment then\r\n\t\t\t\t//redirect to running order page\r\n\t\t\t\tthis.context.router.history.push(\"/running-order/\" + nextProps.checkout.data.unique_order_id);\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"PAYTM\") {\r\n\t\t\t\twindow.location = PAYTM_PAYMENT_URL + \"/\" + nextProps.checkout.data.id;\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"UPI\") {\r\n\t\t\t\tconst url = UPI_GATEWAY_PAYMENT_URL + \"/\" + nextProps.checkout.data.id;\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tlangData : [\r\n\t\t\t\t\t\t{key: 'upiPayHeading', value: localStorage.getItem('upiPayHeading')},\r\n\t\t\t\t\t\t{key: 'upiPaySubHeading', value: localStorage.getItem('upiPaySubHeading')},\r\n\t\t\t\t\t\t{key: 'upiPayWaitMessage', value: localStorage.getItem('upiPayWaitMessage')},\r\n\t\t\t\t\t\t{key: 'upiPayPhonePeText', value: localStorage.getItem('upiPayPhonePeText')},\r\n\t\t\t\t\t\t{key: 'upiPayGooglePayText', value: localStorage.getItem('upiPayGooglePayText')},\r\n\t\t\t\t\t\t{key: 'upiPayPaytmText', value: localStorage.getItem('upiPayPaytmText')},\r\n\t\t\t\t\t\t{key: 'upiPayOthersText', value: localStorage.getItem('upiPayOthersText')},\r\n\t\t\t\t\t\t{key: 'upiPayQrCodeTitle', value: localStorage.getItem('upiPayQrCodeTitle')},\r\n\t\t\t\t\t\t{key: 'upiPayShowQrCodeText', value: localStorage.getItem('upiPayShowQrCodeText')},\r\n\t\t\t\t\t\t{key: 'upiPayHideQrCodeText', value: localStorage.getItem('upiPayHideQrCodeText')}\r\n\t\t\t\t\t],\r\n\t\t\t\t  };\r\n\t\t\t\tAxios.post(url, data)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log('upi_res', response);\r\n\t\t\t\t\t\tif (response.data.success === true){\r\n\t\t\t\t\t\t\twindow.location = response.data.redirect_url;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"Message - \" + response.data.message );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"PayUMoney\") {\r\n\t\t\t\tthis.getPayUFormData(nextProps.checkout.data.id);\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"PhonePe\") {\r\n\t\t\t\tthis.__handlePhonePe(nextProps.checkout.data.id, nextProps.checkout.data.unique_order_id);\r\n\t\t\t}\r\n\r\n\t\t\tif (nextProps.checkout.data.payment_mode === \"RAZORPAY\") {\r\n\t\t\t\tconsole.log(nextProps.checkout);\r\n\r\n\t\t\t\tif (navigator.userAgent === \"FoodomaaAndroidWebViewUA\") {\r\n\t\t\t\t\tif (window.Android !== \"undefined\") {\r\n\t\t\t\t\t\twindow.Android.startRazorpaySdkProcess(\r\n\t\t\t\t\t\t\tnextProps.checkout.data.id,\r\n\t\t\t\t\t\t\tnextProps.checkout.data.unique_order_id,\r\n\t\t\t\t\t\t\tnextProps.user.data.name,\r\n\t\t\t\t\t\t\tnextProps.user.data.email,\r\n\t\t\t\t\t\t\tnextProps.user.data.phone\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.__handleRazorPay(nextProps.checkout.data.id, nextProps.checkout.data.unique_order_id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(\"Google Loading: \" + nextProps.googleLoadingStatus);\r\n\t\tif (nextProps.googleLoadingStatus === false) {\r\n\t\t\t//if  > 0 then user can pay with wallet (Amount will be deducted)\r\n\t\t\tif (\r\n\t\t\t\tnextProps.user.data.wallet_balance > 0 &&\r\n\t\t\t\tnextProps.user.data.wallet_balance < parseFloat(this.getTotalAfterCalculation())\r\n\t\t\t) {\r\n\t\t\t\t// console.log(\"Can pay partial with wallet\");\r\n\t\t\t\tthis.setState({ canPayPartialWithWallet: true, canPayFullWithWallet: false });\r\n\t\t\t}\r\n\t\t\t// console.log(\"Outside:\" + parseFloat(this.getTotalAfterCalculation()));\r\n\t\t\tif (\r\n\t\t\t\tnextProps.user.data.wallet_balance > 0 &&\r\n\t\t\t\tnextProps.user.data.wallet_balance >= parseFloat(this.getTotalAfterCalculation())\r\n\t\t\t) {\r\n\t\t\t\tconsole.log(\"Inside:\" + parseFloat(this.getTotalAfterCalculation()));\r\n\t\t\t\t// console.log(\"Can pay full with wallet\");\r\n\t\t\t\tthis.setState({ canPayFullWithWallet: true, canPayPartialWithWallet: false });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__doesRestaurantOperatesAtThisLocation = (restaurant_info) => {\r\n\t\t//send user lat long to helper, check with the current restaurant lat long and setstate accordingly\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tlet self = this;\r\n\r\n\t\t\tif (localStorage.getItem(\"enGDMA\") === \"true\") {\r\n\t\t\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\t\t\tthis.props.handleProcessDistanceCalcLoading(true);\r\n\r\n\t\t\t\t\tcalculateDistanceGoogle(\r\n\t\t\t\t\t\trestaurant_info.longitude,\r\n\t\t\t\t\t\trestaurant_info.latitude,\r\n\t\t\t\t\t\tuser.data.default_address.longitude,\r\n\t\t\t\t\t\tuser.data.default_address.latitude,\r\n\t\t\t\t\t\tthis.props.google,\r\n\t\t\t\t\t\tfunction(distance) {\r\n\t\t\t\t\t\t\tif (self.props.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\r\n\t\t\t\t\t\t\t\tself.setState({ distance: distance }, () => {\r\n\t\t\t\t\t\t\t\t\t//check if restaurant has dynamic delivery charge..\r\n\t\t\t\t\t\t\t\t\tself.calculateDynamicDeliveryCharge();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.props.handleProcessDistanceCalcLoading(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\t\t\tconst distance = calculateDistance(\r\n\t\t\t\t\t\trestaurant_info.longitude,\r\n\t\t\t\t\t\trestaurant_info.latitude,\r\n\t\t\t\t\t\tuser.data.default_address.longitude,\r\n\t\t\t\t\t\tuser.data.default_address.latitude\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (this.props.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\r\n\t\t\t\t\t\tthis.setState({ distance: distance }, () => {\r\n\t\t\t\t\t\t\t//check if restaurant has dynamic delivery charge..\r\n\t\t\t\t\t\t\tthis.calculateDynamicDeliveryCharge();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tgetStoreSurgeCalculation = (props) => {\r\n\t\tconst { total, restaurant_info } = props;\r\n\t\tlet surge_fee = 0;\r\n\t\r\n\t\tif (restaurant_info.enable_store_surge === 1) {\r\n\t\t\tlet store_surge_fee = (restaurant_info.store_surge_type === \"PERCENTAGE\") \r\n\t\t\t\t? (total * parseFloat(restaurant_info.store_surge_rate) / 100) \r\n\t\t\t\t: parseFloat(restaurant_info.store_surge_rate);\r\n\t\t\tsurge_fee += store_surge_fee;\r\n\t\t}\r\n\t\tif (restaurant_info.demand_surge_rate > 0) {\r\n\t\t\tlet demand_surge_fee = parseFloat(restaurant_info.demand_surge_rate);\r\n\t\t\tsurge_fee += demand_surge_fee;\r\n\t\t}\r\n\t\r\n\t\treturn formatPrice(surge_fee);\r\n\t};\r\n\r\n\tcalculateDynamicDeliveryCharge = () => {\r\n\t\tconst { restaurant_info } = this.props;\r\n\t\tconst total = this.props.cartTotal.totalPrice\r\n\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\t// console.log(\"Distance from user to restaurant: \" + distanceFromUserToRestaurant + \" km\");\r\n\t\tlet delivery_charges_calc = 0;\r\n\t\tif (distanceFromUserToRestaurant > restaurant_info.base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - restaurant_info.base_delivery_distance;\r\n\t\t\t// console.log(\"Extra Distance: \" + extraDistance + \" km\");\r\n\r\n\t\t\tconst extraCharge =\r\n\t\t\t\t(extraDistance / restaurant_info.extra_delivery_distance) * restaurant_info.extra_delivery_charge;\r\n\t\t\t// console.log(\"Extra Charge: \" + extraCharge);\r\n\r\n\t\t\tlet dynamicDeliveryCharge = parseFloat(restaurant_info.base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tdynamicDeliveryCharge = Math.ceil(dynamicDeliveryCharge);\r\n\t\t\t}\r\n\r\n\t\t\tdelivery_charges_calc = dynamicDeliveryCharge;\r\n\t\t\tconsole.log(\"dynamic: \" + delivery_charges_calc);\r\n\t\t} else {\r\n\t\t\tdelivery_charges_calc = restaurant_info.base_delivery_charge;\r\n\t\t\tconsole.log(\"fixed: \" + delivery_charges_calc);\r\n\t\t}\r\n\r\n\t\tif (parseFloat(restaurant_info.free_delivery_subtotal) > 0) {\r\n\t\t\tif (parseFloat(this.props.cartTotal.totalPrice) >= parseFloat(restaurant_info.free_delivery_subtotal)) {\r\n\t\t\t\tconsole.log(\"Free Delivery \");\r\n\t\t\t\tthis.setState({ delivery_charges: 0 });\r\n\t\t\t} else {\r\n\t\t\t\tthis.surgeDeliveryCharge(this.props.cartTotal.totalPrice, delivery_charges_calc)\r\n\t\t\t\t// this.setState({ delivery_charges: delivery_charges_calc });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.surgeDeliveryCharge(this.props.cartTotal.totalPrice, delivery_charges_calc)\r\n\t\t\t// this.setState({ delivery_charges: delivery_charges_calc });\r\n\t\t}\r\n\r\n\t\t// this.processPayWithWalletBlocks();\r\n\t};\r\n\r\n\tsurgeDeliveryCharge = (total, deliveryCharge) =>{\r\n\t\tconst restaurantInfo = this.props.restaurant_info;\r\n\t\tif (restaurantInfo && restaurantInfo.surge_settings) {\r\n\t\t\tconst { surge_settings } = this.props.restaurant_info;\r\n\t\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\t\t// //distance based surge_settings\r\n\t\t\tif (surge_settings.enable_surge_below_distance && parseFloat(distanceFromUserToRestaurant) <= parseFloat(surge_settings.below_distance)) {\r\n\t\t\t\t// if the delivery charge type is DYNAMIC, calculate dynamic charge\r\n\t\t\t\tif (surge_settings.below_distance_delivery_charge_type === 'DYNAMIC') {\r\n\t\t\t\t\tthis.calculateDistanceSurgeCharge('below', surge_settings);\r\n\t\t\t\t} \r\n\t\t\t\t// if the delivery charge type is FIXED, set the fixed surge delivery charge\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({ delivery_charges: surge_settings.below_distance_delivery_charge });\r\n\t\t\t\t}\r\n\t\t\t} else if (surge_settings.enable_surge_above_distance && parseFloat(distanceFromUserToRestaurant) > parseFloat(surge_settings.above_distance)) {\r\n\t\t\t\t// if the delivery charge type is DYNAMIC, calculate dynamic charge\r\n\t\t\t\tif (surge_settings.above_distance_delivery_charge_type === 'DYNAMIC') {\r\n\t\t\t\t\tthis.calculateDistanceSurgeCharge('above', surge_settings);\r\n\t\t\t\t} \r\n\t\t\t\t// if the delivery charge type is FIXED, set the fixed surge delivery charge\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({ delivery_charges: surge_settings.above_distance_delivery_charge });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// total based surge_settings\r\n\t\t\t\t// if order total is below the specified amount and surge pricing is enabled for this case\r\n\t\t\t\tif (surge_settings.enable_surge_below_order && parseFloat(total) <= parseFloat(surge_settings.below_order_amount)) {\r\n\t\t\t\t\t// if the delivery charge type is DYNAMIC, calculate dynamic charge\r\n\t\t\t\t\tif (surge_settings.below_order_delivery_charge_type === 'DYNAMIC') {\r\n\t\t\t\t\t\tthis.calculateSurgeCharge('below', surge_settings);\r\n\t\t\t\t\t} \r\n\t\t\t\t\t// if the delivery charge type is FIXED, set the fixed surge delivery charge\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.setState({ delivery_charges: surge_settings.below_order_delivery_charge });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// if order total is above the specified amount and surge pricing is enabled for this case\r\n\t\t\t\telse if (surge_settings.enable_surge_above_order && parseFloat(total) > parseFloat(surge_settings.above_order_amount)) {\r\n\t\t\t\t\t// if the delivery charge type is DYNAMIC, calculate dynamic charge\r\n\t\t\t\t\tif (surge_settings.above_order_delivery_charge_type === 'DYNAMIC') {\r\n\t\t\t\t\t\tthis.calculateSurgeCharge('above', surge_settings);\r\n\t\t\t\t\t} \r\n\t\t\t\t\t// if the delivery charge type is FIXED, set the fixed surge delivery charge\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.setState({ delivery_charges: surge_settings.above_order_delivery_charge });\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t// if none of the surge pricing conditions apply, set the regular delivery charge\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({ delivery_charges: deliveryCharge });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: deliveryCharge });\r\n\t\t}\r\n\t};\r\n\r\n\tcalculateSurgeCharge = (type, surge_settings) => {\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\r\n\t\tconst base_delivery_distance = surge_settings[`${type}_order_base_delivery_distance`];\r\n\t\tconst base_delivery_charge = surge_settings[`${type}_order_base_delivery_charge`];\r\n\t\tconst extra_delivery_distance = surge_settings[`${type}_order_extra_delivery_distance`];\r\n\t\tconst extra_delivery_charge = surge_settings[`${type}_order_extra_delivery_charge`];\r\n\t\r\n\t\tif (distanceFromUserToRestaurant > base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - base_delivery_distance;\r\n\t\r\n\t\t\tconst extraCharge = (extraDistance / extra_delivery_distance) * extra_delivery_charge;\r\n\t\r\n\t\t\tlet surgeDeliveryCharge = parseFloat(base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\t\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tsurgeDeliveryCharge = Math.ceil(surgeDeliveryCharge);\r\n\t\t\t}\r\n\t\r\n\t\t\tthis.setState({ delivery_charges: surgeDeliveryCharge });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: base_delivery_charge });\r\n\t\t}\r\n\t};\r\n\r\n\tcalculateDistanceSurgeCharge = (type, surge_settings) => {\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\r\n\t\tconst base_delivery_distance = surge_settings[`${type}_distance_base_delivery_distance`];\r\n\t\tconst base_delivery_charge = surge_settings[`${type}_distance_base_delivery_charge`];\r\n\t\tconst extra_delivery_distance = surge_settings[`${type}_distance_extra_delivery_distance`];\r\n\t\tconst extra_delivery_charge = surge_settings[`${type}_distance_extra_delivery_charge`];\r\n\t\r\n\t\tif (distanceFromUserToRestaurant > base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - base_delivery_distance;\r\n\t\r\n\t\t\tconst extraCharge = (extraDistance / extra_delivery_distance) * extra_delivery_charge;\r\n\t\r\n\t\t\tlet surgeDeliveryCharge = parseFloat(base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\t\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tsurgeDeliveryCharge = Math.ceil(surgeDeliveryCharge);\r\n\t\t\t}\r\n\t\r\n\t\t\tthis.setState({ delivery_charges: surgeDeliveryCharge });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: base_delivery_charge });\r\n\t\t}\r\n\t};\r\n\r\n\t// processPayWithWalletBlocks = () => {\r\n\t// \tif (\r\n\t// \t\tthis.props.user.data.wallet_balance > 0 &&\r\n\t// \t\tthis.props.user.data.wallet_balance < parseFloat(this.getTotalAfterCalculation())\r\n\t// \t) {\r\n\t// \t\tconsole.log(\"Can pay partial with wallet\");\r\n\t// \t\tthis.setState({ canPayPartialWithWallet: true, canPayFullWithWallet: false });\r\n\t// \t}\r\n\r\n\t// \tif (this.props.user.data.wallet_balance >= parseFloat(this.getTotalAfterCalculation())) {\r\n\t// \t\tconsole.log(\"Can pay full with wallet\");\r\n\t// \t\tthis.setState({ canPayFullWithWallet: true, canPayPartialWithWallet: false });\r\n\t// \t}\r\n\t// };\r\n\r\n\t/* Stripe */\r\n\tonOpened = () => {\r\n\t\tthis.setState({ stripe_opened: true });\r\n\t};\r\n\tonToken = (payment_token) => {\r\n\t\tconst method = \"STRIPE\";\r\n\t\tthis.__placeOrder(payment_token, method);\r\n\t};\r\n\t/* END Stripe */\r\n\r\n\t/* Paypal */\r\n\tonSuccess = (payment) => {\r\n\t\tconst payment_token = \"\";\r\n\t\tconst method = \"PAYPAL\";\r\n\t\tthis.__placeOrder(payment_token, method);\r\n\t};\r\n\r\n\tonCancel = (data) => {\r\n\t\tconsole.log(\"Paypal Payment Canceled\");\r\n\t};\r\n\r\n\tonError = (err) => {\r\n\t\tconsole.log(\"Error!\");\r\n\t};\r\n\t/* END Paypal */\r\n\r\n\t/* PayStack */\r\n\tcallback = (response) => {\r\n\t\tif (response.status === \"success\") {\r\n\t\t\tconst payment_token = response.reference;\r\n\t\t\tconst method = \"PAYSTACK\";\r\n\t\t\tthis.__placeOrder(payment_token, method);\r\n\t\t} else {\r\n\t\t\tconsole.log(response);\r\n\t\t}\r\n\t};\r\n\r\n\tclose = () => {\r\n\t\tconsole.log(\"PayStack Payment Closed\");\r\n\t};\r\n\r\n\tgetReference = () => {\r\n\t\t//you can put any unique reference implementation code here\r\n\t\tlet text = \"\";\r\n\t\tlet possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.=\";\r\n\r\n\t\tfor (let i = 0; i < 15; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n\t\treturn text;\r\n\t};\r\n\t/* END PayStack */\r\n\r\n\t__placeOrder = (payment_token, method, pending_payment = false) => {\r\n\t\tlet navBar = document.getElementById(\"checkoutNavPageTitle\");\r\n\t\tif (navBar) {\r\n\t\t\tdocument.getElementById(\"checkoutNavPageTitle\").remove();\r\n\t\t}\r\n\r\n\t\t// disable all button Onclick with pointer events\r\n\t\tlet paymentgatewaysblock = document.getElementsByClassName(\"paymentGatewayBlock\");\r\n\t\tfor (let i = 0; i < paymentgatewaysblock.length; i++) {\r\n\t\t\tpaymentgatewaysblock[i].classList.add(\"no-click\");\r\n\t\t}\r\n\r\n\t\tlet tipAmount = null;\r\n\t\tconsole.log(\"cart_tips\", JSON.parse(localStorage.getItem(\"cart_tips\")));\r\n\t\tif (JSON.parse(localStorage.getItem(\"cart_tips\")) != null) {\r\n\t\t\ttipAmount = JSON.parse(localStorage.getItem(\"cart_tips\")).value;\r\n\t\t}\r\n\r\n\t\tconst { user, cartProducts, coupon, cartTotal } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\t\tthis.props\r\n\t\t\t\t\t.placeOrder(\r\n\t\t\t\t\t\tuser,\r\n\t\t\t\t\t\tcartProducts,\r\n\t\t\t\t\t\tcoupon.success ? coupon : null,\r\n\t\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderComment\"),\r\n\t\t\t\t\t\tcartTotal,\r\n\t\t\t\t\t\tmethod,\r\n\t\t\t\t\t\tpayment_token,\r\n\t\t\t\t\t\t2,\r\n\t\t\t\t\t\tthis.state.walletChecked,\r\n\t\t\t\t\t\tparseFloat(this.state.distance),\r\n\t\t\t\t\t\tpending_payment,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderScheduledDeliveryDate\"),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderScheduledDeliveryTimeSlot\"),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"deliveryMethod\"),\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\t\tif (!response.success) {\r\n\t\t\t\t\t\t\t\tthis.setState({ placeOrderError: true, errorMessage: response.message });\r\n\t\t\t\t\t\t\t\tif (response.status === 429) {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ errorMessage: localStorage.getItem(\"tooManyApiCallMessage\") });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.resetPage();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.props\r\n\t\t\t\t\t.placeOrder(\r\n\t\t\t\t\t\tuser,\r\n\t\t\t\t\t\tcartProducts,\r\n\t\t\t\t\t\tcoupon.success ? coupon : null,\r\n\t\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderComment\"),\r\n\t\t\t\t\t\tcartTotal,\r\n\t\t\t\t\t\tmethod,\r\n\t\t\t\t\t\tpayment_token,\r\n\t\t\t\t\t\t1,\r\n\t\t\t\t\t\tthis.state.walletChecked,\r\n\t\t\t\t\t\tparseFloat(this.state.distance),\r\n\t\t\t\t\t\tpending_payment,\r\n\t\t\t\t\t\ttipAmount,\r\n\t\t\t\t\t\tthis.state.cashChange,\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderScheduledDeliveryDate\"),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"orderScheduledDeliveryTimeSlot\"),\r\n\t\t\t\t\t\tlocalStorage.getItem(\"deliveryMethod\"),\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\t\tconsole.log(\"Came here\");\r\n\t\t\t\t\t\t\tconsole.log(\"THIS\", response);\r\n\t\t\t\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tplaceOrderError: true,\r\n\t\t\t\t\t\t\t\t\terrorMessage: localStorage.getItem(\"userInActiveMessage\"),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.resetPage();\r\n\t\t\t\t\t\t\t} else if (!response.success) {\r\n\t\t\t\t\t\t\t\tthis.setState({ placeOrderError: true, errorMessage: response.message });\r\n\t\t\t\t\t\t\t\tif (response.status === 429) {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ errorMessage: localStorage.getItem(\"tooManyApiCallMessage\") });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.resetPage();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//show progress bar\r\n\t\t\tconst progressBar = document.getElementById(\"progressBar\");\r\n\t\t\tprogressBar.classList.remove(\"hidden\");\r\n\t\t\tlet progress = 0;\r\n\t\t\tvar foo = setInterval(function() {\r\n\t\t\t\tif (progress > 100) {\r\n\t\t\t\t\tclearInterval(foo);\r\n\t\t\t\t}\r\n\t\t\t\tprogress = progress + 1;\r\n\t\t\t\tprogressBar.style.width = progress + \"%\";\r\n\t\t\t}, 20);\r\n\r\n\t\t\tconst progressBarMessage = document.getElementById(\"checkoutMessageOnProcess\");\r\n\t\t\tprogressBarMessage.classList.remove(\"hidden\");\r\n\r\n\t\t\tconst checkoutIdleMessage = document.getElementById(\"checkoutMessageOnIdle\");\r\n\t\t\tcheckoutIdleMessage.classList.add(\"hidden\");\r\n\r\n\t\t\tthis.setState({ stripe_opened: false });\r\n\t\t}\r\n\t};\r\n\r\n\tresetPage = () => {\r\n\t\tconst progressBar = document.getElementById(\"progressBar\");\r\n\t\tprogressBar.classList.add(\"hidden\");\r\n\t\tsetTimeout(() => {\r\n\t\t\tprogressBar.style.width = \"0%\";\r\n\t\t}, 2200);\r\n\r\n\t\tlet paymentgatewaysblock = document.getElementsByClassName(\"paymentGatewayBlock\");\r\n\t\tfor (let i = 0; i < paymentgatewaysblock.length; i++) {\r\n\t\t\tpaymentgatewaysblock[i].classList.remove(\"no-click\");\r\n\t\t}\r\n\t\tconst progressBarMessage = document.getElementById(\"checkoutMessageOnProcess\");\r\n\t\tprogressBarMessage.classList.add(\"hidden\");\r\n\r\n\t\tconst checkoutIdleMessage = document.getElementById(\"checkoutMessageOnIdle\");\r\n\t\tcheckoutIdleMessage.classList.remove(\"hidden\");\r\n\t};\r\n\r\n\t// Calculating total with/without coupon/tax\r\n\tgetTotalAfterCalculation = () => {\r\n\t\tconst { coupon, restaurant_info, user, cartProducts } = this.props;\r\n\t\t// console.log('cartProducts', cartProducts);\r\n\t\tvar tips = JSON.parse(localStorage.getItem(\"cart_tips\"));\r\n\r\n\t\tconst total = this.props.cartTotal.totalPrice;\r\n\t\tlet calc = 0;\r\n\r\n\t\tif (coupon.code) {\r\n\t\t\tif (coupon.discount_type === \"PERCENTAGE\") {\r\n\t\t\t\tlet percentage_discount = formatPrice((coupon.discount / 100) * parseFloat(total));\r\n\t\t\t\tif (coupon.max_discount) {\r\n\t\t\t\t\tif (parseFloat(percentage_discount) >= coupon.max_discount) {\r\n\t\t\t\t\t\tpercentage_discount = coupon.max_discount;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcoupon.appliedAmount = percentage_discount;\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tformatPrice(\r\n\t\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t\tpercentage_discount +\r\n\t\t\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.store_surge_fee || 0.0)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t(parseFloat(coupon.discount) || 0.0) +\r\n\t\t\t\t\t\t((parseFloat(restaurant_info.restaurant_charges) || 0.0) +\r\n\t\t\t\t\t\t\t(parseFloat(this.state.delivery_charges) || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.store_surge_fee || 0.0))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(total) +\r\n\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0) +\r\n\t\t\t\t\tparseFloat(this.state.store_surge_fee || 0.0)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"taxApplicable\") === \"true\") {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(\r\n\t\t\t\t\tparseFloat(calc) + parseFloat(parseFloat(localStorage.getItem(\"taxPercentage\")) / 100) * calc\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tif (this.state.walletChecked && user.data.wallet_balance < calc) {\r\n\t\t\t\tcalc = calc - user.data.wallet_balance;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.state.walletChecked && user.data.wallet_balance < calc) {\r\n\t\t\t\tcalc = calc - user.data.wallet_balance;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (restaurant_info.enable_item_tax) {\r\n\t\t\tcartProducts.forEach((item) => {\r\n\t\t\t\tlet itemTotal = parseFloat(item.price) * item.quantity;\r\n\t\t\t\tlet tax_percentage = item.tax_percentage;\r\n\t\t\t\r\n\t\t\t\tif (tax_percentage === null || tax_percentage === 0) {\r\n\t\t\t\t\ttax_percentage = restaurant_info.tax_percentage > 0 ? restaurant_info.tax_percentage : 0;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlet itemTax = (parseFloat(tax_percentage) / 100) * itemTotal;\r\n\t\t\t\tcalc = formatPrice(parseFloat(calc) + itemTax);\r\n\t\t\t\r\n\t\t\t\t// Calculate tax for addons\r\n\t\t\t\tif (restaurant_info.enable_item_addon_tax) {\r\n\t\t\t\t\tif (item.selectedaddons) {\r\n\t\t\t\t\t\titem.selectedaddons.forEach((addon) => {\r\n\t\t\t\t\t\t\tlet addonTotal = parseFloat(addon.price) * item.quantity;\r\n\t\t\t\t\t\t\tlet addonTax = (parseFloat(tax_percentage) / 100) * addonTotal;\r\n\t\t\t\t\t\t\tcalc = formatPrice(parseFloat(calc) + addonTax);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (tips && tips.value > 0) {\r\n\t\t\tcalc = parseFloat(calc) + parseFloat(tips.value);\r\n\t\t}\r\n\r\n\t\treturn formatPrice(calc);\r\n\t};\r\n\r\n\tgetPayUFormData = (order_id) => {\r\n\t\tthis.setState({ razorpay_opened: true });\r\n\t\tAxios.post(PAYU_CREATE_ORDER_URL, { order_id: order_id })\r\n\t\t  .then((response) => {\r\n\t\t\t// console.log('PayULog',response);\r\n\t\t\tif (response.data.success) {\r\n\t\t\t\tthis.setState({ razorpay_opened: false });\r\n\t\t\t  const { payuMoneyData } = response.data;\r\n\t\t\t  const form = document.createElement(\"form\");\r\n\t\t\t  form.setAttribute(\"action\", \"https://secure.payu.in/_payment\");\r\n\t\t\t  form.setAttribute(\"method\", \"post\");\r\n\t\t\t  Object.keys(payuMoneyData).forEach((key) => {\r\n\t\t\t\tconst input = document.createElement(\"input\");\r\n\t\t\t\tinput.setAttribute(\"type\", \"hidden\");\r\n\t\t\t\tinput.setAttribute(\"name\", key);\r\n\t\t\t\tinput.setAttribute(\"value\", payuMoneyData[key]);\r\n\t\t\t\tform.appendChild(input);\r\n\t\t\t  });\r\n\t  \r\n\t\t\t  document.body.appendChild(form);\r\n\t\t\tform.submit();\r\n\t\t\t} else {\r\n\t\t\t  // Handle error\r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\t// Handle error\r\n\t\t  });\r\n\t};\r\n\r\n\t/* Khalti Payment Gateway */\r\n\t__handleKhaltiPayment = () => {\r\n\t\tthis.props.handleLoading(true);\r\n\t\tvar self = this;\r\n\t\tlet config = {\r\n\t\t\tpublicKey: localStorage.getItem(\"khaltiPublicKey\"),\r\n\t\t\tproductIdentity: localStorage.getItem(\"storeName\"),\r\n\t\t\tproductName: localStorage.getItem(\"storeName\"),\r\n\t\t\tproductUrl: localStorage.getItem(\"storeUrl\"),\r\n\t\t\teventHandler: {\r\n\t\t\t\tonSuccess(payload) {\r\n\t\t\t\t\t// hit merchant api for initiating verfication\r\n\t\t\t\t\tconsole.log(payload);\r\n\r\n\t\t\t\t\tself.__handleKhaltiPaymentSuccess(payload);\r\n\t\t\t\t},\r\n\t\t\t\t// onError handler is optional\r\n\t\t\t\tonError(error) {\r\n\t\t\t\t\t// handle errors\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\talert(\"Something went wrong. Please try again.\");\r\n\t\t\t\t},\r\n\t\t\t\tonClose() {\r\n\t\t\t\t\tself.props.handleLoading(false);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t// one can set the order of payment options and also the payment options based on the order and items in the array\r\n\t\t\t// paymentPreference: [\"MOBILE_BANKING\", \"KHALTI\", \"EBANKING\", \"CONNECT_IPS\", \"SCT\"],\r\n\t\t};\r\n\t\tlet checkout = new KhaltiCheckout(config);\r\n\t\tconst totalAmount = this.getTotalAfterCalculation() * 100; //in paisa\r\n\t\tcheckout.show({ amount: totalAmount });\r\n\t};\r\n\r\n\t__handleKhaltiPaymentSuccess = (payload) => {\r\n\t\tAxios.get(KHALTI_PAYMENT_VERIFICATION_URL, {\r\n\t\t\tparams: {\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t\tamount: payload.amount,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(\"Verification Response: \", response);\r\n\t\t\t\tif (response.data.success) {\r\n\t\t\t\t\tconsole.log(\"success.. place order now\");\r\n\t\t\t\t\tthis.__placeOrder(response.data.idx, \"KHALTI\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\talert(\"Something went wrong.\");\r\n\t\t\t\tthis.props.handleLoading(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\t/* PhonePe */\r\n\t__handlePhonePe = (foodomaa_order_id, foodomaa_unique_order_id) => {\r\n\t\tlet self = this;\r\n\t\tthis.setState({ razorpay_opened: true });\r\n\r\n\t\tAxios.post(PHONEPE_CREATE_ORDER_URL, {\r\n\t\t\torder_id: foodomaa_order_id,\r\n\t\t}).then((res) => {\r\n\t\t\tconsole.log('handlePhonePe', res);\r\n\t\t\tif (res && res.data && res.data.success) {\r\n\t\t\t\tconst url = res.data.url;\r\n\t\t\t\t// Push the my orders page URL to the browser history\r\n\t\t\t\twindow.history.pushState(null, '', '/my-orders');\r\n\r\n\t\t\t\t// Add event listener for the popstate event\r\n\t\t\t\twindow.onpopstate = function (event) {\r\n\t\t\t\t  // Redirect to the my orders page\r\n\t\t\t\t  self.context.router.history.push(\"/my-orders\");\r\n\t\t\t\t};\r\n\t\t\r\n\t\t\t\twindow.location.href = url;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t};\r\n\t/* END PhonePe */\r\n\r\n\t/* Razorpay */\r\n\t__handleRazorPay = (foodomaa_order_id, foodomaa_unique_order_id) => {\r\n\t\tlet self = this;\r\n\t\tthis.setState({ razorpay_opened: true });\r\n\r\n\t\tAxios.post(RAZORPAY_CREATE_ORDER_URL, {\r\n\t\t\torder_id: foodomaa_order_id,\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t// console.log(res.data.response.id);\r\n\t\t\t\tif (res.data.razorpay_success) {\r\n\t\t\t\t\tconst options = {\r\n\t\t\t\t\t\tkey: localStorage.getItem(\"razorpayKeyId\"),\r\n\t\t\t\t\t\tname: localStorage.getItem(\"storeName\"),\r\n\t\t\t\t\t\tcurrency: localStorage.getItem(\"currencyId\"),\r\n\t\t\t\t\t\torder_id: res.data.response.id,\r\n\t\t\t\t\t\thandler(response) {\r\n\t\t\t\t\t\t\tAxios.post(RAZORPAY_PROCESS_VERIFY_URL, {\r\n\t\t\t\t\t\t\t\torder_id: foodomaa_order_id,\r\n\t\t\t\t\t\t\t\trazorpay_order_id: response.razorpay_order_id,\r\n\t\t\t\t\t\t\t\trazorpay_payment_id: response.razorpay_payment_id,\r\n\t\t\t\t\t\t\t\trazorpay_signature: response.razorpay_signature,\r\n\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\tif (res && res.data && res.data.success) {\r\n\t\t\t\t\t\t\t\t\tself.context.router.history.push(\"/running-order/\" + foodomaa_unique_order_id);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmodal: {\r\n\t\t\t\t\t\t\tondismiss: function() {\r\n\t\t\t\t\t\t\t\tself.setState({ razorpay_opened: false, razorpay_success: false });\r\n\t\t\t\t\t\t\t\tself.context.router.history.push(\"/my-orders\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tprefill: {\r\n\t\t\t\t\t\t\tname: this.props.user.data.name,\r\n\t\t\t\t\t\t\temail: this.props.user.data.email,\r\n\t\t\t\t\t\t\tcontact: this.props.user.data.phone,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst rzp1 = new window.Razorpay(options);\r\n\r\n\t\t\t\t\trzp1.open();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\t/* END Razorpay */\r\n\r\n\t/* Paymongo */\r\n\thandleInput = (event) => {\r\n\t\tconst { name, value } = event.target;\r\n\t\tthis.setState({ [name]: value });\r\n\t};\r\n\r\n\t__showPaymongoForm = () => {\r\n\t\tthis.setState({ showPaymongoForm: true });\r\n\t};\r\n\r\n\thandlePaymongo = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst paymongoCCNumber = this.state.paymongoCCNumber;\r\n\t\tconst paymongoCCExp = this.state.paymongoCCExp;\r\n\t\tconst paymongoCCCvv = this.state.paymongoCCCvv;\r\n\r\n\t\tif (paymongoCCNumber === \"\" || paymongoCCExp === \"\" || paymongoCCCvv === \"\") {\r\n\t\t\tthis.setState({ placeOrderError: true, errorMessage: \"Please enter credit card details.\" });\r\n\t\t} else {\r\n\t\t\tthis.props.handleLoading(true);\r\n\t\t\tthis.setState({ paymongo_processing: true });\r\n\t\t\tlet self = this;\r\n\t\t\tthis.setState({ paymongo_opened: true, showPaymongoForm: false, placeOrderError: false, errorMessage: \"\" });\r\n\t\t\tconst totalAmount = formatPrice(parseFloat(this.getTotalAfterCalculation()));\r\n\t\t\tconst method = \"PAYMONGO\";\r\n\t\t\tAxios.post(PAYMONGO_PAYMENT_URL, {\r\n\t\t\t\tamount: totalAmount,\r\n\t\t\t\tname: this.props.user.data.name,\r\n\t\t\t\temail: this.props.user.data.email,\r\n\t\t\t\tphone: this.props.user.data.phone,\r\n\t\t\t\tccNum: paymongoCCNumber,\r\n\t\t\t\tccExp: paymongoCCExp,\r\n\t\t\t\tccCvv: paymongoCCCvv,\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\t\tif (res.data.paymongo_success) {\r\n\t\t\t\t\t\tif (res.data.status === \"succeeded\") {\r\n\t\t\t\t\t\t\tself.setState({ paymongo_opened: false, paymongo_success: true });\r\n\t\t\t\t\t\t\tthis.__placeOrder(res.data.token, method, false);\r\n\t\t\t\t\t\t} else if (res.data.status === \"awaiting_next_action\") {\r\n\t\t\t\t\t\t\tconsole.log(\"3d secure\");\r\n\t\t\t\t\t\t\tself.setState({\r\n\t\t\t\t\t\t\t\tpaymongo_opened: false,\r\n\t\t\t\t\t\t\t\tpaymongo_success: true,\r\n\t\t\t\t\t\t\t\tpaymongoRedirect: res.data.redirect_url,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.__placeOrder(res.data.token, method, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.props.handleLoading(false);\r\n\t\t\t\t\t\t\tself.setState({\r\n\t\t\t\t\t\t\t\tpaymongo_processing: false,\r\n\t\t\t\t\t\t\t\tpaymongo_opened: true,\r\n\t\t\t\t\t\t\t\tpaymongo_success: false,\r\n\t\t\t\t\t\t\t\tplaceOrderError: true,\r\n\t\t\t\t\t\t\t\terrorMessage: \"Payment failed: \" + res.data.error,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/* END Paymongo */\r\n\r\n\thandlePayWithStripeCardToggle = (event) => {\r\n\t\tthis.setState({ payWithStripeCard: !this.state.payWithStripeCard }, () => {\r\n\t\t\tif (this.state.payWithStripeCard) {\r\n\t\t\t\tthis.refs.payWithStripeCardToggle.classList.add(\"stripe-toggle-active\");\r\n\t\t\t\tthis.refs.payWithStripeCardToggle.scrollIntoView({ behavior: \"instant\", block: \"start\" });\r\n\t\t\t} else {\r\n\t\t\t\tthis.refs.payWithStripeCardToggle.classList.remove(\"stripe-toggle-active\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\thandlePayWithStripeIdealToggle = (event) => {\r\n\t\tthis.setState({ payWithStripeIdeal: !this.state.payWithStripeIdeal }, () => {\r\n\t\t\tif (this.state.payWithStripeIdeal) {\r\n\t\t\t\tthis.refs.payWithStripeIdealToggle.classList.add(\"stripe-toggle-active\");\r\n\t\t\t\tthis.refs.payWithStripeIdealToggle.scrollIntoView({ behavior: \"instant\", block: \"start\" });\r\n\t\t\t} else {\r\n\t\t\t\tthis.refs.payWithStripeIdealToggle.classList.remove(\"stripe-toggle-active\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\thandlePayWithStripeFpxToggle = (event) => {\r\n\t\tthis.setState({ payWithStripeFpx: !this.state.payWithStripeFpx }, () => {\r\n\t\t\tif (this.state.payWithStripeFpx) {\r\n\t\t\t\tthis.refs.payWithStripeFpxToggle.classList.add(\"stripe-toggle-active\");\r\n\t\t\t\tthis.refs.payWithStripeFpxToggle.scrollIntoView({ behavior: \"instant\", block: \"start\" });\r\n\t\t\t} else {\r\n\t\t\t\tthis.refs.payWithStripeFpxToggle.classList.remove(\"stripe-toggle-active\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\thandlePaymentGatewayRedirect = (url) => {\r\n\t\tconsole.log(\"I am here\");\r\n\t\tconsole.log(\"Placed order\", this.props.checkout.id);\r\n\t\tconst redirectUrl = url + \"&order_id=\" + this.props.checkout.id;\r\n\t\twindow.location.replace(redirectUrl);\r\n\t};\r\n\r\n\t/* FlutterWave */\r\n\t__processFlutterWave = () => {\r\n\t\tlet paymentgatewaysblock = document.getElementsByClassName(\"paymentGatewayBlock\");\r\n\t\tfor (let i = 0; i < paymentgatewaysblock.length; i++) {\r\n\t\t\tpaymentgatewaysblock[i].classList.add(\"no-click\");\r\n\t\t}\r\n\t\tlet flutterWaveBtn = document.getElementsByClassName(\"flutterwave-btn\")[0];\r\n\t\tflutterWaveBtn.click();\r\n\t};\r\n\t/*END FlutterWave */\r\n\r\n\t__showCashChangeBlock = (e) => {\r\n\t\tthis.refs.cashAmountBlock.classList.remove(\"hidden\");\r\n\t\tlet paymentgatewaysblock = document.getElementsByClassName(\"paymentGatewayBlock\");\r\n\t\tfor (let i = 0; i < paymentgatewaysblock.length; i++) {\r\n\t\t\tpaymentgatewaysblock[i].classList.add(\"hidden\");\r\n\t\t}\r\n\t\tthis.refs.paymentListTitle.innerHTML = localStorage.getItem(\"cashChangeTitle\");\r\n\t};\r\n\r\n\t__handleCashInput = (e) => {\r\n\t\tlet cashChange = e.target.value;\r\n\t\t// if value is not blank, then test the regex\r\n\t\tif (cashChange === \"\" || this.state.regexp.test(cashChange)) {\r\n\t\t\tif (cashChange.length <= 8) {\r\n\t\t\t\tthis.setState({ [e.target.name]: cashChange });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t__handleCashInputConfirm = (e) => {\r\n\t\te.target.disabled = true;\r\n\t\tthis.__placeOrder(\"\", \"COD\");\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst client = {\r\n\t\t\tsandbox: localStorage.getItem(\"paypalSandboxKey\"),\r\n\t\t\tproduction: localStorage.getItem(\"paypalProductionKey\"),\r\n\t\t};\r\n\r\n\t\tthis.props.toPay(formatPrice(parseFloat(this.getTotalAfterCalculation())));\r\n\r\n\t\tif (this.props.restaurant_info) {\r\n\t\t\tif (!this.props.restaurant_info.is_active) {\r\n\t\t\t\tconsole.log(\"store is closed\");\r\n\t\t\t\treturn <Redirect to={\"/cart\"} />;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.placeOrderError && (\r\n\t\t\t\t\t<div className=\"auth-error ongoing-payment\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{this.state.errorMessage}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.props.paymentgateways.some((gateway) => gateway.name === \"Razorpay\") && (\r\n\t\t\t\t\t<Helmet>\r\n\t\t\t\t\t\t<script src=\"https://checkout.razorpay.com/v1/checkout.js\" />\r\n\t\t\t\t\t</Helmet>\r\n\t\t\t\t)}\r\n\t\t\t\t{(this.state.stripe_opened || this.state.razorpay_opened) && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className=\"height-80 overlay-loading ongoing-payment-spin\">\r\n\t\t\t\t\t\t\t<div className=\"spin-load\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"auth-error ongoing-payment\">\r\n\t\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"checkoutPaymentInProcess\")}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"col-12 mb-50\">\r\n\t\t\t\t\t{this.state.payment_gateway_loading ? (\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\t\t\t\t\t\twidth={window.innerWidth}\r\n\t\t\t\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"320\" y=\"10\" rx=\"4\" ry=\"4\" width=\"55\" height=\"55\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"10\" rx=\"0\" ry=\"0\" width=\"85\" height=\"20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"40\" rx=\"0\" ry=\"0\" width=\"190\" height=\"18\" />\r\n\t\t\t\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\t\t\t\t\t\twidth={window.innerWidth}\r\n\t\t\t\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"320\" y=\"10\" rx=\"4\" ry=\"4\" width=\"55\" height=\"55\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"10\" rx=\"0\" ry=\"0\" width=\"85\" height=\"20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"40\" rx=\"0\" ry=\"0\" width=\"190\" height=\"18\" />\r\n\t\t\t\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{this.state.canPayPartialWithWallet && (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ walletChecked: !this.state.walletChecked })}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/wallet.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"walletcheckbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={this.props.walletChecked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"wallet-checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.walletChecked && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"si si-check mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"900\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletName\")}:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.walletChecked ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willbeDeductedText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"left\" && localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"right\" && localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"payPartialWithWalletText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-redeem mt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cartColorBg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletRedeemBtnText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-4\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<div className=\"col-12 text-center mb-0 mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-muted\" ref=\"paymentListTitle\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPaymentListTitle\")}\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{this.state.canPayFullWithWallet && (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"WALLET\")}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/wallet.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"payFullWithWalletText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parseFloat(this.getTotalAfterCalculation())}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willbeDeductedText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"stripeAcceptIdealPayment\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"payWithStripeIdealToggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handlePayWithStripeIdealToggle}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/ideal.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"stripe-ideal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"50px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeIdealText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeIdealSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.payWithStripeIdeal && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"stripe-card-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StripeIdeal\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={formatPrice(parseFloat(this.getTotalAfterCalculation()))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaymentProcessing={this.props.handleLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceOrder={this.__placeOrder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaymentGatewayRedirect={this.handlePaymentGatewayRedirect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout={this.props.checkout}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"stripeAcceptFpxPayment\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"payWithStripeFpxToggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handlePayWithStripeFpxToggle}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/fpx.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"stripe-fpx\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"50px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeFpxText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeFpxSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.payWithStripeFpx && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"stripe-card-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StripeFpx\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={formatPrice(parseFloat(this.getTotalAfterCalculation()))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaymentProcessing={this.props.handleLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceOrder={this.__placeOrder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaymentGatewayRedirect={this.handlePaymentGatewayRedirect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout={this.props.checkout}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{this.props.paymentgateways.map((gateway) => (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment key={gateway.id}>\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Stripe\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 paymentGatewayBlock stripe-gateway-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"payWithStripeCardToggle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handlePayWithStripeCardToggle}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/stripe.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.payWithStripeCard && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"stripe-card-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StripeCard\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={formatPrice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseFloat(this.getTotalAfterCalculation())\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaymentProcessing={this.props.handleLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceOrder={this.__placeOrder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{this.state.showCod && (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{gateway.name === \"COD\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"showCashChange\") === \"true\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__showCashChangeBlock()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/cod.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutCodText\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutCodSubText\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 hidden\" ref=\"cashAmountBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cashChange\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.cashChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control cash-change-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cashChangeInputPlaceholder\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.__handleCashInput}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cartColorBg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.__handleCashInputConfirm}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cashChangeConfirmButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"pt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cashChangeHelpText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"COD\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/cod.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutCodText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutCodSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Khalti\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__handleKhaltiPayment()}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/khalti.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutKhaltiText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutKhaltiSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"UpiGateway\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"UPI\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/upi.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutUpiGateway\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutUpiGatewaySubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Paytm\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"PAYTM\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/paytm.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPaytmText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPaytmSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Flutterwave\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FlutterWave\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={formatPrice(parseFloat(this.getTotalAfterCalculation()))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceOrder={this.__placeOrder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treset={this.resetPage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__processFlutterWave()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/flutterwave.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutFlutterwaveText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutFlutterwaveSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Razorpay\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t// onClick={() => this.__handleRazorPay()}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"RAZORPAY\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/razorpay.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutRazorpayText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutRazorpaySubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"PhonePe\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t// onClick={() => this.__handlePhonePe()}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"PhonePe\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/phonepe.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPhonePeText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPhonePeSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"PayUMoney\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"PayUMoney\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/payu.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayUMoneyText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayUMoneySubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"PayStack\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 mb-4 mt-4 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/paystack.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"paystack-absolute-logo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PaystackButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext={localStorage.getItem(\"paystackPayText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"payButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback={this.callback}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclose={this.close}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tembed={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treference={this.getReference()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail={this.props.user.data.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tamount={parseInt(parseFloat(this.getTotalAfterCalculation() * 100))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaystackkey={localStorage.getItem(\"paystackPublicKey\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttag=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency={localStorage.getItem(\"currencyId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Paypal\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PaypalExpressBtn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tenv={localStorage.getItem(\"paypalEnv\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclient={client}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency={localStorage.getItem(\"currencyId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={parseFloat(this.getTotalAfterCalculation())}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshipping={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonError={this.onError}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={this.onSuccess}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCancel={this.onCancel}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"responsive\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"silver\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape: \"rect\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"MercadoPago\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"MERCADOPAGO\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/mercadopago.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutMercadoPagoText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutMercadoPagoSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"PayMongo\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t(this.state.showPaymongoForm ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={this.handlePaymongo}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PaymentInputsContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmeta,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetCardNumberProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetExpiryDateProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetCVCProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h4 font-w600 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutPayMongoText\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...getCardNumberProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymongoCCNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.paymongoCCNumber}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutCardNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...getExpiryDateProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymongoCCExp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.paymongoCCExp}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutCardExpiration\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...getCVCProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.paymongoCCCvv}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymongoCCCvv\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"checkoutCardCvv\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{meta.isTouched && meta.error && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Error: {meta.error}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PaymentInputsContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-20 px-15 pt-15 button-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"storeColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.getTotalAfterCalculation()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__showPaymongoForm()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/paymongo.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayMongoText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayMongoSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"progress push m-0 progress-transparent\" style={{ height: \"8px\" }}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"progress-bar progress-bar-striped progress-bar-animated hidden\"\r\n\t\t\t\t\t\trole=\"progressbar\"\r\n\t\t\t\t\t\tid=\"progressBar\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\twidth: \"10%\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mb-0 px-15\" id=\"checkoutMessageOnIdle\">\r\n\t\t\t\t\t{localStorage.getItem(\"checkoutMessageOnIdle\") !== \"<p><br></p>\" &&\r\n\t\t\t\t\t\tlocalStorage.getItem(\"checkoutMessageOnIdle\") !== \"null\" &&\r\n\t\t\t\t\t\t(localStorage.getItem(\"checkoutMessageOnIdle\") !== \"\" && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: localStorage.getItem(\"checkoutMessageOnIdle\"),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t<p id=\"checkoutMessageOnProcess\" className=\"checkout-message-on-process mb-0 mt-15 text-center hidden\">\r\n\t\t\t\t\t{localStorage.getItem(\"checkoutMessageOnProcess\")}\r\n\t\t\t\t</p>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\taddresses: state.addresses.addresses,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tcheckout: state.checkout.checkout,\r\n\trestaurant_info: state.items.restaurant_info,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ placeOrder, updateUserInfo, getRestaurantInfoById }\r\n)(PaymentList);\r\n","import React, { Component } from \"react\";\r\n\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport PaymentList from \"./PaymentList\";\r\nimport { Redirect } from \"react-router\";\r\nimport { checkConfirmCart } from \"../../../services/confirmCart/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPaymentGateways } from \"../../../services/paymentgateways/actions\";\r\nimport { GoogleApiWrapper } from \"google-maps-react\";\r\nimport Loading from \"../../helpers/loading\";\r\n\r\nclass Checkout extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tprocess_distance_calc_loading: false,\r\n\t\tcontinueFetchPaymentGateway: true,\r\n\t\tgateways_received: false,\r\n\t\ttoPay: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user) {\r\n\t\t\tthis.props\r\n\t\t\t\t.getPaymentGateways(user.data.auth_token, localStorage.getItem(\"activeRestaurant\"))\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tif (response && response.payload) {\r\n\t\t\t\t\t\tthis.setState({ gateways_received: true });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error(\"fetching payment gateways failed... trying again after 2.5s\");\r\n\t\t\t\t\t\tthis.retryPaymentGatewaySetInterval = setInterval(() => {\r\n\t\t\t\t\t\t\tthis.fetchPaymentGateways(user.data.auth_token);\r\n\t\t\t\t\t\t}, 2500);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.props.cartProducts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\t}\r\n\r\n\thandleLoading = (value) => {\r\n\t\tthis.setState({ loading: value });\r\n\t};\r\n\r\n\tfetchPaymentGateways = (token) => {\r\n\t\tif (this.state.continueFetchPaymentGateway) {\r\n\t\t\tconsole.log(\"fetching again...\");\r\n\t\t\tthis.props.getPaymentGateways(token, localStorage.getItem(\"activeRestaurant\")).then((response) => {\r\n\t\t\t\tif (response && response.payload) {\r\n\t\t\t\t\tthis.setState({ continueFetchPaymentGateway: false, gateways_received: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tclearInterval(this.retryPaymentGatewaySetInterval);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t\tclearInterval(this.retryPaymentGatewaySetInterval);\r\n\t}\r\n\r\n\thandleProcessDistanceCalcLoading = (value) => {\r\n\t\tthis.setState({ process_distance_calc_loading: value });\r\n\t};\r\n\r\n\thandleToPayText = (data) => {\r\n\t\tconst dataPrice = data.toFixed(2);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ toPay: dataPrice });\r\n\t\t}, 200);\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (!this.props.cartProducts.length) {\r\n\t\t\t// no items in cart after checkout goto cart page\r\n\t\t\t// return <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"hideDesktopView\") !== \"true\" &&  window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\t//TODO:\r\n\t\t//check if the referrer is cart page, if not then redirect to cart\r\n\t\tif (!this.props.confirmCart) {\r\n\t\t\treturn <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\t\t\t\t{this.state.process_distance_calc_loading && <Loading />}\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"checkoutPageTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\t// title={{localStorage.getItem(\"checkoutPageTitle\")}}\r\n\t\t\t\t\ttitle={this.state.toPay}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\tfrom_checkout={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"pt-50\">\r\n\t\t\t\t\t<div className=\"pt-30\" />\r\n\t\t\t\t\t<PaymentList\r\n\t\t\t\t\t\thandleProcessDistanceCalcLoading={this.handleProcessDistanceCalcLoading}\r\n\t\t\t\t\t\tgoogleLoadingStatus={this.state.process_distance_calc_loading}\r\n\t\t\t\t\t\tpaymentgateways={this.props.paymentgateways}\r\n\t\t\t\t\t\tgatewayStatus={this.state.gateways_received}\r\n\t\t\t\t\t\thandleLoading={this.handleLoading}\r\n\t\t\t\t\t\ttoPay={this.handleToPayText}\r\n\t\t\t\t\t\tgoogle={this.props.google}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\ttotal: state.total.total,\r\n\tuser: state.user.user,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tconfirmCart: state.confirmCart.confirmCart,\r\n\tpaymentgateways: state.paymentgateways.paymentgateways,\r\n});\r\n\r\n// export default connect(\r\n// \tmapStateToProps,\r\n// \t{ checkConfirmCart, getPaymentGateways }\r\n// )(Checkout);\r\n\r\nexport default GoogleApiWrapper({\r\n\tapiKey: localStorage.getItem(\"googleApiKey\"),\r\n\tLoadingContainer: Loading,\r\n})(\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\t{\r\n\t\t\tcheckConfirmCart,\r\n\t\t\tgetPaymentGateways,\r\n\t\t}\r\n\t)(Checkout)\r\n);\r\n","import { GET_PAYMENT_GATEWAYS } from \"./actionTypes\";\r\nimport { GET_PAYMENT_GATEWAYS_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getPaymentGateways = (token, restaurant_id) => (dispatch) => {\r\n\treturn Axios.post(GET_PAYMENT_GATEWAYS_URL, {\r\n\t\ttoken: token,\r\n\t\trestaurant_id: restaurant_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst paymentgateways = response.data;\r\n\t\t\treturn dispatch({ type: GET_PAYMENT_GATEWAYS, payload: paymentgateways });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n"],"sourceRoot":""}