(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{357:function(e,t,r){"use strict";r.d(t,"c",function(){return c}),r.d(t,"a",function(){return l}),r.d(t,"b",function(){return u});var a=r(79),n=r(15),o=r(9),i=r(8),s=r.n(i),c=function(e){return function(t){return s.a.get(o.S+"/"+e).then(function(e){var r=e.data.restaurant,o=e.data.reviews;return[t({type:n.d,payload:r}),t({type:a.c,payload:o})]}).catch(function(e){console.log(e)})}},l=function(e){return function(t){return s.a.post(o.b,{order_id:e.order_id,token:e.auth_token,rating_store:e.rating_store,rating_delivery:e.rating_delivery,review_store:e.review_store,review_delivery:e.review_delivery}).then(function(e){var r=e.data;return t({type:a.a,payload:r})}).catch(function(e){console.log(e)})}},u=function(e,t){return function(r){s.a.post(o.L,{order_id:e,token:t}).then(function(e){var t=e.data;return r({type:a.b,payload:t})}).catch(function(e){console.log(e)})}}},479:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r(4),o=r(6),i=r(5),s=r(7),c=r(0),l=r.n(c),u=r(17),g=r(357),p=r(49),m=r(115),d=r(12),h=r(94),f=r(50),v=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!0},r.getRatingStars=function(e){var t="rating-green";return e<=3&&(t="rating-orange"),e<=2&&(t="rating-red"),l.a.createElement("span",{className:"store-rating "+t},e," ",l.a.createElement("i",{className:"fa fa-star text-white"}))},r}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.user.success?this.props.getRestaurantInfoForLoggedInUser(this.props.match.params.slug):this.props.getRestaurantInfo(this.props.match.params.slug),this.props.getReviewsForStore(this.props.match.params.slug).then(function(t){t&&e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.reviews,a=t.restaurant_info;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{seotitle:localStorage.getItem("reviewsPageTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),l.a.createElement(m.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("reviewsPageTitle"),disable_search:!0,homeButton:!0}),this.state.loading?l.a.createElement(d.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{history:this.props.history,restaurant:a,withLinkToRestaurant:!0}),l.a.createElement("div",{className:"pt-20 px-15 height-100 bg-light"},r.map(function(t){return l.a.createElement("div",{className:"single-review"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("strong",null,t.username)," ",l.a.createElement("span",{className:"ml-1"},e.getRatingStars(t.rating_store))),l.a.createElement("p",{className:"mb-2"},t.review_store))}))))}}]),t}(c.Component);v.contextTypes={router:function(){return null}};t.default=Object(u.b)(function(e){return{reviews:e.rating.reviews,restaurant_info:e.items.restaurant_info,user:e.user.user}},{getReviewsForStore:g.c,getRestaurantInfo:f.d,getRestaurantInfoForLoggedInUser:f.g})(v)}}]);
//# sourceMappingURL=40.e87fd6e5.chunk.js.map