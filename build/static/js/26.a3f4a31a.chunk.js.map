{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/helpers/formatPrice.js","components/Mobile/Account/Orders/OrderList/OrderCancelPopup/index.js","components/Mobile/Account/Orders/OrderList/AwaitingPaymentTimer/index.js","components/Mobile/Account/Orders/OrderList/index.js","components/Mobile/Account/Orders/index.js","services/orders/actions.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","formatPrice","price","parseFloat","OrderCancelPopup","state","open","handlePopupOpen","_this","setState","handlePopupClose","_this$props","this","props","order","user","cancelOrder","react_default","a","createElement","Fragment","className","style","position","fontSize","onClick","localStorage","getItem","ink_default","duration","index_es","onClose","closeIconSize","fontWeight","opacity","color","unique_order_id","orderstatus_id","payment_mode","total","payable","data","auth_token","id","border","borderRadius","backgroundColor","Component","AwaitingPaymentTimer","showTimer","timer","componentDidMount","renderAwaitingPaymentTimer","currentTime","moment","Date","unix","diffTime","created_at","parseInt","self","assertThisInitialized","awaitingPaymentTimer","setInterval","minutes","seconds","clearInterval","OrderList","__getOrderStatus","_getTotalItemCost","item","itemCost","quantity","order_item_addons","map","addon","addon_price","document","getElementsByTagName","classList","add","remove","_this2","delayLink","to","concat","delay","is_ratable","schedule_slot","JSON","parse","schedule_date","day","date","close","dist_default","fromNow","format","restaurant","slug","name","orderitems","key","addon_name","coupon_name","coupon_amount","restaurant_charge","delivery_charge","tip_amount","total_surge","order_tax","tax","tax_amount","wallet_amount","address","OrderList_OrderCancelPopup","OrderList_AwaitingPaymentTimer","Orders","no_orders","cancelSuccess","orders","next_page","GET_ORDERS_URL","loading","loading_more","__getOrders","token","registerScrollEvent","Axios","post","then","response","paginator","toConsumableArray","next_page_url","removeScrollEvent","scrollFunc","documentElement","scrollTop","window","innerHeight","offsetHeight","success","addEventListener","removeEventListener","nextProps","cancel","location","reload","innerWidth","Redirect","meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","href","twittertitle","twitterdescription","BackWithSearch","boxshadow","has_title","title","disable_search","goto_accounts_page","homeButton","react_content_loader_es","height","width","speed","primaryColor","secondaryColor","x","y","rx","ry","Orders_OrderList","connect","getOrders","dispatch","type","GET_ORDERS","payload","catch","error","console","log","user_id","order_id","GET_ORDER_CANCEL_URL","res","CANCEL_ORDER"],"mappings":"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","file":"static/js/26.a3f4a31a.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export const formatPrice = price => {\r\n    if (price) {\r\n        let formatedPrice = parseFloat(price);\r\n        // formatedPrice = formatedPrice.toFixed(2);\r\n        return formatedPrice;\r\n    }\r\n    return 0;\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"react-responsive-modal\";\r\nimport Ink from \"react-ink\";\r\nimport { formatPrice } from \"../../../../../helpers/formatPrice\";\r\n\r\nclass OrderCancelPopup extends Component {\r\n\tstate = {\r\n\t\topen: false,\r\n\t};\r\n\thandlePopupOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\thandlePopupClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { order, user, cancelOrder } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-square btn-sm btn-outline-danger mb-0 mt-15\"\r\n\t\t\t\t\tstyle={{ position: \"relative\", fontSize: \"0.8rem\" }}\r\n\t\t\t\t\tonClick={this.handlePopupOpen}\r\n\t\t\t\t>\r\n\t\t\t\t\t{localStorage.getItem(\"cancelOrderMainButton\")}\r\n\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t</button>\r\n\t\t\t\t<Modal open={this.state.open} onClose={this.handlePopupClose} closeIconSize={32}>\r\n\t\t\t\t\t<div className=\"text-center mt-100\">\r\n\t\t\t\t\t\t<div style={{ fontSize: \"1.2rem\", fontWeight: \"500\" }}>\r\n\t\t\t\t\t\t\t<i className=\"si si-info\" style={{ fontSize: \"4rem\", opacity: \"0.3\", color: \"#FF9800\" }} />\r\n\t\t\t\t\t\t\t<p>{order.unique_order_id}</p>\r\n\t\t\t\t\t\t\t<p>{localStorage.getItem(\"orderCancellationConfirmationText\")}</p>\r\n\t\t\t\t\t\t\t{order.orderstatus_id === 1 || order.orderstatus_id === 10 ? (\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t{order.payment_mode !== \"COD\" && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted font-w400\">\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t{order.total}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willBeRefundedText\")}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{order.payment_mode === \"COD\" && order.total - order.payable !== 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted font-w400\">\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t{formatPrice(order.total - order.payable)}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willBeRefundedText\")}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"text-muted font-w400\">{localStorage.getItem(\"willNotBeRefundedText\")}</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-danger mr-3\"\r\n\t\t\t\t\t\t\t\tonClick={() => cancelOrder(user.data.auth_token, user.data.id, order.id)}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tborder: \"0\",\r\n\t\t\t\t\t\t\t\t\tborderRadius: \"0\",\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"yesCancelOrderBtn\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={this.handlePopupClose}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-lg\"\r\n\t\t\t\t\t\t\t\tstyle={{ border: \"0\", borderRadius: \"0\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"cancelGoBackBtn\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OrderCancelPopup;\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nclass AwaitingPaymentTimer extends Component {\r\n\tstate = {\r\n\t\tshowTimer: false,\r\n\t\ttimer: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.renderAwaitingPaymentTimer(this.props.order);\r\n\t};\r\n\r\n\trenderAwaitingPaymentTimer = (order) => {\r\n\t\tif (order.orderstatus_id === 8) {\r\n\t\t\tvar currentTime = moment(new Date()).unix();\r\n\t\t\tvar deadLine =\r\n\t\t\t\tmoment(order.created_at).unix() + parseInt(localStorage.getItem(\"awaitingPaymentThreshold\")) * 60;\r\n\t\t\tvar diffTime = deadLine - currentTime;\r\n\r\n\t\t\tvar duration = moment.duration(diffTime * 1000, \"milliseconds\");\r\n\t\t\tvar interval = 1000;\r\n\t\t\tvar self = this;\r\n\t\t\tthis.awaitingPaymentTimer = setInterval(function() {\r\n\t\t\t\tduration = moment.duration(duration - interval, \"milliseconds\");\r\n\r\n\t\t\t\tif (duration.minutes() >= 0 && duration.seconds() >= 0) {\r\n\t\t\t\t\tself.setState({ showTimer: true, timer: duration.minutes() + \":\" + duration.seconds() });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.setState({ showTimer: false, timer: \"\" });\r\n\t\t\t\t}\r\n\t\t\t}, interval);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.awaitingPaymentTimer);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.showTimer && (\r\n\t\t\t\t\t<div className=\"awaitingPaymentTimer small\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"awaitingPaymentTimerText\")}{\" \"}\r\n\t\t\t\t\t\t<b style={{ color: localStorage.getItem(\"storeColor\") }}>{this.state.timer}</b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AwaitingPaymentTimer;\r\n","import React, { Component } from \"react\";\r\n\r\nimport DelayLink from \"../../../../helpers/delayLink\";\r\nimport Ink from \"react-ink\";\r\nimport Moment from \"react-moment\";\r\n\r\nimport { formatPrice } from \"../../../../helpers/formatPrice\";\r\nimport OrderCancelPopup from \"./OrderCancelPopup\";\r\nimport AwaitingPaymentTimer from \"./AwaitingPaymentTimer\";\r\n\r\nclass OrderList extends Component {\r\n\tcomponentDidMount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey\");\r\n\t}\r\n\r\n\t__getOrderStatus = (id) => {\r\n\t\tif (id === 1) {\r\n\t\t\treturn localStorage.getItem(\"orderPlacedStatusText\");\r\n\t\t}\r\n\t\tif (id === 2) {\r\n\t\t\treturn localStorage.getItem(\"preparingOrderStatusText\");\r\n\t\t}\r\n\t\tif (id === 3) {\r\n\t\t\treturn localStorage.getItem(\"deliveryGuyAssignedStatusText\");\r\n\t\t}\r\n\t\tif (id === 4) {\r\n\t\t\treturn localStorage.getItem(\"orderPickedUpStatusText\");\r\n\t\t}\r\n\t\tif (id === 5) {\r\n\t\t\treturn localStorage.getItem(\"deliveredStatusText\");\r\n\t\t}\r\n\t\tif (id === 6) {\r\n\t\t\treturn localStorage.getItem(\"canceledStatusText\");\r\n\t\t}\r\n\t\tif (id === 7) {\r\n\t\t\treturn localStorage.getItem(\"readyForPickupStatusText\");\r\n\t\t}\r\n\t\tif (id === 8) {\r\n\t\t\treturn localStorage.getItem(\"awaitingPaymentStatusText\");\r\n\t\t}\r\n\t\tif (id === 9) {\r\n\t\t\treturn localStorage.getItem(\"paymentFailedStatusText\");\r\n\t\t}\r\n\t\tif (id === 10) {\r\n\t\t\treturn localStorage.getItem(\"scheduledOrderStatusText\");\r\n\t\t}\r\n\t\tif (id === 11) {\r\n\t\t\treturn localStorage.getItem(\"confirmedOrderStatusText\");\r\n\t\t}\r\n\t};\r\n\r\n\t_getTotalItemCost = (item) => {\r\n\t\tlet itemCost = parseFloat(item.price) * item.quantity;\r\n\t\tif (item.order_item_addons.length) {\r\n\t\t\titem.order_item_addons.map((addon) => {\r\n\t\t\t\titemCost += parseFloat(addon.addon_price) * item.quantity;\r\n\t\t\t\treturn itemCost;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn formatPrice(itemCost);\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { order, user, cancelOrder } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"bill-details mb-2 bg-white\">\r\n\t\t\t\t\t<div className=\"p-3\" style={{ borderRadius: \"0.275rem\" }}>\r\n\t\t\t\t\t\t<div className=\"pull-right\">\r\n\t\t\t\t\t\t\t{(order.orderstatus_id === 1 ||\r\n\t\t\t\t\t\t\t\torder.orderstatus_id === 2 ||\r\n\t\t\t\t\t\t\t\torder.orderstatus_id === 3 ||\r\n\t\t\t\t\t\t\t\torder.orderstatus_id === 4 ||\r\n\t\t\t\t\t\t\t\torder.orderstatus_id === 7 ||\r\n\t\t\t\t\t\t\t\torder.orderstatus_id === 8) && (\r\n\t\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\t\tto={`/running-order/${order.unique_order_id}`}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-square btn-outline-secondary mb-10 order-track-button\"\r\n\t\t\t\t\t\t\t\t\tdelay={250}\r\n\t\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"trackOrderText\")}\r\n\t\t\t\t\t\t\t\t\t<span className=\"pulse ml-2\" />\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"pull-right\">\r\n\t\t\t\t\t\t\t{order.is_ratable && (\r\n\t\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\t\tto={`/rate-order/${order.id}`}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-square btn-outline-secondary mb-10 order-track-button\"\r\n\t\t\t\t\t\t\t\t\tdelay={250}\r\n\t\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"orderRateOrderButton\")}\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`mr-5 btn btn-square btn-outline-secondary min-width-125 mb-10 order-status-button text-muted ${order.orderstatus_id ===\r\n\t\t\t\t\t\t\t\t\t\t6 && \"text-danger\"} ${order.orderstatus_id === 11 && \"order-confirmed-badge\"}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{this.__getOrderStatus(order.orderstatus_id)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{order.schedule_slot !== null && (\r\n\t\t\t\t\t\t\t<p className=\"mb-0 orderlist-scheduleSlot\">\r\n\t\t\t\t\t\t\t\t{JSON.parse(order.schedule_date).day}, {JSON.parse(order.schedule_date).date} (\r\n\t\t\t\t\t\t\t\t{JSON.parse(order.schedule_slot).open} - {JSON.parse(order.schedule_slot).close})\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span className=\"text-muted pull-right\" style={{ fontSize: \"0.9rem\" }}>\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"showFromNowDate\") === \"true\" ? (\r\n\t\t\t\t\t\t\t\t<Moment fromNow>{order.created_at}</Moment>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Moment format=\"DD/MM/YYYY hh:mma\">{order.created_at}</Moment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t<h6 className=\"font-w700 mb-2\" style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t{order.unique_order_id}\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t{order.restaurant && (\r\n\t\t\t\t\t\t\t\t<DelayLink to={`/stores/${order.restaurant.slug}`} delay={100}>\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"font-w600\">{order.restaurant.name}</h6>\r\n\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{order.orderitems.map((item) => (\r\n\t\t\t\t\t\t\t<div className=\"mb-2\" key={item.id}>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex pb-5\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"order-item-quantity mr-10\">x{item.quantity}</span>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-left font-w600\">{item.name}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{this._getTotalItemCost(item)}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{item.order_item_addons.map((addon) => (\r\n\t\t\t\t\t\t\t\t\t<div className=\"display-flex pb-5\" key={addon.id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{addon.addon_name}</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{addon.addon_price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t{order.coupon_name && (\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>Coupon: </small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{order.coupon_name} </small>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{order.coupon_amount && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(-\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.coupon_amount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{order.restaurant_charge !== null && (\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{localStorage.getItem(\"cartRestaurantCharges\")}:</small>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.restaurant_charge}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t<small>{localStorage.getItem(\"cartDeliveryCharges\")}:</small>{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t{order.delivery_charge}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{order.tip_amount !== null && (\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t{order.tip_amount > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small>{localStorage.getItem(\"tipText\")}: </small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.tip_amount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{order.total_surge !== null && (\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t{order.total_surge > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small>{localStorage.getItem(\"storeSurgeCharges\")}: </small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.total_surge}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{order.order_tax > 0 && (\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"taxText\")}:\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t{order.order_tax && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.order_tax}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{order.tax && (\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{localStorage.getItem(\"taxText\")}: </small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.tax}%{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.tax_amount && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.tax_amount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className=\"display-flex mt-10 font-w700\">\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"orderTextTotal\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{order.total}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{order.wallet_amount && (\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"orderAmountPaidWithWallet\")}:\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{order.wallet_amount}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{!(order.orderstatus_id === 5 || order.orderstatus_id === 6) && (\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t{order.payment_mode === \"COD\" && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t{(order.payable !== null || order.payable !== \"0.00\") && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"display-flex mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"orderAmountRemainingToPay\")}:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.payable}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className=\"display-flex mt-10 font-w700\">\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"orderDetailsPaymentMode\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">{order.payment_mode}</div>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t<p className=\"small mt-2 orderlist-address\">{order.address}</p>\r\n\t\t\t\t\t\t{(order.orderstatus_id === 1 || order.orderstatus_id === 10) && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"pull-right\">\r\n\t\t\t\t\t\t\t\t\t<OrderCancelPopup order={order} user={user} cancelOrder={cancelOrder} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"clearfix\" />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{order.orderstatus_id === 8 && <AwaitingPaymentTimer order={order} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OrderList;\r\n","import React, { Component } from \"react\";\r\nimport { cancelOrder, getOrders } from \"../../../../services/orders/actions\";\r\nimport { GET_ORDERS_URL } from \"../../../../configs\";\r\nimport BackWithSearch from \"../../Elements/BackWithSearch\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport OrderList from \"./OrderList\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport Meta from \"../../../helpers/meta\";\r\n\r\nclass Orders extends Component {\r\n\tstate = {\r\n\t\tno_orders: false,\r\n\t\tcancelSuccess: false,\r\n\t\torders: [],\r\n\t\tnext_page: GET_ORDERS_URL,\r\n\t\tloading: false,\r\n\t\tloading_more: false,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tthis.__getOrders(user.data.auth_token);\r\n\t\t}\r\n\t}\r\n\r\n\t__getOrders = (token) => {\r\n\t\tif (!this.state.loading) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t});\r\n\t\t\tthis.registerScrollEvent();\r\n\t\t\tAxios.post(this.state.next_page, {\r\n\t\t\t\ttoken: token,\r\n\t\t\t}).then((response) => {\r\n\t\t\t\tconst paginator = response.data;\r\n\t\t\t\tconst orders = paginator.data;\r\n\t\t\t\t// console.log(\"Next Page URL: \" + paginator.next_page_url);\r\n\t\t\t\tif (orders.length) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\torders: [...this.state.orders, ...orders],\r\n\t\t\t\t\t\tnext_page: paginator.next_page_url,\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tloading_more: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\torders: [],\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tloading_more: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!paginator.next_page_url) {\r\n\t\t\t\t\tthis.removeScrollEvent();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tregisterScrollEvent() {\r\n\t\twindow.addEventListener(\"scroll\", this.scrollFunc);\r\n\t}\r\n\r\n\tremoveScrollEvent() {\r\n\t\twindow.removeEventListener(\"scroll\", this.scrollFunc);\r\n\t}\r\n\r\n\tscrollFunc = () => {\r\n\t\tif (\r\n\t\t\tdocument.documentElement.scrollTop + 50 + window.innerHeight > document.documentElement.offsetHeight ||\r\n\t\t\tdocument.documentElement.scrollTop + 50 + window.innerHeight === document.documentElement.offsetHeight\r\n\t\t) {\r\n\t\t\tconst { user } = this.props;\r\n\t\t\tthis.setState({ loading_more: true });\r\n\t\t\tthis.__getOrders(user.data.auth_token);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.cancel !== nextProps.cancel) {\r\n\t\t\t//call to handle afterCancellation from parent\r\n\t\t\tif (nextProps.cancel.success) {\r\n\t\t\t\tthis.setState({ cancelSuccess: true });\r\n\t\t\t\tconst { user } = this.props;\r\n\t\t\t\tif (user.success) {\r\n\t\t\t\t\t// this.props.getOrders(user.data.auth_token);\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.removeScrollEvent();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (localStorage.getItem(\"hideDesktopView\") !== \"true\" &&  window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tconst { user } = this.props;\r\n\t\tconst { orders } = this.state;\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tif (!user.success) {\r\n\t\t\treturn <Redirect to={\"/login\"} />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"accountMyOrders\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"accountMyOrders\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\tgoto_accounts_page={true}\r\n\t\t\t\t\thomeButton={true}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.cancelSuccess && (\r\n\t\t\t\t\t<div className=\"auth-error cancel-success\">\r\n\t\t\t\t\t\t<div className=\"\">{localStorage.getItem(\"orderCancelledText\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"block-content block-content-full pt-80 pb-80 height-100-percent px-15\">\r\n\t\t\t\t\t{this.state.loading && (\r\n\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\theight={500}\r\n\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"30\" rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"60\" rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"90\" rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={0 + 170} rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={30 + 170} rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={60 + 170} rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={90 + 170} rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={0 + 340} rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={30 + 340} rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={60 + 340} rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={90 + 340} rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!this.state.loading && orders.length === 0 && (\r\n\t\t\t\t\t\t<div className=\"text-center mt-50 font-w600 text-muted\">\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"noOrdersText\")}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t<OrderList\r\n\t\t\t\t\t\t\tkey={order.id}\r\n\t\t\t\t\t\t\torder={order}\r\n\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\tcancelOrder={this.props.cancelOrder}\r\n\t\t\t\t\t\t\tcancel={this.props.cancel}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{this.state.loading_more && (\r\n\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\theight={600}\r\n\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"30\" rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"60\" rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"90\" rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={0 + 170} rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={30 + 170} rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={60 + 170} rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={90 + 170} rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={0 + 340} rx=\"0\" ry=\"0\" width=\"75\" height=\"22\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={30 + 340} rx=\"0\" ry=\"0\" width=\"350\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={60 + 340} rx=\"0\" ry=\"0\" width=\"300\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"0\" y={90 + 340} rx=\"0\" ry=\"0\" width=\"100\" height=\"18\" />\r\n\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\t// orders: state.orders.orders,\r\n\tcancel: state.orders.cancel,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getOrders, cancelOrder }\r\n)(Orders);\r\n","import { GET_ORDERS, CANCEL_ORDER } from \"./actionTypes\";\r\nimport { GET_ORDERS_URL, GET_ORDER_CANCEL_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getOrders = (token) => (dispatch) => {\r\n\tAxios.post(GET_ORDERS_URL, {\r\n\t\ttoken: token,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst orders = response.data;\r\n\t\t\treturn dispatch({ type: GET_ORDERS, payload: orders });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const cancelOrder = (token, user_id, order_id) => (dispatch) => {\r\n\tAxios.post(GET_ORDER_CANCEL_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t\torder_id: order_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst res = response.data;\r\n\t\t\treturn dispatch({ type: CANCEL_ORDER, payload: res });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n"],"sourceRoot":""}