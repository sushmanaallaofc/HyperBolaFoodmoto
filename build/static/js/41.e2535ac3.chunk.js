(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{509:function(e,t,a){"use strict";a.r(t);var o=a(3),l=a(4),r=a(6),n=a(5),i=a(7),c=a(0),s=a.n(c),m=a(514),u=a(17),d=a(49),g=a(115),p=a(119),f=a(318),h=a.n(f),b=a(11),E=a.n(b),w=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(n.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.alert,a=e.handleNotificationClick,o=JSON.parse(t.data);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"block block-link-shadow mb-3 ".concat(t.is_read&&"bg-grey"),style:{boxShadow:t.is_read?"0":"rgba(225, 225, 225, 0.34) 0px 1px 4px 1px",opacity:t.is_read?"0.8":"1",pointerEvents:t.is_read?"none":"auto",borderRadius:"3px",position:"relative"},onClick:function(){return a(t)}},o.custom_image&&s.a.createElement("img",{src:o.custom_image,className:"img-fluid mb-2",alt:o.title,style:{filter:t.is_read?"grayscale(0.9)":"none"}}),s.a.createElement("div",{className:"block-content block-content-full clearfix py-2"},s.a.createElement("span",{className:"text-muted pull-right",style:{fontSize:"0.9rem"}},"true"===localStorage.getItem("showFromNowDate")?s.a.createElement(h.a,{fromNow:!0},t.created_at):s.a.createElement(h.a,{format:"DD/MM/YYYY hh:mma"},t.created_at)),s.a.createElement("div",null,s.a.createElement("div",{className:"font-w600 font-size-h4 mb-5 ".concat(t.is_read&&"text-muted")},o.title),s.a.createElement("div",{className:"font-size-sm text-muted"},o.is_wallet_alert&&"deposit"===o.transaction_type&&s.a.createElement("strong",{className:"text-success mr-2 font-size-sm"},localStorage.getItem("walletDepositText")),o.is_wallet_alert&&"withdraw"===o.transaction_type&&s.a.createElement("strong",{className:"text-danger mr-2 font-size-sm"},localStorage.getItem("walletWithdrawText")),o.message," "),!t.is_read&&s.a.createElement("div",{className:"alert-notify-bell"},s.a.createElement("i",{className:"si si-bell",style:{color:localStorage.getItem("storeColor")}})))),s.a.createElement(E.a,{duration:500,hasTouch:!1})))))}}]),t}(c.Component),N=a(159),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(n.a)(t)).call.apply(e,[this].concat(i)))).handleMarkAllRead=function(){var e=a.props.user;e.success&&a.props.markAllNotificationsRead(e.data.id,e.data.auth_token)},a.handleNotificationClick=function(e){var t=a.props.user;console.log("Notification Clicked"),t.success&&a.props.markOneNotificationRead(t.data.id,e.id,t.data.auth_token).then(function(t){var o=JSON.parse(e.data),l=o.unique_order_id,r=o.custom_notification,n=o.click_action,i=o.is_wallet_alert;l&&(console.log("Order tracking notification"),a.context.router.history.push("/running-order/".concat(l))),r&&n&&(console.log("Custom Notification"),window.location.href=n),i&&a.context.router.history.push("/my-wallet")})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.alerts.length&&document.getElementsByTagName("body")[0].classList.add("bg-grey-light");var e=this.props.user;null!==localStorage.getItem("storeColor")&&e.success&&this.props.getUserNotifications(e.data.id,e.data.auth_token)}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey-light")}},{key:"render",value:function(){var e=this;if("true"!==localStorage.getItem("hideDesktopView")&&window.innerWidth>768)return s.a.createElement(m.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return s.a.createElement(m.a,{to:"/"});var t=this.props,a=t.user,o=t.alerts;return a.success?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{seotitle:localStorage.getItem("footerAlerts"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),s.a.createElement(g.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("footerAlerts"),disable_search:!0}),s.a.createElement("div",{className:"block-content block-content-full mb-100"},o.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-sm btn-clear-alerts float-right mt-50 mb-3",style:{position:"relative"},onClick:this.handleMarkAllRead},localStorage.getItem("markAllAlertReadText")," ",s.a.createElement("i",{className:"si si-check ml-1"}),s.a.createElement(E.a,{duration:500,hasTouch:!0})),s.a.createElement("div",{className:"clearfix"}),o.map(function(t){return s.a.createElement(s.a.Fragment,{key:t.id},s.a.createElement(w,{alert:t,handleNotificationClick:e.handleNotificationClick}))})):s.a.createElement("div",{className:"text-center mt-50 font-w600 text-muted pt-100"},s.a.createElement("div",{className:"pb-10"},s.a.createElement("i",{className:"si si-bell",style:{fontSize:"10rem",color:"#eee"}})),s.a.createElement("p",{style:{color:"#ccc"}},localStorage.getItem("noNewAlertsText")))),s.a.createElement(p.a,{active_alerts:!0})):s.a.createElement(m.a,{to:"/login"})}}]),t}(c.Component);k.contextTypes={router:function(){return null}};t.default=Object(u.b)(function(e){return{user:e.user.user,alerts:e.alert.alerts}},{getUserNotifications:N.a,markAllNotificationsRead:N.b,markOneNotificationRead:N.c})(k)}}]);
//# sourceMappingURL=41.e2535ac3.chunk.js.map