{"version":3,"sources":["components/Mobile/Alerts/AlertList/index.js","components/Mobile/Alerts/index.js"],"names":["AlertList","_this$props","this","props","alert","handleNotificationClick","data","JSON","parse","react_default","a","createElement","Fragment","className","concat","is_read","style","boxShadow","opacity","pointerEvents","borderRadius","position","onClick","custom_image","src","alt","title","filter","fontSize","localStorage","getItem","dist_default","fromNow","created_at","format","is_wallet_alert","transaction_type","message","color","ink_default","duration","hasTouch","Component","Alerts","handleMarkAllRead","user","_this","success","markAllNotificationsRead","id","auth_token","console","log","markOneNotificationRead","then","response","unique_order_id","custom_notification","click_action","context","router","history","push","window","location","href","alerts","length","document","getElementsByTagName","classList","add","getUserNotifications","remove","_this2","innerWidth","Redirect","to","meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","twittertitle","twitterdescription","BackWithSearch","boxshadow","has_title","disable_search","map","key","Alerts_AlertList","Footer","active_alerts","contextTypes","connect","state"],"mappings":"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","file":"static/js/41.e2535ac3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass AlertList extends Component {\r\n\trender() {\r\n\t\tconst { alert, handleNotificationClick } = this.props;\r\n\t\tconst data = JSON.parse(alert.data);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`block block-link-shadow mb-3 ${alert.is_read && \"bg-grey\"}`}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tboxShadow: !alert.is_read ? \"rgba(225, 225, 225, 0.34) 0px 1px 4px 1px\" : \"0\",\r\n\t\t\t\t\t\t\t\topacity: !alert.is_read ? \"1\" : \"0.8\",\r\n\t\t\t\t\t\t\t\tpointerEvents: !alert.is_read ? \"auto\" : \"none\",\r\n\t\t\t\t\t\t\t\tborderRadius: \"3px\",\r\n\t\t\t\t\t\t\t\tposition: \"relative\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={() => handleNotificationClick(alert)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{data.custom_image && (\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={data.custom_image}\r\n\t\t\t\t\t\t\t\t\tclassName=\"img-fluid mb-2\"\r\n\t\t\t\t\t\t\t\t\talt={data.title}\r\n\t\t\t\t\t\t\t\t\tstyle={{ filter: alert.is_read ? \"grayscale(0.9)\" : \"none\" }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-2\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-muted pull-right\" style={{ fontSize: \"0.9rem\" }}>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"showFromNowDate\") === \"true\" ? (\r\n\t\t\t\t\t\t\t\t\t\t<Moment fromNow>{alert.created_at}</Moment>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Moment format=\"DD/MM/YYYY hh:mma\">{alert.created_at}</Moment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className={`font-w600 font-size-h4 mb-5 ${alert.is_read && \"text-muted\"}`}>\r\n\t\t\t\t\t\t\t\t\t\t{data.title}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t{data.is_wallet_alert && data.transaction_type === \"deposit\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<strong className=\"text-success mr-2 font-size-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletDepositText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{data.is_wallet_alert && data.transaction_type === \"withdraw\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<strong className=\"text-danger mr-2 font-size-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletWithdrawText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{data.message}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{!alert.is_read && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"alert-notify-bell\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"si si-bell\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Ink duration={500} hasTouch={false} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AlertList;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Footer from \"../Footer\";\r\nimport AlertList from \"./AlertList\";\r\nimport {\r\n\tgetUserNotifications,\r\n\tmarkAllNotificationsRead,\r\n\tmarkOneNotificationRead,\r\n} from \"../../../services/alert/actions\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass Alerts extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.alerts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\r\n\t\tconst { user } = this.props;\r\n\t\tif (localStorage.getItem(\"storeColor\") !== null) {\r\n\t\t\tif (user.success) {\r\n\t\t\t\tthis.props.getUserNotifications(user.data.id, user.data.auth_token);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleMarkAllRead = () => {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markAllNotificationsRead(user.data.id, user.data.auth_token);\r\n\t\t}\r\n\t};\r\n\r\n\thandleNotificationClick = (alert) => {\r\n\t\tconst { user } = this.props;\r\n\t\tconsole.log(\"Notification Clicked\");\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markOneNotificationRead(user.data.id, alert.id, user.data.auth_token).then((response) => {\r\n\t\t\t\tconst data = JSON.parse(alert.data);\r\n\t\t\t\tconst unique_order_id = data.unique_order_id;\r\n\t\t\t\tconst custom_notification = data.custom_notification;\r\n\t\t\t\tconst click_action = data.click_action;\r\n\t\t\t\tconst is_wallet_alert = data.is_wallet_alert;\r\n\r\n\t\t\t\tif (unique_order_id) {\r\n\t\t\t\t\tconsole.log(\"Order tracking notification\");\r\n\t\t\t\t\tthis.context.router.history.push(`/running-order/${unique_order_id}`);\r\n\t\t\t\t}\r\n\t\t\t\tif (custom_notification && click_action) {\r\n\t\t\t\t\tconsole.log(\"Custom Notification\");\r\n\t\t\t\t\twindow.location.href = click_action;\r\n\t\t\t\t}\r\n\t\t\t\tif (is_wallet_alert) {\r\n\t\t\t\t\tthis.context.router.history.push(\"/my-wallet\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (localStorage.getItem(\"hideDesktopView\") !== \"true\" &&  window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user, alerts } = this.props;\r\n\r\n\t\tif (!user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to login page if not loggedin\r\n\t\t\t\t<Redirect to={\"/login\"} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"block-content block-content-full mb-100\">\r\n\t\t\t\t\t{alerts.length ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-clear-alerts float-right mt-50 mb-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\tonClick={this.handleMarkAllRead}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"markAllAlertReadText\")} <i className=\"si si-check ml-1\" />\r\n\t\t\t\t\t\t\t\t<Ink duration={500} hasTouch={true} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\" />\r\n\t\t\t\t\t\t\t{alerts.map((alert) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={alert.id}>\r\n\t\t\t\t\t\t\t\t\t<AlertList alert={alert} handleNotificationClick={this.handleNotificationClick} />\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"text-center mt-50 font-w600 text-muted pt-100\">\r\n\t\t\t\t\t\t\t<div className=\"pb-10\">\r\n\t\t\t\t\t\t\t\t<i className=\"si si-bell\" style={{ fontSize: \"10rem\", color: \"#eee\" }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p style={{ color: \"#ccc\" }}>{localStorage.getItem(\"noNewAlertsText\")}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer active_alerts={true} />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\talerts: state.alert.alerts,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getUserNotifications, markAllNotificationsRead, markOneNotificationRead }\r\n)(Alerts);\r\n"],"sourceRoot":""}