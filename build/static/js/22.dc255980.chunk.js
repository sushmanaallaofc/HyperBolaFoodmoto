(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{320:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return c});var r=a(38),n=a(9),s=a(8),o=a.n(s),l=function(e,t,a){return function(s){o.a.post(n.r,{user_id:e,token:t,restaurant_id:a}).then(function(e){var t=e.data;return s({type:r.b,payload:t})}).catch(function(e){console.log(e)})}},d=function(e,t,a,s,l,d,i,c,u,h){return function(m){o.a.post(n.tb,{token:t,user_id:e,latitude:a,longitude:s,address:l,house:d,tag:i,city:c,state:u,get_only_default_address:h}).then(function(e){var t=e.data;return m({type:r.c,payload:t})}).catch(function(e){console.log(e)})}},i=function(e,t,a){return function(s){o.a.post(n.l,{token:a,user_id:e,address_id:t}).then(function(e){var t=e.data;return s({type:r.a,payload:t})}).catch(function(e){console.log(e)})}},c=function(e,t,a){return function(s){return o.a.post(n.zb,{token:a,user_id:e,address_id:t}).then(function(e){var t=e.data;return s({type:r.d,payload:t})}).catch(function(e){console.log(e)})}}},324:function(e,t,a){"use strict";var r=a(3),n=a(4),s=a(6),o=a(5),l=a(7),d=a(0),i=a.n(d),c=a(11),u=a.n(c),h=a(498),m=a(503),p=a(464),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={dropdownItem:null},a.handleSetDefaultAddress=function(e,t){e.target.classList.contains("si")||a.props.handleSetDefaultAddress(t.id,t)},a.handleDropdown=function(e){a.setState({dropdownItem:e.currentTarget})},a.handleDropdownClose=function(){a.setState({dropdownItem:null})},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,r=t.address;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:!r.is_operational&&this.props.fromCartPage?"bg-white single-address-card d-flex no-click":"bg-white single-address-card d-flex",onClick:function(t){return e.handleSetDefaultAddress(t,r)},style:{position:"relative"}},i.a.createElement("div",{className:!r.is_operational&&this.props.fromCartPage?"address-not-usable w-100":"w-100"},a.data.default_address_id===r.id?i.a.createElement("button",{className:"btn btn-sm pull-right btn-address-default p-0 m-0",style:{border:"0",right:"0px",fontSize:"1.3rem"}},i.a.createElement("i",{className:"si si-check",style:{color:localStorage.getItem("storeColor")}}),i.a.createElement(u.a,{duration:200})):i.a.createElement(i.a.Fragment,null,this.props.fromCartPage&&i.a.createElement(i.a.Fragment,null,!r.is_operational&&i.a.createElement("span",{className:"text-danger text-uppercase font-w600 text-sm08"}," ",i.a.createElement("i",{className:"si si-close"})," ",localStorage.getItem("addressDoesnotDeliverToText")))),null!==r.tag&&i.a.createElement("h6",{className:"m-0 text-uppercase"},i.a.createElement("strong",null,r.tag)),i.a.createElement("div",null,null!==r.house&&i.a.createElement("p",{className:"m-0 text-capitalize"},null===r.tag?i.a.createElement("strong",null,r.house):i.a.createElement("span",null,r.house)),i.a.createElement("p",{className:"m-0 text-capitalize text-sm08"},r.address))),i.a.createElement("div",null,!this.props.fromCartPage&&this.props.deleteButton&&i.a.createElement(i.a.Fragment,null,a.data.default_address_id!==r.id&&i.a.createElement("button",{className:"btn btn-sm pull-right btn-address-default p-0 m-0 btn-delete-address",style:{border:"0",right:"0px",fontSize:"1.3rem",zIndex:2}},i.a.createElement("i",{className:"si si-trash",style:{fontSize:"1.3rem"},onClick:this.handleDropdown})))),i.a.createElement(u.a,{duration:500,hasTouch:!0})),i.a.createElement(h.a,{id:"simple-menu",keepMounted:!0,anchorEl:this.state.dropdownItem,open:Boolean(this.state.dropdownItem),onClose:this.handleDropdownClose,TransitionComponent:p.a,MenuListProps:{disablePadding:!0},elevation:3,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},i.a.createElement(m.a,{onClick:function(){e.props.handleDeleteAddress(r.id),e.handleDropdownClose()}},localStorage.getItem("deleteAddressText"))))}}]),t}(d.Component);t.a=g},471:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(4),s=a(6),o=a(5),l=a(7),d=a(0),i=a.n(d),c=a(320),u=a(93),h=a(324),m=a(115),p=a(18),g=a(57),f=a(11),y=a.n(f),E=a(514),b=a(17),x=a(116),w=a(12),v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={no_address:!1,loading:!1,restaurant_id:null},a.handleSaveNewAddress=function(e){var t=a.props.user;t.success&&(a.setState({loading:!0}),a.props.saveAddress(t.data.id,t.data.auth_token,e))},a.handleSetDefaultAddress=function(e,t){var r=a.props.user;r.success&&a.props.setDefaultAddress(r.data.id,e,r.data.auth_token).then(function(){a.setState({loading:!0}),new Promise(function(e){var a={lat:t.latitude,lng:t.longitude,address:t.address,house:t.house,tag:t.tag,city:t.city,state:t.state};localStorage.setItem("userSetAddress",JSON.stringify(a)),e("Address Saved")}).then(function(){a.setState({loading:!1}),"1"===localStorage.getItem("fromCart")?(localStorage.removeItem("fromCart"),a.context.router.history.push("/cart")):(a.props.clearRestaurantList(),a.context.router.history.goBack())})})},a.handleDeleteAddress=function(e){var t=a.props.user;t.success&&(a.setState({loading:!0}),a.props.deleteAddress(t.data.id,e,t.data.auth_token))},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementsByTagName("body")[0].classList.add("bg-light");var t=this.props.user;"undefined"!==typeof this.props.location.state?this.setState({restaurant_id:this.props.location.state.restaurant_id},function(){null!==localStorage.getItem("storeColor")&&t.success&&(e.props.getAddresses(t.data.id,t.data.auth_token,e.state.restaurant_id),e.props.updateUserInfo(t.data.id,t.data.auth_token))}):null!==localStorage.getItem("storeColor")&&t.success&&(this.props.getAddresses(t.data.id,t.data.auth_token,this.state.restaurant_id),this.props.updateUserInfo(t.data.id,t.data.auth_token))}},{key:"componentWillReceiveProps",value:function(e){0===e.addresses.length&&this.setState({no_address:!0,loading:!1}),this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-light")}},{key:"render",value:function(){var e=this;if("true"!==localStorage.getItem("hideDesktopView")&&window.innerWidth>768)return i.a.createElement(E.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return i.a.createElement(E.a,{to:"/"});var t=this.props,a=t.addresses,r=t.user;return r.success?i.a.createElement(i.a.Fragment,null,this.state.loading?i.a.createElement(w.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("accountManageAddress"),disable_search:!0,homeButton:!0}),i.a.createElement("div",{className:"block-content block-content-full pt-80 pb-50 height-100-percent"},0===a.length&&!this.state.no_address&&i.a.createElement(p.a,{height:600,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:"60",rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:"90",rx:"0",ry:"0",width:"100",height:"18"}),i.a.createElement("rect",{x:"0",y:170,rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:200,rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:230,rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:260,rx:"0",ry:"0",width:"100",height:"18"}),i.a.createElement("rect",{x:"0",y:340,rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:370,rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:400,rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:430,rx:"0",ry:"0",width:"100",height:"18"})),a.length?a.map(function(t){return i.a.createElement(h.a,{handleDeleteAddress:e.handleDeleteAddress,deleteButton:!0,key:t.id,address:t,user:r,fromCartPage:null!==e.state.restaurant_id,handleSetDefaultAddress:e.handleSetDefaultAddress})}):i.a.createElement("div",{className:"text-center mt-50 font-w600 text-muted"},localStorage.getItem("noAddressText"))),i.a.createElement(g.a,{to:"/search-location",className:"btn-new-address",style:{backgroundColor:localStorage.getItem("storeColor"),zIndex:"2"}},localStorage.getItem("buttonNewAddress"),i.a.createElement(y.a,{duration:200})))):i.a.createElement(E.a,{to:"/login"})}}]),t}(d.Component);v.contextTypes={router:function(){return null}};t.default=Object(b.b)(function(e){return{user:e.user.user,addresses:e.addresses.addresses}},{getAddresses:c.b,saveAddress:c.c,deleteAddress:c.a,updateUserInfo:x.s,setDefaultAddress:c.d,clearRestaurantList:u.a})(v)}}]);
//# sourceMappingURL=22.dc255980.chunk.js.map