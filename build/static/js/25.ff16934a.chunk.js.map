{"version":3,"sources":["components/Mobile/Checkout/PaymentList/VerifyPayment/index.js"],"names":["VerifyPayment","props","_this","Object","C_Sushma_Projects_Hrithik_NEWSWIGGY_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Sushma_Projects_Hrithik_NEWSWIGGY_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Sushma_Projects_Hrithik_NEWSWIGGY_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","verifying","error","_this2","transaction_id","match","params","Axios","post","PAYU_PROCESS_VERIFY_URL","unique_order_id","then","response","_response$data","data","key","hash","command","var1","transaction_details","status","history","push","catch","setState","message","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Component"],"mappings":"gLAIMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXC,WAAW,EACXC,MAAO,IAJQT,mFAQC,IAAAU,EAAAP,KACVQ,EAAmBR,KAAKJ,MAAMa,MAAMC,OAApCF,eAEJA,EACFG,IAAMC,KAAKC,KAAyB,CAClCC,gBAAiBN,IAEhBO,KAAK,SAACC,GAAa,IAAAC,EACID,EAASE,KACzBA,EAAO,CACXC,IAHgBF,EACVE,IAGNC,KAJgBH,EACLG,KAIXC,QAAS,iBACTC,KAAMd,GAGRG,IAAMC,KAAK,qDAAsDM,GAC9DH,KAAK,SAACC,GAGU,YAFIA,EAASE,KAAKK,oBAAoBf,GAA7CgB,OAGNjB,EAAKX,MAAM6B,QAAQC,KAAK,kBAAoBlB,GAE5CD,EAAKX,MAAM6B,QAAQC,KAAK,gBAG3BC,MAAM,SAACrB,GACNC,EAAKqB,SAAS,CAAEvB,WAAW,EAAOC,MAAOA,EAAMuB,cAGpDF,MAAM,SAACrB,GACNC,EAAKqB,SAAS,CAAEvB,WAAW,EAAOC,MAAOA,EAAMuB,YAGnD7B,KAAK4B,SAAS,CAAEvB,WAAW,EAAOC,MAAO,gFAIpC,IAAAwB,EACsB9B,KAAKI,MAA1BC,EADDyB,EACCzB,UAAWC,EADZwB,EACYxB,MAEnB,OACEyB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAAd,qBACC7B,EACC0B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAAf,kBAEAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAA0B5B,WAxDvB6B,aA+DbxC","file":"static/js/25.ff16934a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { PAYU_PROCESS_VERIFY_URL } from \"../../../../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nclass VerifyPayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      error: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { transaction_id } = this.props.match.params;\r\n\r\n    if (transaction_id) {\r\n      Axios.post(PAYU_PROCESS_VERIFY_URL, {\r\n        unique_order_id: transaction_id,\r\n      })\r\n        .then((response) => {\r\n          const { key, hash } = response.data;\r\n          const data = {\r\n            key,\r\n            hash,\r\n            command: \"verify_payment\",\r\n            var1: transaction_id,\r\n          };\r\n\r\n          Axios.post(\"https://secure.payu.in/merchant/postservice?form=2\", data)\r\n            .then((response) => {\r\n              const { status } = response.data.transaction_details[transaction_id];\r\n\r\n              if (status === \"success\") {\r\n                this.props.history.push(\"/running-order/\" + transaction_id);\r\n              } else {\r\n                this.props.history.push(\"/my-orders\");\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.setState({ verifying: false, error: error.message });\r\n            });\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ verifying: false, error: error.message });\r\n        });\r\n    } else {\r\n      this.setState({ verifying: false, error: \"Transaction ID not found in URL parameter.\" });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { verifying, error } = this.state;\r\n\r\n    return (\r\n      <div className=\"verify-payment-container\">\r\n        <h2 className=\"verify-payment-heading\">Verifying Payment</h2>\r\n        {verifying ? (\r\n          <div className=\"verify-payment-message\">Please Wait...</div>\r\n        ) : (\r\n          <div className=\"verify-payment-message\">{error}</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VerifyPayment;\r\n"],"sourceRoot":""}